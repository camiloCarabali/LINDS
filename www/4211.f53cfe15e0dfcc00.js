"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4211],{4211:(f,u,c)=>{c.r(u),c.d(u,{ConductorPageModule:()=>P});var h=c(6895),d=c(4719),e=c(9928),g=c(1519),o=c(6353);let p,C,m,l;const M=[{path:"",component:(()=>{class n{constructor(){this.sourceLocation="",this.destinationLocation="",this.directionsService=new google.maps.DirectionsService,this.directionsDisplay=new google.maps.DirectionsRenderer}ngOnInit(){this.loadMap()}loadMap(){const t=document.getElementById("map"),i=document.getElementById("indicators"),a={lat:3.374653,lng:-76.514308};l=new google.maps.Map(t,{center:a,zoom:12}),this.directionsDisplay.setMap(l),this.directionsDisplay.setPanel(i),google.maps.event.addListenerOnce(l,"idle",()=>{t.classList.add("show-map"),this.calculateAndDisplayRoute()}),p=new google.maps.Marker({position:a,map:l}),this.getUserLocation()}calculateAndDisplayRoute(){this.directionsService.route({origin:{query:this.sourceLocation},destination:{query:this.destinationLocation},travelMode:google.maps.TravelMode.DRIVING}).then(t=>{this.directionsDisplay.setDirections(t)})}getUserLocation(){navigator.geolocation&&(m=navigator.geolocation,C=m.watchPosition(this.showLocationOnMap,this.errorHandler,{setTimeout:5e3}))}showLocationOnMap(t){var i=t.coords.latitude,a=t.coords.longitude;console.log("Latitud: "+i+" Longitud: "+a);const r={lat:i,lng:a};p.setPosition(r),l.setCenter(r)}errorHandler(t){1==t.code?alert("Error Acceso denegado"):2==t.code&&alert("Error: position no existe o no se encuentra")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-conductor"]],decls:17,vars:2,consts:[["position","floating"],[3,"ngModel","ngModelChange"],["expand","full",3,"click"],["id","map"],["id","indicators"]],template:function(t,i){1&t&&(o.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),o._uU(3,"conductor"),o.qZA()()(),o.TgZ(4,"ion-content")(5,"ion-item")(6,"ion-label",0),o._uU(7,"From"),o.qZA(),o.TgZ(8,"ion-input",1),o.NdJ("ngModelChange",function(r){return i.sourceLocation=r}),o.qZA()(),o.TgZ(9,"ion-item")(10,"ion-label",0),o._uU(11,"To"),o.qZA(),o.TgZ(12,"ion-input",1),o.NdJ("ngModelChange",function(r){return i.destinationLocation=r}),o.qZA()(),o.TgZ(13,"ion-button",2),o.NdJ("click",function(){return i.calculateAndDisplayRoute()}),o._uU(14,"Get direction"),o.qZA(),o._UZ(15,"div",3)(16,"div",4),o.qZA()),2&t&&(o.xp6(8),o.Q6J("ngModel",i.sourceLocation),o.xp6(4),o.Q6J("ngModel",i.destinationLocation))},dependencies:[d.JJ,d.On,e.YG,e.W2,e.Gu,e.pK,e.Ie,e.Q$,e.wd,e.sr,e.j9],styles:["ion-content[_ngcontent-%COMP%]   #map[_ngcontent-%COMP%]{width:100%;height:100%;opacity:0;transition:opacity .15s ease-in;display:block}ion-content[_ngcontent-%COMP%]   #map.show-map[_ngcontent-%COMP%]{opacity:1}ion-content[_ngcontent-%COMP%]   #indicators[_ngcontent-%COMP%]{padding:16px;height:40%;width:100%;overflow-y:auto;display:block}"]}),n})()}];let y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[g.Bz.forChild(M),g.Bz]}),n})(),P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[h.ez,d.u5,e.Pc,y]}),n})()}}]);