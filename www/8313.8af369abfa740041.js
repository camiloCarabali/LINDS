"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8313],{8313:(A,d,i)=>{i.r(d),i.d(d,{SucursalPageModule:()=>x});var g=i(6895),f=i(4719),r=i(9928),m=i(1519),u=i(5861),h=i(2339),Z=i(4221),o=i(6353),v=i(1343),S=i(5623);function P(t,c){if(1&t){const n=o.EpF();o.TgZ(0,"ion-row")(1,"ion-col")(2,"div")(3,"ion-label"),o._uU(4),o.qZA()()(),o.TgZ(5,"ion-col")(6,"div")(7,"ion-label"),o._uU(8),o.qZA()()(),o.TgZ(9,"ion-col")(10,"div")(11,"ion-label"),o._uU(12),o.qZA()()(),o.TgZ(13,"ion-col")(14,"div")(15,"ion-label"),o._uU(16),o.qZA()()(),o.TgZ(17,"ion-col")(18,"div")(19,"ion-icon",9),o.NdJ("click",function(){const s=o.CHM(n).$implicit,l=o.oxw();return o.KtG(l.showModalUpdate(s))}),o.qZA(),o.TgZ(20,"ion-icon",10),o.NdJ("click",function(){const s=o.CHM(n).$implicit,l=o.oxw();return o.KtG(l.eliminarSucursal(s.id))}),o.qZA()()()()}if(2&t){const n=c.$implicit;o.xp6(4),o.hij(" ",n.nombre," "),o.xp6(4),o.hij(" ",n.ciudad," "),o.xp6(4),o.hij(" ",n.direccion," "),o.xp6(4),o.hij(" ",n.empresa," ")}}const T=[{path:"",component:(()=>{class t{constructor(n,e,a){this.firestore=n,this.modalCtrl=e,this.interaction=a,this.susursal={id:null,empresa:null,nombre:null,ciudad:null,direccion:null},this.sucursales=[]}ngOnInit(){this.mostrarSucursales()}mostrarSucursales(){var n=this;return(0,u.Z)(function*(){n.firestore.read("Sucursales").then(a=>{a.subscribe(s=>{n.sucursales=s.map(l=>{let p=l.payload.doc.data();return p.id=l.payload.doc.id,p})})})})()}eliminarSucursal(n){var e=this;return(0,u.Z)(function*(){e.interaction.showLoading("eliminando..."),e.firestore.delete("Sucursales",n).then(s=>{e.interaction.closeLoading(),e.interaction.presentToast("Sucursal eliminada con exito.")}).catch(s=>{e.interaction.closeLoading(),e.interaction.presentToast("Error al eliminar.")})})()}showModalCreate(){var n=this;return(0,u.Z)(function*(){return yield(yield n.modalCtrl.create({component:h.d})).present()})()}showModalUpdate(n){var e=this;return(0,u.Z)(function*(){return yield(yield e.modalCtrl.create({component:Z.f,componentProps:{branch:n}})).present()})()}}return t.\u0275fac=function(n){return new(n||t)(o.Y36(v.C),o.Y36(r.IN),o.Y36(S.y))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-sucursal"]],decls:31,vars:3,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["collapse","condense"],["size","large"],["id","titulo"],[4,"ngFor","ngForOf"],["vertical","bottom ","horizontal","end","slot","fixed"],["name","add",3,"click"],["name","create","color","warning","button","",3,"click"],["button","","color","danger","name","trash",3,"click"]],template:function(n,e){1&n&&(o.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),o._UZ(3,"ion-menu-button"),o.qZA(),o.TgZ(4,"ion-title"),o._uU(5,"Sucursales"),o.qZA()()(),o.TgZ(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),o._uU(10,"sucursal"),o.qZA()()(),o.TgZ(11,"ion-grid")(12,"ion-row")(13,"ion-col")(14,"div",5),o._uU(15,"Nombre"),o.qZA()(),o.TgZ(16,"ion-col")(17,"div",5),o._uU(18,"Ciudad"),o.qZA()(),o.TgZ(19,"ion-col")(20,"div",5),o._uU(21,"Direccion"),o.qZA()(),o.TgZ(22,"ion-col")(23,"div",5),o._uU(24,"Empresa"),o.qZA()(),o.TgZ(25,"ion-col"),o._UZ(26,"div"),o.qZA()(),o.YNc(27,P,21,4,"ion-row",6),o.qZA(),o.TgZ(28,"ion-fab",7)(29,"ion-fab-button")(30,"ion-icon",8),o.NdJ("click",function(){return e.showModalCreate()}),o.qZA()()()()),2&n&&(o.Q6J("translucent",!0),o.xp6(6),o.Q6J("fullscreen",!0),o.xp6(21),o.Q6J("ngForOf",e.sucursales))},dependencies:[g.sg,r.Sm,r.wI,r.W2,r.IJ,r.W4,r.jY,r.Gu,r.gu,r.Q$,r.fG,r.Nd,r.wd,r.sr],styles:["#icono[_ngcontent-%COMP%]{padding:5px}#label[_ngcontent-%COMP%]{cursor:pointer}#titulo[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase}div[_ngcontent-%COMP%]{text-align:center}ion-col[_ngcontent-%COMP%]{border:solid 1px grey}ion-icon[_ngcontent-%COMP%]{font-size:35px;cursor:pointer}"]}),t})()}];let C=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[m.Bz.forChild(T),m.Bz]}),t})();var M=i(3258);let x=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[g.ez,f.u5,r.Pc,C,M.ModificarSucursalPageModule]}),t})()}}]);