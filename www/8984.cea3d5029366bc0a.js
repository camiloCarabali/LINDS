"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8984],{8984:(y,p,i)=>{i.r(p),i.d(p,{EmpresaPageModule:()=>x});var u=i(6895),f=i(4719),r=i(9928),d=i(1519),m=i(5861),h=i(1711),Z=i(2483),e=i(6353),E=i(1343),v=i(5623);function P(n,c){if(1&n){const o=e.EpF();e.TgZ(0,"ion-row")(1,"ion-col")(2,"div")(3,"ion-label"),e._uU(4),e.qZA()()(),e.TgZ(5,"ion-col")(6,"div")(7,"ion-label"),e._uU(8),e.qZA()()(),e.TgZ(9,"ion-col")(10,"div")(11,"ion-icon",9),e.NdJ("click",function(){const s=e.CHM(o).$implicit,l=e.oxw();return e.KtG(l.showModalUpdate(s))}),e.qZA(),e.TgZ(12,"ion-icon",10),e.NdJ("click",function(){const s=e.CHM(o).$implicit,l=e.oxw();return e.KtG(l.eliminarEmpresa(s.id))}),e.qZA()()()()}if(2&n){const o=c.$implicit;e.xp6(4),e.Oqu(o.nombre),e.xp6(4),e.Oqu(o.nit)}}const C=[{path:"",component:(()=>{class n{constructor(o,t,a,s){this.firestore=o,this.modalCtrl=t,this.interaction=a,this.router=s,this.empresa={id:null,nombre:null,nit:null},this.empresas=[]}ngOnInit(){this.mostrarEmpresas()}mostrarEmpresas(){var o=this;return(0,m.Z)(function*(){o.firestore.read("Empresas").then(a=>{a.subscribe(s=>{o.empresas=s.map(l=>{let g=l.payload.doc.data();return g.id=l.payload.doc.id,g})})})})()}eliminarEmpresa(o){var t=this;return(0,m.Z)(function*(){t.interaction.showLoading("eliminando..."),t.firestore.delete("Empresas",o).then(s=>{t.interaction.closeLoading(),t.interaction.presentToast("Empresa eliminada con exito.")}).catch(s=>{t.interaction.closeLoading(),t.interaction.presentToast("Error al eliminar.")})})()}showModalCreate(){var o=this;return(0,m.Z)(function*(){return yield(yield o.modalCtrl.create({component:h.X})).present()})()}showModalUpdate(o){var t=this;return(0,m.Z)(function*(){return yield(yield t.modalCtrl.create({component:Z.u,componentProps:{business:o}})).present()})()}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(E.C),e.Y36(r.IN),e.Y36(v.y),e.Y36(d.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-empresa"]],decls:25,vars:3,consts:[[3,"translucent"],["slot","start"],[3,"fullscreen"],["collapse","condense"],["size","large"],["id","titulo"],[4,"ngFor","ngForOf"],["vertical","bottom ","horizontal","end","slot","fixed"],["name","add",3,"click"],["name","create","color","warning","button","",3,"click"],["button","","color","danger","name","trash",3,"click"]],template:function(o,t){1&o&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e._UZ(3,"ion-menu-button"),e.qZA(),e.TgZ(4,"ion-title"),e._uU(5,"Empresas"),e.qZA()()(),e.TgZ(6,"ion-content",2)(7,"ion-header",3)(8,"ion-toolbar")(9,"ion-title",4),e._uU(10,"Empresas"),e.qZA()()(),e.TgZ(11,"ion-grid")(12,"ion-row")(13,"ion-col")(14,"div",5),e._uU(15,"Nombre"),e.qZA()(),e.TgZ(16,"ion-col")(17,"div",5),e._uU(18,"NIT"),e.qZA()(),e.TgZ(19,"ion-col"),e._UZ(20,"div"),e.qZA()(),e.YNc(21,P,13,2,"ion-row",6),e.qZA(),e.TgZ(22,"ion-fab",7)(23,"ion-fab-button")(24,"ion-icon",8),e.NdJ("click",function(){return t.showModalCreate()}),e.qZA()()()()),2&o&&(e.Q6J("translucent",!0),e.xp6(6),e.Q6J("fullscreen",!0),e.xp6(15),e.Q6J("ngForOf",t.empresas))},dependencies:[u.sg,r.Sm,r.wI,r.W2,r.IJ,r.W4,r.jY,r.Gu,r.gu,r.Q$,r.fG,r.Nd,r.wd,r.sr],styles:["#icono[_ngcontent-%COMP%]{padding:5px}#label[_ngcontent-%COMP%]{cursor:pointer}#titulo[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase}div[_ngcontent-%COMP%]{text-align:center}ion-col[_ngcontent-%COMP%]{border:solid 1px grey}ion-icon[_ngcontent-%COMP%]{font-size:35px;cursor:pointer}"]}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.Bz.forChild(C),d.Bz]}),n})();var T=i(9730);let x=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[u.ez,f.u5,r.Pc,M,T.ModificarEmpresaPageModule]}),n})()}}]);