(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{440:(Qt,at,P)=>{"use strict";P.d(at,{nm:()=>ti});var a=P(6351);P(6353),P(5867);var st=P(5861),wt=P(9681),St=P(4859),Qe=P(2090),Ae=P(1877);const Re=new Map,Ie={activated:!1,tokenObservers:[]},ye={initialized:!1,enabled:!1};function q(et){return Re.get(et)||Ie}function he(et,Ke){Re.set(et,Ke)}function ne(){return ye}class Me{constructor(Ke,_t,Nt,tn,un){if(this.operation=Ke,this.retryPolicy=_t,this.getWaitDuration=Nt,this.lowerBound=tn,this.upperBound=un,this.pending=null,this.nextErrorWaitInterval=tn,tn>un)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ke){var _t=this;return(0,st.Z)(function*(){_t.stop();try{_t.pending=new Qe.BH,yield function Ge(et){return new Promise(Ke=>{setTimeout(Ke,et)})}(_t.getNextRun(Ke)),_t.pending.resolve(),yield _t.pending.promise,_t.pending=new Qe.BH,yield _t.operation(),_t.pending.resolve(),yield _t.pending.promise,_t.process(!0).catch(()=>{})}catch(Nt){_t.retryPolicy(Nt)?_t.process(!1).catch(()=>{}):_t.stop()}})()}getNextRun(Ke){if(Ke)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const _t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),_t}}}const ft=new Qe.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function gt(et){if(!q(et).activated)throw ft.create("use-before-activation",{appName:et.name})}function Dn(et,Ke){return wn.apply(this,arguments)}function wn(){return(wn=(0,st.Z)(function*({url:et,body:Ke},_t){var Nt,tn;const un={"Content-Type":"application/json"},tr=_t.getImmediate({optional:!0});if(tr){const ds=yield tr.getHeartbeatsHeader();ds&&(un["X-Firebase-Client"]=ds)}const Ur={method:"POST",body:JSON.stringify(Ke),headers:un};let yr,Fi;try{yr=yield fetch(et,Ur)}catch(ds){throw ft.create("fetch-network-error",{originalErrorMessage:null===(Nt=ds)||void 0===Nt?void 0:Nt.message})}if(200!==yr.status)throw ft.create("fetch-status-error",{httpStatus:yr.status});try{Fi=yield yr.json()}catch(ds){throw ft.create("fetch-parse-error",{originalErrorMessage:null===(tn=ds)||void 0===tn?void 0:tn.message})}const ls=Fi.ttl.match(/^([\d.]+)(s)$/);if(!ls||!ls[2]||isNaN(Number(ls[1])))throw ft.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Fi.ttl}`});const Oi=1e3*Number(ls[1]),Us=Date.now();return{token:Fi.token,expireTimeMillis:Us+Oi,issuedAtTimeMillis:Us}})).apply(this,arguments)}function xr(et,Ke){const{projectId:_t,appId:Nt,apiKey:tn}=et.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${_t}/apps/${Nt}:exchangeDebugToken?key=${tn}`,body:{debug_token:Ke}}}const bt="firebase-app-check-store";let ar=null;function nr(){return ar||(ar=new Promise((et,Ke)=>{var _t;try{const Nt=indexedDB.open("firebase-app-check-database",1);Nt.onsuccess=tn=>{et(tn.target.result)},Nt.onerror=tn=>{var un;Ke(ft.create("storage-open",{originalErrorMessage:null===(un=tn.target.error)||void 0===un?void 0:un.message}))},Nt.onupgradeneeded=tn=>{0===tn.oldVersion&&tn.target.result.createObjectStore(bt,{keyPath:"compositeKey"})}}catch(Nt){Ke(ft.create("storage-open",{originalErrorMessage:null===(_t=Nt)||void 0===_t?void 0:_t.message}))}}),ar)}function dn(){return(dn=(0,st.Z)(function*(et,Ke){const Nt=(yield nr()).transaction(bt,"readwrite"),un=Nt.objectStore(bt).put({compositeKey:et,value:Ke});return new Promise((tr,Ur)=>{un.onsuccess=yr=>{tr()},Nt.onerror=yr=>{var Fi;Ur(ft.create("storage-set",{originalErrorMessage:null===(Fi=yr.target.error)||void 0===Fi?void 0:Fi.message}))}})})).apply(this,arguments)}const _r=new Ae.Yd("@firebase/app-check");function Cr(et,Ke){return(0,Qe.hl)()?function ur(et,Ke){return function Rr(et,Ke){return dn.apply(this,arguments)}(function hr(et){return`${et.options.appId}-${et.name}`}(et),Ke)}(et,Ke).catch(_t=>{_r.warn(`Failed to write token to IndexedDB. Error: ${_t}`)}):Promise.resolve()}function kn(){return ne().enabled}function bn(){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,st.Z)(function*(){const et=ne();if(et.enabled&&et.token)return et.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const xe={error:"UNKNOWN_ERROR"};function Le(et){return Qe.US.encodeString(JSON.stringify(et),!1)}function Ue(et){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,st.Z)(function*(et,Ke=!1){const _t=et.app;gt(_t);const Nt=q(_t);let un,tn=Nt.token;if(!tn){const yr=yield Nt.cachedTokenPromise;yr&&it(yr)&&(tn=yr)}if(!Ke&&tn&&it(tn))return{token:tn.token};let Ur,tr=!1;if(kn()){Nt.exchangeTokenPromise||(Nt.exchangeTokenPromise=Dn(xr(_t,yield bn()),et.heartbeatServiceProvider).then(Fi=>(Nt.exchangeTokenPromise=void 0,Fi)),tr=!0);const yr=yield Nt.exchangeTokenPromise;return yield Cr(_t,yr),he(_t,Object.assign(Object.assign({},Nt),{token:yr})),{token:yr.token}}try{Nt.exchangeTokenPromise||(Nt.exchangeTokenPromise=Nt.provider.getToken().then(yr=>(Nt.exchangeTokenPromise=void 0,yr)),tr=!0),tn=yield Nt.exchangeTokenPromise}catch(yr){"appCheck/throttled"===yr.code?_r.warn(yr.message):_r.error(yr),un=yr}return tn?(Ur={token:tn.token},he(_t,Object.assign(Object.assign({},Nt),{token:tn})),yield Cr(_t,tn)):Ur=He(un),tr&&er(_t,Ur),Ur})).apply(this,arguments)}function pn(et,Ke){const _t=q(et),Nt=_t.tokenObservers.filter(tn=>tn.next!==Ke);0===Nt.length&&_t.tokenRefresher&&_t.tokenRefresher.isRunning()&&_t.tokenRefresher.stop(),he(et,Object.assign(Object.assign({},_t),{tokenObservers:Nt}))}function Gn(et){const{app:Ke}=et,_t=q(Ke);let Nt=_t.tokenRefresher;Nt||(Nt=function $n(et){const{app:Ke}=et;return new Me((0,st.Z)(function*(){let Nt;if(Nt=q(Ke).token?yield Ue(et,!0):yield Ue(et),Nt.error)throw Nt.error}),()=>!0,()=>{const _t=q(Ke);if(_t.token){let Nt=_t.token.issuedAtTimeMillis+.5*(_t.token.expireTimeMillis-_t.token.issuedAtTimeMillis)+3e5;return Nt=Math.min(Nt,_t.token.expireTimeMillis-3e5),Math.max(0,Nt-Date.now())}return 0},3e4,96e4)}(et),he(Ke,Object.assign(Object.assign({},_t),{tokenRefresher:Nt}))),!Nt.isRunning()&&_t.isTokenAutoRefreshEnabled&&Nt.start()}function er(et,Ke){const _t=q(et).tokenObservers;for(const Nt of _t)try{"EXTERNAL"===Nt.type&&null!=Ke.error?Nt.error(Ke.error):Nt.next(Ke)}catch{}}function it(et){return et.expireTimeMillis-Date.now()>0}function He(et){return{token:Le(xe),error:et}}class Se{constructor(Ke,_t){this.app=Ke,this.heartbeatServiceProvider=_t}_delete(){const{tokenObservers:Ke}=q(this.app);for(const _t of Ke)pn(this.app,_t.next);return Promise.resolve()}}const ai="app-check-internal";!function lr(){(0,wt._registerComponent)(new St.wA("app-check",et=>function Rt(et,Ke){return new Se(et,Ke)}(et.getProvider("app").getImmediate(),et.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((et,Ke,_t)=>{et.getProvider(ai).initialize()})),(0,wt._registerComponent)(new St.wA(ai,et=>function Bt(et){return{getToken:Ke=>Ue(et,Ke),addTokenListener:Ke=>function jt(et,Ke,_t,Nt){const{app:tn}=et,un=q(tn),tr={next:_t,error:Nt,type:Ke};if(he(tn,Object.assign(Object.assign({},un),{tokenObservers:[...un.tokenObservers,tr]})),un.token&&it(un.token)){const Ur=un.token;Promise.resolve().then(()=>{_t({token:Ur.token}),Gn(et)}).catch(()=>{})}un.cachedTokenPromise.then(()=>Gn(et))}(et,"INTERNAL",Ke),removeTokenListener:Ke=>pn(et.app,Ke)}}(et.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,wt.registerVersion)("@firebase/app-check","0.5.12")}();class ti{constructor(){return(0,a.vb)("app-check")}}typeof window<"u"&&window},4941:(Qt,at,P)=>{"use strict";P.d(at,{zQ:()=>ut,ww:()=>dt,rT:()=>ne,f7:()=>pt,L6:()=>q,_Q:()=>he,lh:()=>ct,Qv:()=>ye,nw:()=>Vt});var a=P(6353),U=P(8929),V=P(1086),ve=P(6498),_e=P(5254),se=P(6787),oe=P(341),le=P(2654),ie=P(7770),te=P(5279),K=P(5283);class de extends U.xQ{constructor(Me=Number.POSITIVE_INFINITY,Ge=Number.POSITIVE_INFINITY,je){super(),this.scheduler=je,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=Me<1?1:Me,this._windowTime=Ge<1?1:Ge,Ge===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(Me){if(!this.isStopped){const Ge=this._events;Ge.push(Me),Ge.length>this._bufferSize&&Ge.shift()}super.next(Me)}nextTimeWindow(Me){this.isStopped||(this._events.push(new ue(this._getNow(),Me)),this._trimBufferThenGetEvents()),super.next(Me)}_subscribe(Me){const Ge=this._infiniteTimeWindow,je=Ge?this._events:this._trimBufferThenGetEvents(),ft=this.scheduler,Lt=je.length;let gt;if(this.closed)throw new te.N;if(this.isStopped||this.hasError?gt=le.w.EMPTY:(this.observers.push(Me),gt=new K.W(this,Me)),ft&&Me.add(Me=new ie.ht(Me,ft)),Ge)for(let Yt=0;Yt<Lt&&!Me.closed;Yt++)Me.next(je[Yt]);else for(let Yt=0;Yt<Lt&&!Me.closed;Yt++)Me.next(je[Yt].value);return this.hasError?Me.error(this.thrownError):this.isStopped&&Me.complete(),gt}_getNow(){return(this.scheduler||oe.c).now()}_trimBufferThenGetEvents(){const Me=this._getNow(),Ge=this._bufferSize,je=this._windowTime,ft=this._events,Lt=ft.length;let gt=0;for(;gt<Lt&&!(Me-ft[gt].time<je);)gt++;return Lt>Ge&&(gt=Math.max(gt,Lt-Ge)),gt>0&&ft.splice(0,gt),ft}}class ue{constructor(Me,Ge){this.time=Me,this.value=Ge}}function $e(qe,Me,Ge){let je;return je=qe&&"object"==typeof qe?qe:{bufferSize:qe,windowTime:Me,refCount:!1,scheduler:Ge},ft=>ft.lift(function Be({bufferSize:qe=Number.POSITIVE_INFINITY,windowTime:Me=Number.POSITIVE_INFINITY,refCount:Ge,scheduler:je}){let ft,gt,Lt=0,Yt=!1,Ln=!1;return function(wn){let yn;Lt++,!ft||Yt?(Yt=!1,ft=new de(qe,Me,je),yn=ft.subscribe(this),gt=wn.subscribe({next(Rn){ft.next(Rn)},error(Rn){Yt=!0,ft.error(Rn)},complete(){Ln=!0,gt=void 0,ft.complete()}}),Ln&&(gt=void 0)):yn=ft.subscribe(this),this.add(()=>{Lt--,yn.unsubscribe(),yn=void 0,gt&&!Ln&&Ge&&0===Lt&&(gt.unsubscribe(),gt=void 0,ft=void 0)})}}(je))}var ae=P(7545);function Ve(qe,Me){return Me?(0,ae.w)(()=>qe,Me):(0,ae.w)(()=>qe)}var De=P(4850),ht=P(7224),J=P(8915),st=P(2198),wt=P(6351),St=P(2011),Qe=P(6895),Ae=P(440),Re=P(127);const ye=new a.OlP("angularfire2.auth.use-emulator"),q=new a.OlP("angularfire2.auth.settings"),he=new a.OlP("angularfire2.auth.tenant-id"),ne=new a.OlP("angularfire2.auth.langugage-code"),ct=new a.OlP("angularfire2.auth.use-device-language"),pt=new a.OlP("angularfire.auth.persistence"),Vt=(qe,Me,Ge,je,ft,Lt,gt,Yt)=>(0,St.cc)(`${qe.name}.auth`,"AngularFireAuth",qe.name,()=>{const Ln=Me.runOutsideAngular(()=>qe.auth());if(Ge&&Ln.useEmulator(...Ge),je&&(Ln.tenantId=je),Ln.languageCode=ft,Lt&&Ln.useDeviceLanguage(),gt)for(const[Dn,wn]of Object.entries(gt))Ln.settings[Dn]=wn;return Yt&&Ln.setPersistence(Yt),Ln},[Ge,je,ft,Lt,gt,Yt]);let ut=(()=>{class qe{constructor(Ge,je,ft,Lt,gt,Yt,Ln,Dn,wn,yn,Rn,xr){const sn=new U.xQ,Tn=(0,V.of)(void 0).pipe((0,ie.QV)(gt.outsideAngular),(0,ae.w)(()=>Lt.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,5881)))),(0,De.U)(()=>(0,St.on)(Ge,Lt,je)),(0,De.U)(bt=>Vt(bt,Lt,Yt,Dn,wn,yn,Ln,Rn)),$e({bufferSize:1,refCount:!1}));if((0,Qe.PM)(ft))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,V.of)(null);else{Tn.pipe((0,ht.P)()).subscribe();const Fn=Tn.pipe((0,ae.w)(Ut=>Ut.getRedirectResult().then(ur=>ur,()=>null)),wt.iC,$e({bufferSize:1,refCount:!1})),ar=Tn.pipe((0,ae.w)(Ut=>new ve.y(ur=>({unsubscribe:Lt.runOutsideAngular(()=>Ut.onAuthStateChanged(Dr=>ur.next(Dr),Dr=>ur.error(Dr),()=>ur.complete()))})))),nr=Tn.pipe((0,ae.w)(Ut=>new ve.y(ur=>({unsubscribe:Lt.runOutsideAngular(()=>Ut.onIdTokenChanged(Dr=>ur.next(Dr),Dr=>ur.error(Dr),()=>ur.complete()))}))));this.authState=Fn.pipe(Ve(ar),(0,J.R)(gt.outsideAngular),(0,ie.QV)(gt.insideAngular)),this.user=Fn.pipe(Ve(nr),(0,J.R)(gt.outsideAngular),(0,ie.QV)(gt.insideAngular)),this.idToken=this.user.pipe((0,ae.w)(Ut=>Ut?(0,_e.D)(Ut.getIdToken()):(0,V.of)(null))),this.idTokenResult=this.user.pipe((0,ae.w)(Ut=>Ut?(0,_e.D)(Ut.getIdTokenResult()):(0,V.of)(null))),this.credential=(0,se.T)(Fn,sn,this.authState.pipe((0,st.h)(Ut=>!Ut))).pipe((0,De.U)(Ut=>Ut?.user?Ut:null),(0,J.R)(gt.outsideAngular),(0,ie.QV)(gt.insideAngular))}return(0,St.pX)(this,Tn,Lt,{spy:{apply:(bt,Fn,ar)=>{(bt.startsWith("signIn")||bt.startsWith("createUser"))&&ar.then(nr=>sn.next(nr))}}})}}return qe.\u0275fac=function(Ge){return new(Ge||qe)(a.LFG(St.Dh),a.LFG(St.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(wt.HU),a.LFG(ye,8),a.LFG(q,8),a.LFG(he,8),a.LFG(ne,8),a.LFG(ct,8),a.LFG(pt,8),a.LFG(Ae.nm,8))},qe.\u0275prov=a.Yz7({token:qe,factory:qe.\u0275fac,providedIn:"any"}),qe})(),dt=(()=>{class qe{constructor(){Re.Z.registerVersion("angularfire",wt.q4.full,"auth-compat")}}return qe.\u0275fac=function(Ge){return new(Ge||qe)},qe.\u0275mod=a.oAB({type:qe}),qe.\u0275inj=a.cJS({providers:[ut]}),qe})()},2796:(Qt,at,P)=>{"use strict";P.d(at,{ST:()=>yy,yb:()=>rf});var a=P(6353),U=P(353),V=P(6498),ve=P(5254),_e=P(1086),se=P(6351),oe=P(3489);function le(){return i=>i.lift(new ie)}class ie{call(e,t){return t.subscribe(new te(e))}}class te extends oe.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var Ie,K=P(1059),de=P(4850),ue=P(2014),$e=P(5778),Be=P(2198),ae=P(2011),Ve=P(6895),ht=(P(5881),P(3942)),J=P(5861),st=P(9681),wt=P(4859),St=P(1877),Qe=P(2090),Ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Re={},ye=ye||{},q=Ae||self;function he(){}function ne(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ct(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Vt="closure_uid_"+(1e9*Math.random()>>>0),ut=0;function dt(i,e,t){return i.call.apply(i.bind,arguments)}function qe(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,o),i.apply(e,c)}}return function(){return i.apply(e,arguments)}}function Me(i,e,t){return(Me=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dt:qe).apply(null,arguments)}function Ge(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function je(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,c,d){for(var m=Array(arguments.length-2),C=2;C<arguments.length;C++)m[C-2]=arguments[C];return e.prototype[c].apply(o,m)}}function ft(){this.s=this.s,this.o=this.o}var gt={};ft.prototype.s=!1,ft.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function pt(i){return Object.prototype.hasOwnProperty.call(i,Vt)&&i[Vt]||(i[Vt]=++ut)}(this);delete gt[i]}},ft.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Yt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},Ln=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const o=i.length,c="string"==typeof i?i.split(""):i;for(let d=0;d<o;d++)d in c&&e.call(t,c[d],d,i)};function wn(i){return Array.prototype.concat.apply([],arguments)}function yn(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Rn(i){return/^[\s\xa0]*$/.test(i)}var bt,xr=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function sn(i,e){return-1!=i.indexOf(e)}function Tn(i,e){return i<e?-1:i>e?1:0}e:{var Fn=q.navigator;if(Fn){var ar=Fn.userAgent;if(ar){bt=ar;break e}}bt=""}function nr(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Ut(i){const e={};for(const t in i)e[t]=i[t];return e}var ur="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dr(i,e){let t,o;for(let c=1;c<arguments.length;c++){for(t in o=arguments[c],o)i[t]=o[t];for(let d=0;d<ur.length;d++)t=ur[d],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function Jn(i){return Jn[" "](i),i}Jn[" "]=he;var Cr,i,dn=sn(bt,"Opera"),en=sn(bt,"Trident")||sn(bt,"MSIE"),hn=sn(bt,"Edge"),hr=hn||en,_r=sn(bt,"Gecko")&&!(sn(bt.toLowerCase(),"webkit")&&!sn(bt,"Edge"))&&!(sn(bt,"Trident")||sn(bt,"MSIE"))&&!sn(bt,"Edge"),ir=sn(bt.toLowerCase(),"webkit")&&!sn(bt,"Edge");function xn(){var i=q.document;return i?i.documentMode:void 0}e:{var Lr="",Pn=(i=bt,_r?/rv:([^\);]+)(\)|;)/.exec(i):hn?/Edge\/([\d\.]+)/.exec(i):en?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):ir?/WebKit\/(\S+)/.exec(i):dn?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Pn&&(Lr=Pn?Pn[1]:""),en){var kn=xn();if(null!=kn&&kn>parseFloat(Lr)){Cr=String(kn);break e}}Cr=Lr}var bn={};var Le=q.document&&en&&(xn()||parseInt(Cr,10))||void 0,Ue=function(){if(!q.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{q.addEventListener("test",he,e),q.removeEventListener("test",he,e)}catch{}return i}();function Tt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function jt(i,e){if(Tt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(_r){e:{try{Jn(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:pn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&jt.Z.h.call(this)}}Tt.prototype.h=function(){this.defaultPrevented=!0},je(jt,Tt);var pn={2:"touch",3:"pen",4:"mouse"};jt.prototype.h=function(){jt.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Gn="closure_listenable_"+(1e6*Math.random()|0),$n=0;function er(i,e,t,o,c){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=c,this.key=++$n,this.ca=this.fa=!1}function it(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function He(i){this.src=i,this.g={},this.h=0}function Se(i,e){var t=e.type;if(t in i.g){var d,o=i.g[t],c=Yt(o,e);(d=0<=c)&&Array.prototype.splice.call(o,c,1),d&&(it(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Rt(i,e,t,o){for(var c=0;c<i.length;++c){var d=i[c];if(!d.ca&&d.listener==e&&d.capture==!!t&&d.ia==o)return c}return-1}He.prototype.add=function(i,e,t,o,c){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var m=Rt(i,e,o,c);return-1<m?(e=i[m],t||(e.fa=!1)):((e=new er(e,this.src,d,!!o,c)).fa=t,i.push(e)),e};var Bt="closure_lm_"+(1e6*Math.random()|0),an={};function Mn(i,e,t,o,c){if(o&&o.once)return we(i,e,t,o,c);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Mn(i,e[d],t,o,c);return null}return t=be(t),i&&i[Gn]?i.N(e,t,ct(o)?!!o.capture:!!o,c):nt(i,e,t,!1,o,c)}function nt(i,e,t,o,c,d){if(!e)throw Error("Invalid event type");var m=ct(c)?!!c.capture:!!c,C=mr(i);if(C||(i[Bt]=C=new He(i)),(t=C.add(e,t,o,m,d)).proxy)return t;if(o=function ke(){var e=Cn;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)Ue||(c=m),void 0===c&&(c=!1),i.addEventListener(e.toString(),o,c);else if(i.attachEvent)i.attachEvent(Zt(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function we(i,e,t,o,c){if(Array.isArray(e)){for(var d=0;d<e.length;d++)we(i,e[d],t,o,c);return null}return t=be(t),i&&i[Gn]?i.O(e,t,ct(o)?!!o.capture:!!o,c):nt(i,e,t,!0,o,c)}function Fe(i,e,t,o,c){if(Array.isArray(e))for(var d=0;d<e.length;d++)Fe(i,e[d],t,o,c);else o=ct(o)?!!o.capture:!!o,t=be(t),i&&i[Gn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Rt(d=i.g[e],t,o,c))&&(it(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=mr(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Rt(e,t,o,c)),(t=-1<i?e[i]:null)&&Je(t))}function Je(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Gn])Se(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(Zt(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=mr(e))?(Se(t,i),0==t.h&&(t.src=null,e[Bt]=null)):it(i)}}}function Zt(i){return i in an?an[i]:an[i]="on"+i}function Cn(i,e){if(i.ca)i=!0;else{e=new jt(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&Je(i),i=t.call(o,e)}return i}function mr(i){return(i=i[Bt])instanceof He?i:null}var zn="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(i){return"function"==typeof i?i:(i[zn]||(i[zn]=function(e){return i.handleEvent(e)}),i[zn])}function Ce(){ft.call(this),this.i=new He(this),this.P=this,this.I=null}function Ye(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Tt(e,i);else if(e instanceof Tt)e.target=e.target||i;else{var c=e;Dr(e=new Tt(o,i),c)}if(c=!0,t)for(var d=t.length-1;0<=d;d--){var m=e.g=t[d];c=yt(m,o,!0,e)&&c}if(c=yt(m=e.g=i,o,!0,e)&&c,c=yt(m,o,!1,e)&&c,t)for(d=0;d<t.length;d++)c=yt(m=e.g=t[d],o,!1,e)&&c}function yt(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,d=0;d<e.length;++d){var m=e[d];if(m&&!m.ca&&m.capture==t){var C=m.listener,$=m.ia||m.src;m.fa&&Se(i.i,m),c=!1!==C.call($,o)&&c}}return c&&!o.defaultPrevented}je(Ce,ft),Ce.prototype[Gn]=!0,Ce.prototype.removeEventListener=function(i,e,t,o){Fe(this,i,e,t,o)},Ce.prototype.M=function(){if(Ce.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)it(t[o]);delete i.g[e],i.h--}}this.I=null},Ce.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Ce.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Ct=q.JSON.stringify;function _n(){var i=ai;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var rr,cr=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Xn,i=>i.reset());class Xn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Qn(i){q.setTimeout(()=>{throw i},0)}function Sn(i,e){rr||function Mr(){var i=q.Promise.resolve(void 0);rr=function(){i.then(lr)}}(),ei||(rr(),ei=!0),ai.add(i,e)}var ei=!1,ai=new class rn{constructor(){this.h=this.g=null}add(e,t){const o=cr.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function lr(){for(var i;i=_n();){try{i.h.call(i.g)}catch(t){Qn(t)}var e=cr;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ei=!1}function vi(i,e){Ce.call(this),this.h=i||1,this.g=e||q,this.j=Me(this.kb,this),this.l=Date.now()}function Mi(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function ti(i,e,t){if("function"==typeof i)t&&(i=Me(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Me(i.handleEvent,i)}return 2147483647<Number(e)?-1:q.setTimeout(i,e||0)}function X(i){i.g=ti(()=>{i.g=null,i.i&&(i.i=!1,X(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}je(vi,Ce),(Ie=vi.prototype).da=!1,Ie.S=null,Ie.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ye(this,"tick"),this.da&&(Mi(this),this.start()))}},Ie.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ie.M=function(){vi.Z.M.call(this),Mi(this),delete this.g};class ge extends ft{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:X(this)}M(){super.M(),this.g&&(q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xe(i){ft.call(this),this.h=i,this.g={}}je(Xe,ft);var ot=[];function fe(i,e,t,o){Array.isArray(t)||(t&&(ot[0]=t.toString()),t=ot);for(var c=0;c<t.length;c++){var d=Mn(e,t[c],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function Pe(i){nr(i.g,function(e,t){this.g.hasOwnProperty(t)&&Je(e)},i),i.g={}}function rt(){this.g=!0}function Ft(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vn(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var c=o[1];if(Array.isArray(c)&&!(1>c.length)){var d=c[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var m=1;m<c.length;m++)c[m]=""}}}return Ct(t)}catch{return e}}(i,t)+(o?" "+o:"")})}Xe.prototype.M=function(){Xe.Z.M.call(this),Pe(this)},Xe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rt.prototype.Aa=function(){this.g=!1},rt.prototype.info=function(){};var jn={},Ir=null;function Sr(){return Ir=Ir||new Ce}function et(i){Tt.call(this,jn.Ma,i)}function Ke(i){const e=Sr();Ye(e,new et(e,i))}function _t(i,e){Tt.call(this,jn.STAT_EVENT,i),this.stat=e}function Nt(i){const e=Sr();Ye(e,new _t(e,i))}function tn(i,e){Tt.call(this,jn.Na,i),this.size=e}function un(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return q.setTimeout(function(){i()},e)}jn.Ma="serverreachability",je(et,Tt),jn.STAT_EVENT="statevent",je(_t,Tt),jn.Na="timingevent",je(tn,Tt);var tr={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ur={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function yr(){}function ls(){}yr.prototype.h=null;var bs,Oi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Us(){Tt.call(this,"d")}function ds(){Tt.call(this,"c")}function Ms(){}function Hi(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new Xe(this),this.P=Os,this.W=new vi(i=hr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Li}function Li(){this.i=null,this.g="",this.h=!1}je(Us,Tt),je(ds,Tt),je(Ms,yr),Ms.prototype.g=function(){return new XMLHttpRequest},Ms.prototype.i=function(){return{}},bs=new Ms;var Os=45e3,hs={},qi={};function Gi(i,e,t){i.K=1,i.v=is(Ei(e)),i.s=t,i.U=!0,Zi(i,null)}function Zi(i,e){i.F=Date.now(),Vr(i),i.A=Ei(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),p(t.h,"t",o),i.C=0,t=i.l.H,i.h=new Li,i.g=Oa(i.l,t?e:null,!i.s),0<i.O&&(i.L=new ge(Me(i.Ia,i,i.g),i.O)),fe(i.V,i.g,"readystatechange",i.gb),e=i.H?Ut(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Ke(1),function Ot(i,e,t,o,c,d){i.info(function(){if(i.g)if(d)for(var m="",C=d.split("&"),$=0;$<C.length;$++){var z=C[$].split("=");if(1<z.length){var ce=z[0];z=z[1];var We=ce.split("_");m=2<=We.length&&"type"==We[1]?m+(ce+"=")+z+"&":m+(ce+"=redacted&")}}else m=null;else m=d;return"XMLHTTP REQ ("+o+") [attempt "+c+"]: "+e+"\n"+t+"\n"+m})}(i.j,i.u,i.A,i.m,i.X,i.s)}function io(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function rs(i,e,t){let c,o=!0;for(;!i.I&&i.C<t.length;){if(c=go(i,t),c==qi){4==e&&(i.o=4,Nt(14),o=!1),Ft(i.j,i.m,null,"[Incomplete Response]");break}if(c==hs){i.o=4,Nt(15),Ft(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Ft(i.j,i.m,c,null),zr(i,c)}io(i)&&c!=qi&&c!=hs&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Nt(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),zs(e),e.L=!0,Nt(11))):(Ft(i.j,i.m,t,"[Invalid Chunked Response]"),di(i),Vi(i))}function go(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?qi:(t=Number(e.substring(t,o)),isNaN(t)?hs:(o+=1)+t>e.length?qi:(e=e.substr(o,t),i.C=o+t,e))}function Vr(i){i.Y=Date.now()+i.P,ii(i,i.P)}function ii(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=un(Me(i.eb,i),e)}function js(i){i.B&&(q.clearTimeout(i.B),i.B=null)}function Vi(i){0==i.l.G||i.I||nu(i.l,i)}function di(i){js(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Mi(i.W),Pe(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function zr(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||O(t.i,i)))if(t.I=i.N,!i.J&&O(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var c=o;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;To(t),hi(t)}_o(t),Nt(18)}}else t.ta=c[1],0<t.ta-t.U&&37500>c[2]&&t.N&&0==t.A&&!t.v&&(t.v=un(Me(t.ab,t),6e3));if(1>=R(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else Ks(t,11)}else if((i.J||t.g==i)&&To(t),!Rn(e))for(c=t.Ca.g.parse(e),e=0;e<c.length;e++){let z=c[e];if(t.U=z[0],z=z[1],2==t.G)if("c"==z[0]){t.J=z[1],t.la=z[2];const ce=z[3];null!=ce&&(t.ma=ce,t.h.info("VER="+t.ma));const We=z[4];null!=We&&(t.za=We,t.h.info("SVER="+t.za));const It=z[5];null!=It&&"number"==typeof It&&0<It&&(t.K=o=1.5*It,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const $t=i.g;if($t){const Ht=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ht){var d=o.i;!d.g&&(sn(Ht,"spdy")||sn(Ht,"quic")||sn(Ht,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(Z(d,d.h),d.h=null))}if(o.D){const In=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;In&&(o.sa=In,vr(o.F,o.D,In))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var m=i;if((o=t).oa=aa(o,o.H?o.la:null,o.W),m.J){vt(o.i,m);var C=m,$=o.K;$&&C.setTimeout($),C.B&&(js(C),Vr(C)),o.g=m}else os(o);0<t.l.length&&Ns(t)}else"stop"!=z[0]&&"close"!=z[0]||Ks(t,7);else 3==t.G&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?Ks(t,7):Tr(t):"noop"!=z[0]&&t.j&&t.j.wa(z),t.A=0)}Ke(4)}catch{}}function Gs(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ne(i)||"string"==typeof i)Ln(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(ne(i)||"string"==typeof i){t=[];for(var o=i.length,c=0;c<o;c++)t.push(c)}else for(c in t=[],o=0,i)t[o++]=c;o=function Hs(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(ne(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),c=o.length;for(var d=0;d<c;d++)e.call(void 0,o[d],t&&t[d],i)}}function Ii(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Ii)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function Rs(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];_i(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var c={};for(t=e=0;e<i.g.length;)_i(c,o=i.g[e])||(i.g[t++]=o,c[o]=1),e++;i.g.length=t}}function _i(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(Ie=Hi.prototype).setTimeout=function(i){this.P=i},Ie.gb=function(i){i=i.target;const e=this.L;e&&3==At(i)?e.l():this.Ia(i)},Ie.Ia=function(i){try{if(i==this.g)e:{const ce=At(this.g);var e=this.g.Da();const We=this.g.ba();if(!(3>ce)&&(3!=ce||hr||this.g&&(this.h.h||this.g.ga()||zt(this.g)))){this.I||4!=ce||7==e||Ke(8==e||0>=We?3:2),js(this);var t=this.g.ba();this.N=t;t:if(io(this)){var o=zt(this.g);i="";var c=o.length,d=4==At(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){di(this),Vi(this);var m="";break t}this.h.i=new q.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==c-1});o.splice(0,c),this.h.g+=i,this.C=0,m=this.h.g}else m=this.g.ga();if(this.i=200==t,function Pt(i,e,t,o,c,d,m){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+d+" "+m})}(this.j,this.u,this.A,this.m,this.X,ce,t),this.i){if(this.$&&!this.J){t:{if(this.g){var C,$=this.g;if((C=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rn(C)){var z=C;break t}}z=null}if(!(t=z)){this.i=!1,this.o=3,Nt(12),di(this),Vi(this);break e}Ft(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zr(this,t)}this.U?(rs(this,ce,m),hr&&this.i&&3==ce&&(fe(this.V,this.W,"tick",this.fb),this.W.start())):(Ft(this.j,this.m,m,null),zr(this,m)),4==ce&&di(this),this.i&&!this.I&&(4==ce?nu(this.l,this):(this.i=!1,Vr(this)))}else 400==t&&0<m.indexOf("Unknown SID")?(this.o=3,Nt(12)):(this.o=0,Nt(13)),di(this),Vi(this)}}}catch{}},Ie.fb=function(){if(this.g){var i=At(this.g),e=this.g.ga();this.C<e.length&&(js(this),rs(this,i,e),this.i&&4!=i&&Vr(this))}},Ie.cancel=function(){this.I=!0,di(this)},Ie.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function cn(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ke(3),Nt(17)),di(this),this.o=2,Vi(this)):ii(this,this.Y-i)},(Ie=Ii.prototype).R=function(){Rs(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},Ie.T=function(){return Rs(this),this.g.concat()},Ie.get=function(i,e){return _i(this.h,i)?this.h[i]:e},Ie.set=function(i,e){_i(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},Ie.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var c=t[o],d=this.get(c);i.call(e,d,c,this)}};var Nr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xi(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Xi){this.g=void 0!==e?e:i.g,Br(this,i.j),this.s=i.s,Wr(this,i.i),Qi(this,i.m),this.l=i.l,e=i.h;var t=new Ds;t.i=e.i,e.g&&(t.g=new Ii(e.g),t.h=e.h),Ri(this,t),this.o=i.o}else i&&(t=String(i).match(Nr))?(this.g=!!e,Br(this,t[1]||"",!0),this.s=zi(t[2]||""),Wr(this,t[3]||"",!0),Qi(this,t[4]),this.l=zi(t[5]||"",!0),Ri(this,t[6]||"",!0),this.o=zi(t[7]||"")):(this.g=!!e,this.h=new Ds(null,this.g))}function Ei(i){return new Xi(i)}function Br(i,e,t){i.j=t?zi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Wr(i,e,t){i.i=t?zi(e,!0):e}function Qi(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Ri(i,e,t){e instanceof Ds?(i.h=e,function re(i,e){e&&!i.j&&(ps(i),i.i=null,i.g.forEach(function(t,o){var c=o.toLowerCase();o!=c&&(y(this,o),p(this,c,t))},i)),i.j=e}(i.h,i.g)):(t||(e=Pi(e,Ps)),i.h=new Ds(e,i.g))}function vr(i,e,t){i.h.set(e,t)}function is(i){return vr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function zi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Pi(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Qs),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Qs(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Xi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Pi(e,Wn,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Pi(e,Wn,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(Pi(t,"/"==t.charAt(0)?mo:Po,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Pi(t,Js)),i.join("")};var Wn=/[#\/\?@]/g,Po=/[#\?:]/g,mo=/[#\?]/g,Ps=/[#\?@]/g,Js=/#/g;function Ds(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ps(i){i.g||(i.g=new Ii,i.h=0,i.i&&function Is(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),c=null;if(0<=o){var d=i[t].substring(0,o);c=i[t].substring(o+1)}else d=i[t];e(d,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function y(i,e){ps(i),e=k(i,e),_i(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,_i((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Rs(i)))}function B(i,e){return ps(i),e=k(i,e),_i(i.g.h,e)}function p(i,e,t){y(i,e),0<t.length&&(i.i=null,i.g.set(k(i,e),yn(t)),i.h+=t.length)}function k(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function qt(i){this.l=i||gn,i=q.PerformanceNavigationTiming?0<(i=q.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(q.g&&q.g.Ea&&q.g.Ea()&&q.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ie=Ds.prototype).add=function(i,e){ps(this),this.i=null,i=k(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Ie.forEach=function(i,e){ps(this),this.g.forEach(function(t,o){Ln(t,function(c){i.call(e,c,o,this)},this)},this)},Ie.T=function(){ps(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var c=i[o],d=0;d<c.length;d++)t.push(e[o]);return t},Ie.R=function(i){ps(this);var e=[];if("string"==typeof i)B(this,i)&&(e=wn(e,this.g.get(k(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=wn(e,i[t])}return e},Ie.set=function(i,e){return ps(this),this.i=null,B(this,i=k(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ie.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},Ie.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],c=encodeURIComponent(String(o));o=this.R(o);for(var d=0;d<o.length;d++){var m=c;""!==o[d]&&(m+="="+encodeURIComponent(String(o[d]))),i.push(m)}}return this.i=i.join("&")};var gn=10;function F(i){return!!i.h||!!i.g&&i.g.size>=i.j}function R(i){return i.h?1:i.g?i.g.size:0}function O(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Z(i,e){i.g?i.g.add(e):i.h=e}function vt(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function En(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return yn(i.i)}function Pr(){}function Hr(){this.g=new Pr}function kr(i,e,t){const o=t||"";try{Gs(i,function(c,d){let m=c;ct(c)&&(m=Ct(c)),e.push(o+d+"="+encodeURIComponent(m))})}catch(c){throw e.push(o+"type="+encodeURIComponent("_badmap")),c}}function gs(i,e,t,o,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(o)}catch{}}function ms(i){this.l=i.$b||null,this.j=i.ib||!1}function Di(i,e){Ce.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=yo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qt.prototype.cancel=function(){if(this.i=En(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Pr.prototype.stringify=function(i){return q.JSON.stringify(i,void 0)},Pr.prototype.parse=function(i){return q.JSON.parse(i,void 0)},je(ms,yr),ms.prototype.g=function(){return new Di(this.l,this.j)},ms.prototype.i=function(i){return function(){return i}}({}),je(Di,Ce);var yo=0;function So(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function No(i){i.readyState=4,i.l=null,i.j=null,i.A=null,so(i)}function so(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ie=Di.prototype).open=function(i,e){if(this.readyState!=yo)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,so(this)},Ie.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||q).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ie.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,No(this)),this.readyState=yo},Ie.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,so(this)),this.g&&(this.readyState=3,so(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof q.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;So(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Ie.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?No(this):so(this),3==this.readyState&&So(this)}},Ie.Ua=function(i){this.g&&(this.response=this.responseText=i,No(this))},Ie.Ta=function(i){this.g&&(this.response=i,No(this))},Ie.ha=function(){this.g&&No(this)},Ie.setRequestHeader=function(i,e){this.v.append(i,e)},Ie.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ie.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var sa=q.JSON.parse;function Kr(i){Ce.call(this),this.headers=new Ii,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=oa,this.K=this.L=!1}je(Kr,Ce);var oa="",ko=/^https?$/i,Du=["POST","PUT"];function Fo(i){return"content-type"==i.toLowerCase()}function M(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,G(i),Q(i)}function G(i){i.D||(i.D=!0,Ye(i,"complete"),Ye(i,"error"))}function N(i){if(i.h&&typeof ye<"u"&&(!i.C[1]||4!=At(i)||2!=i.ba()))if(i.v&&4==At(i))ti(i.Fa,0,i);else if(Ye(i,"readystatechange"),4==At(i)){i.h=!1;try{const C=i.ba();e:switch(C){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===C){var c=String(i.H).match(Nr)[1]||null;if(!c&&q.self&&q.self.location){var d=q.self.location.protocol;c=d.substr(0,d.length-1)}o=!ko.test(c?c.toLowerCase():"")}t=o}if(t)Ye(i,"complete"),Ye(i,"success");else{i.m=6;try{var m=2<At(i)?i.g.statusText:""}catch{m=""}i.j=m+" ["+i.ba()+"]",G(i)}}finally{Q(i)}}}function Q(i,e){if(i.g){ze(i);const t=i.g,o=i.C[0]?he:null;i.g=null,i.C=null,e||Ye(i,"ready");try{t.onreadystatechange=o}catch{}}}function ze(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(q.clearTimeout(i.A),i.A=null)}function At(i){return i.g?i.g.readyState:0}function zt(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case oa:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Er(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function ln(i){let e="";return nr(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):vr(i,e,t))}function Yn(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Fr(i){this.za=0,this.l=[],this.h=new rt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Yn("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Yn("baseRetryDelayMs",5e3,i),this.$a=Yn("retryDelaySeedMs",1e4,i),this.Ya=Yn("forwardChannelMaxRetries",2,i),this.ra=Yn("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new qt(i&&i.concurrentRequestLimit),this.Ca=new Hr,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Tr(i){if(Yr(i),3==i.G){var e=i.V++,t=Ei(i.F);vr(t,"SID",i.J),vr(t,"RID",e),vr(t,"TYPE","terminate"),ss(i,t),(e=new Hi(i,i.h,e,void 0)).K=2,e.v=is(Ei(t)),t=!1,q.navigator&&q.navigator.sendBeacon&&(t=q.navigator.sendBeacon(e.v.toString(),"")),!t&&q.Image&&((new Image).src=e.v,t=!0),t||(e.g=Oa(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Vr(e)}Ma(i)}function hi(i){i.g&&(zs(i),i.g.cancel(),i.g=null)}function Yr(i){hi(i),i.u&&(q.clearTimeout(i.u),i.u=null),To(i),i.i.cancel(),i.m&&("number"==typeof i.m&&q.clearTimeout(i.m),i.m=null)}function fi(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Ns(i)}function Ns(i){F(i.i)||i.m||(i.m=!0,Sn(i.Ha,i),i.C=0)}function ys(i,e){var t;t=e?e.m:i.V++;const o=Ei(i.F);vr(o,"SID",i.J),vr(o,"RID",t),vr(o,"AID",i.U),ss(i,o),i.o&&i.s&&Er(o,i.o,i.s),t=new Hi(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=eo(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Z(i.i,t),Gi(t,o,e)}function ss(i,e){i.j&&Gs({},function(t,o){vr(e,o,t)})}function eo(i,e,t){t=Math.min(i.l.length,t);var o=i.j?Me(i.j.Oa,i.j,i):null;e:{var c=i.l;let d=-1;for(;;){const m=["count="+t];-1==d?0<t?(d=c[0].h,m.push("ofs="+d)):d=0:m.push("ofs="+d);let C=!0;for(let $=0;$<t;$++){let z=c[$].h;const ce=c[$].g;if(z-=d,0>z)d=Math.max(0,c[$].h-100),C=!1;else try{kr(ce,m,"req"+z+"_")}catch{o&&o(ce)}}if(C){o=m.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,o}function os(i){i.g||i.u||(i.Y=1,Sn(i.Ga,i),i.A=0)}function _o(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=un(Me(i.Ga,i),Ws(i,i.A)),i.A++,0))}function zs(i){null!=i.B&&(q.clearTimeout(i.B),i.B=null)}function ui(i){i.g=new Hi(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Ei(i.oa);vr(e,"RID","rpc"),vr(e,"SID",i.J),vr(e,"CI",i.N?"0":"1"),vr(e,"AID",i.U),ss(i,e),vr(e,"TYPE","xmlhttp"),i.o&&i.s&&Er(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=is(Ei(e)),t.s=null,t.U=!0,Zi(t,i)}function To(i){null!=i.v&&(q.clearTimeout(i.v),i.v=null)}function nu(i,e){var t=null;if(i.g==e){To(i),zs(i),i.g=null;var o=2}else{if(!O(i.i,e))return;t=e.D,vt(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var c=i.C;Ye(o=Sr(),new tn(o,t,e,c)),Ns(i)}else os(i);else if(3==(c=e.o)||0==c&&0<i.I||!(1==o&&function ks(i,e){return!(R(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=un(Me(i.Ha,i,e),Ws(i,i.C)),i.C++,0)))}(i,e)||2==o&&_o(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),c){case 1:Ks(i,5);break;case 4:Ks(i,10);break;case 3:Ks(i,6);break;default:Ks(i,2)}}function Ws(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function Ks(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=Me(i.jb,i);t||(t=new Xi("//www.google.com/images/cleardot.gif"),q.location&&"http"==q.location.protocol||Br(t,"https"),is(t)),function gi(i,e){const t=new rt;if(q.Image){const o=new Image;o.onload=Ge(gs,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Ge(gs,t,o,"TestLoadImage: error",!1,e),o.onabort=Ge(gs,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Ge(gs,t,o,"TestLoadImage: timeout",!1,e),q.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else Nt(2);i.G=0,i.j&&i.j.va(e),Ma(i),Yr(i)}function Ma(i){i.G=0,i.I=-1,i.j&&((0!=En(i.i).length||0!=i.l.length)&&(i.i.i.length=0,yn(i.l),i.l.length=0),i.j.ua())}function aa(i,e,t){let o=function fs(i){return i instanceof Xi?Ei(i):new Xi(i,void 0)}(t);if(""!=o.i)e&&Wr(o,e+"."+o.i),Qi(o,o.m);else{const c=q.location;o=function ni(i,e,t,o){var c=new Xi(null,void 0);return i&&Br(c,i),e&&Wr(c,e),t&&Qi(c,t),o&&(c.l=o),c}(c.protocol,e?e+"."+c.hostname:c.hostname,+c.port,t)}return i.aa&&nr(i.aa,function(c,d){vr(o,d,c)}),t=i.sa,(e=i.D)&&t&&vr(o,e,t),vr(o,"VER",i.ma),ss(i,o),o}function Oa(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Kr(t&&i.Ba&&!i.qa?new ms({ib:!0}):i.qa)).L=i.H,e}function Zu(){}function Lo(){if(en&&!(10<=Number(Le)))throw Error("Environmental error: no available transport.")}function Ji(i,e){Ce.call(this),this.g=new Fr(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Rn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Yo(this)}function Cu(i){Us.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Wi(){ds.call(this),this.status=1}function Yo(i){this.g=i}(Ie=Kr.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():bs.g(),this.C=function Fi(i){return i.h||(i.h=i.i())}(this.u?this.u:bs),this.g.onreadystatechange=Me(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void M(this,d)}i=t||"";const c=new Ii(this.headers);o&&Gs(o,function(d,m){c.set(m,d)}),o=function Dn(i){e:{var e=Fo;const t=i.length,o="string"==typeof i?i.split(""):i;for(let c=0;c<t;c++)if(c in o&&e.call(void 0,o[c],c,i)){e=c;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(c.T()),t=q.FormData&&i instanceof q.FormData,!(0<=Yt(Du,e))||o||t||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(d,m){this.g.setRequestHeader(m,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ze(this),0<this.B&&((this.K=function vo(i){return en&&function Ze(){return function Rr(i){var e=bn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=xr(String(Cr)).split("."),t=xr("9").split("."),o=Math.max(e.length,t.length);for(let m=0;0==i&&m<o;m++){var c=e[m]||"",d=t[m]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==c[0].length&&0==d[0].length)break;i=Tn(0==c[1].length?0:parseInt(c[1],10),0==d[1].length?0:parseInt(d[1],10))||Tn(0==c[2].length,0==d[2].length)||Tn(c[2],d[2]),c=c[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Me(this.pa,this)):this.A=ti(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){M(this,d)}},Ie.pa=function(){typeof ye<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ye(this,"timeout"),this.abort(8))},Ie.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Ye(this,"complete"),Ye(this,"abort"),Q(this))},Ie.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Q(this,!0)),Kr.Z.M.call(this)},Ie.Fa=function(){this.s||(this.F||this.v||this.l?N(this):this.cb())},Ie.cb=function(){N(this)},Ie.ba=function(){try{return 2<At(this)?this.g.status:-1}catch{return-1}},Ie.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ie.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),sa(e)}},Ie.Da=function(){return this.m},Ie.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ie=Fr.prototype).ma=8,Ie.G=1,Ie.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch{}},Ie.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const c=new Hi(this,this.h,i,void 0);let d=this.s;if(this.P&&(d?(d=Ut(d),Dr(d,this.P)):d=this.P),null===this.o&&(c.H=d),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=eo(this,c,e),vr(t=Ei(this.F),"RID",i),vr(t,"CVER",22),this.D&&vr(t,"X-HTTP-Session-Id",this.D),ss(this,t),this.o&&d&&Er(t,this.o,d),Z(this.i,c),this.Ra&&vr(t,"TYPE","init"),this.ja?(vr(t,"$req",e),vr(t,"SID","null"),c.$=!0,Gi(c,t,null)):Gi(c,t,e),this.G=2}}else 3==this.G&&(i?ys(this,i):0==this.l.length||F(this.i)||ys(this))},Ie.Ga=function(){if(this.u=null,ui(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=un(Me(this.bb,this),i)}},Ie.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Nt(10),hi(this),ui(this))},Ie.ab=function(){null!=this.v&&(this.v=null,hi(this),_o(this),Nt(19))},Ie.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Nt(2)):(this.h.info("Failed to ping google.com"),Nt(1))},(Ie=Zu.prototype).xa=function(){},Ie.wa=function(){},Ie.va=function(){},Ie.ua=function(){},Ie.Oa=function(){},Lo.prototype.g=function(i,e){return new Ji(i,e)},je(Ji,Ce),Ji.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Sn(Me(i.hb,i,e))),Nt(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=aa(i,null,i.W),Ns(i)},Ji.prototype.close=function(){Tr(this.g)},Ji.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,fi(this.g,e)}else this.v?((e={}).__data__=Ct(i),fi(this.g,e)):fi(this.g,i)},Ji.prototype.M=function(){this.g.j=null,delete this.j,Tr(this.g),delete this.g,Ji.Z.M.call(this)},je(Cu,Us),je(Wi,ds),je(Yo,Zu),Yo.prototype.xa=function(){Ye(this.g,"a")},Yo.prototype.wa=function(i){Ye(this.g,new Cu(i))},Yo.prototype.va=function(i){Ye(this.g,new Wi(i))},Yo.prototype.ua=function(){Ye(this.g,"b")},Lo.prototype.createWebChannel=Lo.prototype.g,Ji.prototype.send=Ji.prototype.u,Ji.prototype.open=Ji.prototype.m,Ji.prototype.close=Ji.prototype.close,tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,Ur.COMPLETE="complete",ls.EventType=Oi,Oi.OPEN="a",Oi.CLOSE="b",Oi.ERROR="c",Oi.MESSAGE="d",Ce.prototype.listen=Ce.prototype.N,Kr.prototype.listenOnce=Kr.prototype.O,Kr.prototype.getLastError=Kr.prototype.La,Kr.prototype.getLastErrorCode=Kr.prototype.Da,Kr.prototype.getStatus=Kr.prototype.ba,Kr.prototype.getResponseJson=Kr.prototype.Qa,Kr.prototype.getResponseText=Kr.prototype.ga,Kr.prototype.send=Kr.prototype.ea;var Ra=Re.createWebChannelTransport=function(){return new Lo},qo=Re.getStatEventTarget=function(){return Sr()},Pa=Re.ErrorCode=tr,oo=Re.EventType=Ur,Na=Re.Event=jn,ci=Re.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Xu=Re.FetchXmlHttpFactory=ms,ao=Re.WebChannel=ls,ka=Re.XhrIo=Kr;const Vo="@firebase/firestore";class qr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qr.UNAUTHENTICATED=new qr(null),qr.GOOGLE_CREDENTIALS=new qr("google-credentials-uid"),qr.FIRST_PARTY=new qr("first-party-uid"),qr.MOCK_USER=new qr("mock-user");let Zo="9.9.2";const Fs=new St.Yd("@firebase/firestore");function Bo(){return Fs.logLevel}function Xt(i,...e){if(Fs.logLevel<=St.in.DEBUG){const t=e.map(Qo);Fs.debug(`Firestore (${Zo}): ${i}`,...t)}}function Zr(i,...e){if(Fs.logLevel<=St.in.ERROR){const t=e.map(Qo);Fs.error(`Firestore (${Zo}): ${i}`,...t)}}function Ls(i,...e){if(Fs.logLevel<=St.in.WARN){const t=e.map(Qo);Fs.warn(`Firestore (${Zo}): ${i}`,...t)}}function Qo(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function An(i="Unexpected state"){const e=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: `+i;throw Zr(e),new Error(e)}function sr(i,e){i||An()}function mn(i,e){return i}const Mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Wt extends Qe.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Bi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class $o{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Su{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(qr.UNAUTHENTICATED))}shutdown(){}}class to{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ru{constructor(e){this.t=e,this.currentUser=qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let c=this.i;const d=z=>this.i!==c?(c=this.i,t(z)):Promise.resolve();let m=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Bi,e.enqueueRetryable(()=>d(this.currentUser))};const C=()=>{const z=m;e.enqueueRetryable((0,J.Z)(function*(){yield z.promise,yield d(o.currentUser)}))},$=z=>{Xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit(z=>$(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?$(z):(Xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Bi)}},0),C()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(sr("string"==typeof o.accessToken),new $o(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return sr(null===e||"string"==typeof e),new qr(e)}}class Fa{constructor(e,t,o){this.type="FirstParty",this.user=qr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const c=e.auth.getAuthHeaderValueForFirstParty([]);c&&this.headers.set("Authorization",c),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class iu{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Fa(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vs{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class su{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=d=>{null!=d.error&&Xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const m=d.token!==this.p;return this.p=d.token,Xt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const c=d=>{Xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.g.onInit(d=>c(d)),setTimeout(()=>{if(!this.appCheck){const d=this.g.getImmediate({optional:!0});d?c(d):Xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(sr("string"==typeof t.token),this.p=t.token,new vs(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function uo(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class Ao{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const c=uo(40);for(let d=0;d<c.length;++d)o.length<20&&c[d]<t&&(o+=e.charAt(c[d]%e.length))}return o}}function or(i,e){return i<e?-1:i>e?1:0}function $i(i,e,t){return i.length===e.length&&i.every((o,c)=>t(o,e[c]))}function mi(i){return i+"\0"}class Xr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Wt(Mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Wt(Mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Wt(Mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Wt(Mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xr.fromMillis(Date.now())}static fromDate(e){return Xr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Xr(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?or(this.nanoseconds,e.nanoseconds):or(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class dr{constructor(e){this.timestamp=e}static fromTimestamp(e){return new dr(e)}static min(){return new dr(new Xr(0,0))}static max(){return new dr(new Xr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class co{constructor(e,t,o){void 0===t?t=0:t>e.length&&An(),void 0===o?o=e.length-t:o>e.length-t&&An(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===co.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof co?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let c=0;c<o;c++){const d=e.get(c),m=t.get(c);if(d<m)return-1;if(d>m)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Un extends co{construct(e,t,o){return new Un(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Wt(Mt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(c=>c.length>0))}return new Un(t)}static emptyPath(){return new Un([])}}const Qu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ci extends co{construct(e,t,o){return new Ci(e,t,o)}static isValidIdentifier(e){return Qu.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ci.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ci(["__name__"])}static fromServerFormat(e){const t=[];let o="",c=0;const d=()=>{if(0===o.length)throw new Wt(Mt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let m=!1;for(;c<e.length;){const C=e[c];if("\\"===C){if(c+1===e.length)throw new Wt(Mt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const $=e[c+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new Wt(Mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=$,c+=2}else"`"===C?(m=!m,c++):"."!==C||m?(o+=C,c++):(d(),c++)}if(d(),m)throw new Wt(Mt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ci(t)}static emptyPath(){return new Ci([])}}class fn{constructor(e){this.path=e}static fromPath(e){return new fn(Un.fromString(e))}static fromName(e){return new fn(Un.fromString(e).popFirst(5))}static empty(){return new fn(Un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fn(new Un(e.slice()))}}class Tu{constructor(e,t,o,c){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=c}}function Ju(i){return i.fields.find(e=>2===e.kind)}function ca(i){return i.fields.filter(e=>2!==e.kind)}Tu.UNKNOWN_ID=-1;class xo{constructor(e,t){this.fieldPath=e,this.kind=t}}class Au{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Au(0,Si.min())}}function pi(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,c=dr.fromTimestamp(1e9===o?new Xr(t+1,0):new Xr(t,o));return new Si(c,fn.empty(),e)}function lo(i){return new Si(i.readTime,i.key,-1)}class Si{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Si(dr.min(),fn.empty(),-1)}static max(){return new Si(dr.max(),fn.empty(),-1)}}function tc(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=fn.comparator(i.documentKey,e.documentKey),0!==t?t:or(i.largestBatchId,e.largestBatchId))}const da="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ki{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ni(i){return Va.apply(this,arguments)}function Va(){return Va=(0,J.Z)(function*(i){if(i.code!==Mt.FAILED_PRECONDITION||i.message!==da)throw i;Xt("LocalStore","Unexpectedly lost primary lease")}),Va.apply(this,arguments)}class Dt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&An(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Dt((o,c)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,c)},this.catchCallback=d=>{this.wrapFailure(t,d).next(o,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Dt?t:Dt.resolve(t)}catch(t){return Dt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Dt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Dt.reject(t)}static resolve(e){return new Dt((t,o)=>{t(e)})}static reject(e){return new Dt((t,o)=>{o(e)})}static waitFor(e){return new Dt((t,o)=>{let c=0,d=0,m=!1;e.forEach(C=>{++c,C.next(()=>{++d,m&&d===c&&t()},$=>o($))}),m=!0,d===c&&t()})}static or(e){let t=Dt.resolve(!1);for(const o of e)t=t.next(c=>c?Dt.resolve(c):o());return t}static forEach(e,t){const o=[];return e.forEach((c,d)=>{o.push(t.call(this,c,d))}),this.waitFor(o)}static mapArray(e,t){return new Dt((o,c)=>{const d=e.length,m=new Array(d);let C=0;for(let $=0;$<d;$++){const z=$;t(e[z]).next(ce=>{m[z]=ce,++C,C===d&&o(m)},ce=>c(ce))}})}static doWhile(e,t){return new Dt((o,c)=>{const d=()=>{!0===e()?t().next(()=>{d()},c):o()};d()})}}class ho{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new Bi,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new Jo(e,t.error)):this.T.resolve()},this.transaction.onerror=o=>{const c=Ba(o.target.error);this.T.reject(new Jo(e,c))}}static open(e,t,o,c){try{return new ho(t,e.transaction(c,o))}catch(d){throw new Jo(t,d)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Xt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new nc(t)}}class Ti{constructor(e,t,o){this.name=e,this.version=t,this.P=o,12.2===Ti.v((0,Qe.z$)())&&Zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xt("SimpleDb","Removing database:",e),Vs(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Qe.hl)())return!1;if(Ti.S())return!0;const e=(0,Qe.z$)(),t=Ti.v(e),o=0<t&&t<10,c=Ti.D(e),d=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||d)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static D(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}k(e){var t=this;return(0,J.Z)(function*(){return t.db||(Xt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,c)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=m=>{o(m.target.result)},d.onblocked=()=>{c(new Jo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=m=>{const C=m.target.error;c("VersionError"===C.name?new Wt(Mt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new Wt(Mt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new Jo(e,C))},d.onupgradeneeded=m=>{Xt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',m.oldVersion),t.P.M(m.target.result,d.transaction,m.oldVersion,t.version).next(()=>{Xt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.O&&(t.db.onversionchange=o=>t.O(o)),t.db})()}F(e){this.O=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,c){var d=this;return(0,J.Z)(function*(){const m="readonly"===t;let C=0;for(;;){++C;try{d.db=yield d.k(e);const $=ho.open(d.db,e,m?"readonly":"readwrite",o),z=c($).next(ce=>($.R(),ce)).catch(ce=>($.abort(ce),Dt.reject(ce))).toPromise();return z.catch(()=>{}),yield $.A,z}catch($){const z=$,ce="FirebaseError"!==z.name&&C<3;if(Xt("SimpleDb","Transaction failed with error:",z.message,"Retrying:",ce),d.close(),!ce)return Promise.reject(z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class ha{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Vs(this.$.delete())}}class Jo extends Wt{constructor(e,t){super(Mt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ys(i){return"IndexedDbTransactionError"===i.name}class nc{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Xt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Xt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Vs(o)}add(e){return Xt("SimpleDb","ADD",this.store.name,e,e),Vs(this.store.add(e))}get(e){return Vs(this.store.get(e)).next(t=>(void 0===t&&(t=null),Xt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Xt("SimpleDb","DELETE",this.store.name,e),Vs(this.store.delete(e))}count(){return Xt("SimpleDb","COUNT",this.store.name),Vs(this.store.count())}K(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const c=this.cursor(o),d=[];return this.G(c,(m,C)=>{d.push(C)}).next(()=>d)}{const c=this.store.getAll(o.range);return new Dt((d,m)=>{c.onerror=C=>{m(C.target.error)},c.onsuccess=C=>{d(C.target.result)}})}}j(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new Dt((c,d)=>{o.onerror=m=>{d(m.target.error)},o.onsuccess=m=>{c(m.target.result)}})}W(e,t){Xt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.H=!1;const c=this.cursor(o);return this.G(c,(d,m,C)=>C.delete())}J(e,t){let o;t?o=e:(o={},t=e);const c=this.cursor(o);return this.G(c,t)}Y(e){const t=this.cursor({});return new Dt((o,c)=>{t.onerror=d=>{const m=Ba(d.target.error);c(m)},t.onsuccess=d=>{const m=d.target.result;m?e(m.primaryKey,m.value).next(C=>{C?m.continue():o()}):o()}})}G(e,t){const o=[];return new Dt((c,d)=>{e.onerror=m=>{d(m.target.error)},e.onsuccess=m=>{const C=m.target.result;if(!C)return void c();const $=new ha(C),z=t(C.primaryKey,C.value,$);if(z instanceof Dt){const ce=z.catch(We=>($.done(),Dt.reject(We)));o.push(ce)}$.isDone?c():null===$.U?C.continue():C.continue($.U)}}).next(()=>Dt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Vs(i){return new Dt((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const c=Ba(o.target.error);t(c)}})}let Cs=!1;function Ba(i){const e=Ti.v((0,Qe.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new Wt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Cs||(Cs=!0,setTimeout(()=>{throw o},0)),o}}return i}class fa{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Xt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,J.Z)(function*(){t.task=null;try{Xt("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(o){Ys(o)?Xt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield Ni(o)}yield t.Z(1)}))}}class xu{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,J.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.et(o,e))})()}et(e,t){const o=new Set;let c=t,d=!0;return Dt.doWhile(()=>!0===d&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(m=>{if(null!==m&&!o.has(m))return Xt("IndexBackiller",`Processing collection: ${m}`),this.nt(e,m,c).next(C=>{c-=C,o.add(m)});d=!1})).next(()=>t-c)}nt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(c=>this.localStore.localDocuments.getNextDocuments(e,t,c,o).next(d=>{const m=d.changes;return this.localStore.indexManager.updateIndexEntries(e,m).next(()=>this.st(c,d)).next(C=>(Xt("IndexBackiller",`Updating offset: ${C}`),this.localStore.indexManager.updateCollectionGroup(e,t,C))).next(()=>m.size)}))}st(e,t){let o=e;return t.changes.forEach((c,d)=>{const m=lo(d);tc(m,o)>0&&(o=m)}),new Si(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class _s{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.it(o),this.rt=o=>t.writeSequenceNumber(o))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function Eo(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Mo(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function $a(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}_s.ot=-1;class li{constructor(e,t){this.comparator=e,this.root=t||ki.EMPTY}insert(e,t){return new li(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ki.BLACK,null,null))}remove(e){return new li(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ki.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(e,o.key);if(0===c)return t+o.left.size;c<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fo(this.root,e,this.comparator,!1)}getReverseIterator(){return new fo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fo(this.root,e,this.comparator,!0)}}class fo{constructor(e,t,o,c){this.isReverse=c,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?o(e.key,t):1,t&&c&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ki{constructor(e,t,o,c,d){this.key=e,this.value=t,this.color=o??ki.RED,this.left=c??ki.EMPTY,this.right=d??ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,c,d){return new ki(e??this.key,t??this.value,o??this.color,c??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let c=this;const d=o(e,c.key);return c=d<0?c.copy(null,null,null,c.left.insert(e,t,o),null):0===d?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return ki.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw An();const e=this.left.check();if(e!==this.right.check())throw An();return e+(this.isRed()?0:1)}}ki.EMPTY=null,ki.RED=!0,ki.BLACK=!1,ki.EMPTY=new class{constructor(){this.size=0}get key(){throw An()}get value(){throw An()}get color(){throw An()}get left(){throw An()}get right(){throw An()}copy(i,e,t,o,c){return this}insert(i,e,t){return new ki(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class E{constructor(e){this.comparator=e,this.data=new li(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new b(this.data.getIterator())}getIteratorFrom(e){return new b(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof E)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,d=o.getNext().key;if(0!==this.comparator(c,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new E(this.comparator);return t.data=e,t}}class b{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function v(i){return i.hasNext()?i.getNext():void 0}class A{constructor(e){this.fields=e,e.sort(Ci.comparator)}static empty(){return new A([])}unionWith(e){let t=new E(Ci.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new A(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $i(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class W{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new W(t)}static fromUint8Array(e){const t=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new W(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return or(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}W.EMPTY_BYTE_STRING=new W("");const Te=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function w(i){if(sr(!!i),"string"==typeof i){let e=0;const t=Te.exec(i);if(sr(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:T(i.seconds),nanos:T(i.nanos)}}function T(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function H(i){return"string"==typeof i?W.fromBase64String(i):W.fromUint8Array(i)}function me(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Oe(i){const e=i.mapValue.fields.__previous_value__;return me(e)?Oe(e):e}function lt(i){const e=w(i.mapValue.fields.__local_write_time__.timestampValue);return new Xr(e.seconds,e.nanos)}class kt{constructor(e,t,o,c,d,m,C,$){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=c,this.ssl=d,this.forceLongPolling=m,this.autoDetectLongPolling=C,this.useFetchStreams=$}}class nn{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof nn&&e.projectId===this.projectId&&e.database===this.database}}function Vn(i){return null==i}function Kn(i){return 0===i&&1/i==-1/0}function fr(i){return"number"==typeof i&&Number.isInteger(i)&&!Kn(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Bn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Ai={nullValue:"NULL_VALUE"};function Ui(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?me(i)?4:Bc(i)?9007199254740991:10:An()}function Es(i,e){if(i===e)return!0;const t=Ui(i);if(t!==Ui(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return lt(i).isEqual(lt(e));case 3:return function(o,c){if("string"==typeof o.timestampValue&&"string"==typeof c.timestampValue&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=w(o.timestampValue),m=w(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return c=e,H(i.bytesValue).isEqual(H(c.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,c){return T(o.geoPointValue.latitude)===T(c.geoPointValue.latitude)&&T(o.geoPointValue.longitude)===T(c.geoPointValue.longitude)}(i,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return T(o.integerValue)===T(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=T(o.doubleValue),m=T(c.doubleValue);return d===m?Kn(d)===Kn(m):isNaN(d)&&isNaN(m)}return!1}(i,e);case 9:return $i(i.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:return function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(Eo(d)!==Eo(m))return!1;for(const C in d)if(d.hasOwnProperty(C)&&(void 0===m[C]||!Es(d[C],m[C])))return!1;return!0}(i,e);default:return An()}var c}function qs(i,e){return void 0!==(i.values||[]).find(t=>Es(t,e))}function Ss(i,e){if(i===e)return 0;const t=Ui(i),o=Ui(e);if(t!==o)return or(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return or(i.booleanValue,e.booleanValue);case 2:return function(c,d){const m=T(c.integerValue||c.doubleValue),C=T(d.integerValue||d.doubleValue);return m<C?-1:m>C?1:m===C?0:isNaN(m)?isNaN(C)?0:-1:1}(i,e);case 3:return Ua(i.timestampValue,e.timestampValue);case 4:return Ua(lt(i),lt(e));case 5:return or(i.stringValue,e.stringValue);case 6:return function(c,d){const m=H(c),C=H(d);return m.compareTo(C)}(i.bytesValue,e.bytesValue);case 7:return function(c,d){const m=c.split("/"),C=d.split("/");for(let $=0;$<m.length&&$<C.length;$++){const z=or(m[$],C[$]);if(0!==z)return z}return or(m.length,C.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,d){const m=or(T(c.latitude),T(d.latitude));return 0!==m?m:or(T(c.longitude),T(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(c,d){const m=c.values||[],C=d.values||[];for(let $=0;$<m.length&&$<C.length;++$){const z=Ss(m[$],C[$]);if(z)return z}return or(m.length,C.length)}(i.arrayValue,e.arrayValue);case 10:return function(c,d){if(c===Bn.mapValue&&d===Bn.mapValue)return 0;if(c===Bn.mapValue)return 1;if(d===Bn.mapValue)return-1;const m=c.fields||{},C=Object.keys(m),$=d.fields||{},z=Object.keys($);C.sort(),z.sort();for(let ce=0;ce<C.length&&ce<z.length;++ce){const We=or(C[ce],z[ce]);if(0!==We)return We;const It=Ss(m[C[ce]],$[z[ce]]);if(0!==It)return It}return or(C.length,z.length)}(i.mapValue,e.mapValue);default:throw An()}}function Ua(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return or(i,e);const t=w(i),o=w(e),c=or(t.seconds,o.seconds);return 0!==c?c:or(t.nanos,o.nanos)}function Uo(i){return jo(i)}function jo(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const c=w(o);return`time(${c.seconds},${c.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?H(i.bytesValue).toBase64():"referenceValue"in i?fn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let c="[",d=!0;for(const m of o.values||[])d?d=!1:c+=",",c+=jo(m);return c+"]"}(i.arrayValue):"mapValue"in i?function(o){const c=Object.keys(o.fields||{}).sort();let d="{",m=!0;for(const C of c)m?m=!1:d+=",",d+=`${C}:${jo(o.fields[C])}`;return d+"}"}(i.mapValue):An();var e}function as(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function wo(i){return!!i&&"integerValue"in i}function ea(i){return!!i&&"arrayValue"in i}function Vc(i){return!!i&&"nullValue"in i}function Od(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function pa(i){return!!i&&"mapValue"in i}function ga(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Mo(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=ga(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ga(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Bc(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function tg(i){return"nullValue"in i?Ai:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?as(nn.empty(),fn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:An()}function Rd(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?as(nn.empty(),fn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Bn:An()}function Tl(i,e){const t=Ss(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function lf(i,e){const t=Ss(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class us{constructor(e){this.value=e}static empty(){return new us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!pa(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ga(t)}setAll(e){let t=Ci.emptyPath(),o={},c=[];e.forEach((m,C)=>{if(!t.isImmediateParentOf(C)){const $=this.getFieldsMap(t);this.applyChanges($,o,c),o={},c=[],t=C.popLast()}m?o[C.lastSegment()]=ga(m):c.push(C.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,o,c)}delete(e){const t=this.field(e.popLast());pa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Es(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let c=t.mapValue.fields[e.get(o)];pa(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,o){Mo(t,(c,d)=>e[c]=d);for(const c of o)delete e[c]}clone(){return new us(ga(this.value))}}function Pd(i){const e=[];return Mo(i.fields,(t,o)=>{const c=new Ci([t]);if(pa(o)){const d=Pd(o.mapValue).fields;if(0===d.length)e.push(c);else for(const m of d)e.push(c.child(m))}else e.push(c)}),new A(e)}class wi{constructor(e,t,o,c,d,m){this.key=e,this.documentType=t,this.version=o,this.readTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new wi(e,0,dr.min(),dr.min(),us.empty(),0)}static newFoundDocument(e,t,o){return new wi(e,1,t,dr.min(),o,0)}static newNoDocument(e,t){return new wi(e,2,t,dr.min(),us.empty(),0)}static newUnknownDocument(e,t){return new wi(e,3,t,dr.min(),us.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $c{constructor(e,t=null,o=[],c=[],d=null,m=null,C=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=c,this.limit=d,this.startAt=m,this.endAt=C,this.ut=null}}function Al(i,e=null,t=[],o=[],c=null,d=null,m=null){return new $c(i,e,t,o,c,d,m)}function ou(i){const e=mn(i);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(c=o).field.canonicalString()+c.op.toString()+Uo(c.value);var c}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(c=o).field.canonicalString()+c.dir;var c}).join(","),Vn(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Uo(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Uo(o)).join(",")),e.ut=t}return e.ut}function Uc(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let c=0;c<i.orderBy.length;c++)if(!Ld(i.orderBy[c],e.orderBy[c]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let c=0;c<i.filters.length;c++)if((t=i.filters[c]).op!==(o=e.filters[c]).op||!t.field.isEqual(o.field)||!Es(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Vd(i.startAt,e.startAt)&&Vd(i.endAt,e.endAt)}function rc(i){return fn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function ic(i,e){return i.filters.filter(t=>t instanceof Ts&&t.field.isEqual(e))}function jc(i,e,t){let o=Ai,c=!0;for(const d of ic(i,e)){let m=Ai,C=!0;switch(d.op){case"<":case"<=":m=tg(d.value);break;case"==":case"in":case">=":m=d.value;break;case">":m=d.value,C=!1;break;case"!=":case"not-in":m=Ai}Tl({value:o,inclusive:c},{value:m,inclusive:C})<0&&(o=m,c=C)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const m=t.position[d];Tl({value:o,inclusive:c},{value:m,inclusive:t.inclusive})<0&&(o=m,c=t.inclusive);break}return{value:o,inclusive:c}}function kd(i,e,t){let o=Bn,c=!0;for(const d of ic(i,e)){let m=Bn,C=!0;switch(d.op){case">=":case">":m=Rd(d.value),C=!1;break;case"==":case"in":case"<=":m=d.value;break;case"<":m=d.value,C=!1;break;case"!=":case"not-in":m=Bn}lf({value:o,inclusive:c},{value:m,inclusive:C})>0&&(o=m,c=C)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const m=t.position[d];lf({value:o,inclusive:c},{value:m,inclusive:t.inclusive})>0&&(o=m,c=t.inclusive);break}return{value:o,inclusive:c}}class Ts extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,o):new Hc(e,t,o):"array-contains"===t?new df(e,o):"in"===t?new ng(e,o):"not-in"===t?new Gc(e,o):"array-contains-any"===t?new sc(e,o):new Ts(e,t,o)}static ct(e,t,o){return"in"===t?new xl(e,o):new au(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Ss(t,this.value)):null!==t&&Ui(this.value)===Ui(t)&&this.at(Ss(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return An()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Hc extends Ts{constructor(e,t,o){super(e,t,o),this.key=fn.fromName(o.referenceValue)}matches(e){const t=fn.comparator(e.key,this.key);return this.at(t)}}class xl extends Ts{constructor(e,t){super(e,"in",t),this.keys=Fd(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class au extends Ts{constructor(e,t){super(e,"not-in",t),this.keys=Fd(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Fd(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>fn.fromName(o.referenceValue))}class df extends Ts{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ea(t)&&qs(t.arrayValue,this.value)}}class ng extends Ts{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qs(this.value.arrayValue,t)}}class Gc extends Ts{constructor(e,t){super(e,"not-in",t)}matches(e){if(qs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qs(this.value.arrayValue,t)}}class sc extends Ts{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ea(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>qs(this.value.arrayValue,o))}}class ma{constructor(e,t){this.position=e,this.inclusive=t}}class ya{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ld(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function zc(i,e,t){let o=0;for(let c=0;c<i.position.length;c++){const d=e[c],m=i.position[c];if(o=d.field.isKeyField()?fn.comparator(fn.fromName(m.referenceValue),t.key):Ss(m,t.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function Vd(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Es(i.position[t],e.position[t]))return!1;return!0}class Ho{constructor(e,t=null,o=[],c=[],d=null,m="F",C=null,$=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=c,this.limit=d,this.limitType=m,this.startAt=C,this.endAt=$,this.lt=null,this.ft=null}}function Bd(i,e,t,o,c,d,m,C){return new Ho(i,e,t,o,c,d,m,C)}function uu(i){return new Ho(i)}function Ml(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function ta(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function cu(i){for(const e of i.filters)if(e.ht())return e.field;return null}function Ol(i){return null!==i.collectionGroup}function oc(i){const e=mn(i);if(null===e.lt){e.lt=[];const t=cu(e),o=ta(e);if(null!==t&&null===o)t.isKeyField()||e.lt.push(new ya(t)),e.lt.push(new ya(Ci.keyField(),"asc"));else{let c=!1;for(const d of e.explicitOrderBy)e.lt.push(d),d.field.isKeyField()&&(c=!0);if(!c){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new ya(Ci.keyField(),d))}}}return e.lt}function I(i){const e=mn(i);if(!e.ft)if("F"===e.limitType)e.ft=Al(e.path,e.collectionGroup,oc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of oc(e))t.push(new ya(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new ma(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new ma(e.startAt.position,e.startAt.inclusive):null;e.ft=Al(e.path,e.collectionGroup,t,e.filters,e.limit,o,c)}return e.ft}function f(i,e,t){return new Ho(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function g(i,e){return Uc(I(i),I(e))&&i.limitType===e.limitType}function S(i){return`${ou(I(i))}|lt:${i.limitType}`}function Y(i){return`Query(target=${function Nd(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${Uo(o.value)}`;var o}).join(", ")}]`),Vn(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>Uo(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>Uo(t)).join(",")),`Target(${e})`}(I(i))}; limitType=${i.limitType})`}function pe(i,e){return e.isFoundDocument()&&function(t,o){const c=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):fn.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(i,e)&&function(t,o){for(const c of t.explicitOrderBy)if(!c.field.isKeyField()&&null===o.data.field(c.field))return!1;return!0}(i,e)&&function(t,o){for(const c of t.filters)if(!c.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(c,d,m){const C=zc(c,d,m);return c.inclusive?C<=0:C<0}(t.startAt,oc(t),o)||t.endAt&&!function(c,d,m){const C=zc(c,d,m);return c.inclusive?C>=0:C>0}(t.endAt,oc(t),o)));var t,o}function mt(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Kt(i){return(e,t)=>{let o=!1;for(const c of oc(i)){const d=Nn(c,e,t);if(0!==d)return d;o=o||c.field.isKeyField()}return 0}}function Nn(i,e,t){const o=i.field.isKeyField()?fn.comparator(e.key,t.key):function(c,d,m){const C=d.data.field(c),$=m.data.field(c);return null!==C&&null!==$?Ss(C,$):An()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return An()}}function Zn(i,e){if(i.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kn(e)?"-0":e}}function Ar(i){return{integerValue:""+i}}function jr(i,e){return fr(e)?Ar(e):Zn(i,e)}class Bs{constructor(){this._=void 0}}function va(i,e,t){return i instanceof lu?function(o,c){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&(d.fields.__previous_value__=c),{mapValue:d}}(t,e):i instanceof du?$d(i,e):i instanceof Go?uc(i,e):function(o,c){const d=Wc(o,c),m=Rl(d)+Rl(o._t);return wo(d)&&wo(o._t)?Ar(m):Zn(o.wt,m)}(i,e)}function ac(i,e,t){return i instanceof du?$d(i,e):i instanceof Go?uc(i,e):t}function Wc(i,e){return i instanceof _a?wo(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class lu extends Bs{}class du extends Bs{constructor(e){super(),this.elements=e}}function $d(i,e){const t=Ud(e);for(const o of i.elements)t.some(c=>Es(c,o))||t.push(o);return{arrayValue:{values:t}}}class Go extends Bs{constructor(e){super(),this.elements=e}}function uc(i,e){let t=Ud(e);for(const o of i.elements)t=t.filter(c=>!Es(c,o));return{arrayValue:{values:t}}}class _a extends Bs{constructor(e,t){super(),this.wt=e,this._t=t}}function Rl(i){return T(i.integerValue||i.doubleValue)}function Ud(i){return ea(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Mu{constructor(e,t){this.field=e,this.transform=t}}class hf{constructor(e,t){this.version=e,this.transformResults=t}}class es{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new es}static exists(e){return new es(void 0,e)}static updateTime(e){return new es(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jd(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Nl{}function kl(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new Yc(i.key,es.none()):new Kc(i.key,i.data,es.none());{const t=i.data,o=us.empty();let c=new E(Ci.comparator);for(let d of e.fields)if(!c.has(d)){let m=t.field(d);null===m&&d.length>1&&(d=d.popLast(),m=t.field(d)),null===m?o.delete(d):o.set(d,m),c=c.add(d)}return new hu(i.key,o,new A(c.toArray()),es.none())}}function xy(i,e,t){i instanceof Kc?function(o,c,d){const m=o.value.clone(),C=ff(o.fieldTransforms,c,d.transformResults);m.setAll(C),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(i,e,t):i instanceof hu?function(o,c,d){if(!jd(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=ff(o.fieldTransforms,c,d.transformResults),C=c.data;C.setAll(Hd(o)),C.setAll(m),c.convertToFoundDocument(d.version,C).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function cc(i,e,t,o){return i instanceof Kc?function(c,d,m,C){if(!jd(c.precondition,d))return m;const $=c.value.clone(),z=rg(c.fieldTransforms,C,d);return $.setAll(z),d.convertToFoundDocument(d.version,$).setHasLocalMutations(),null}(i,e,t,o):i instanceof hu?function(c,d,m,C){if(!jd(c.precondition,d))return m;const $=rg(c.fieldTransforms,C,d),z=d.data;return z.setAll(Hd(c)),z.setAll($),d.convertToFoundDocument(d.version,z).setHasLocalMutations(),null===m?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(ce=>ce.field))}(i,e,t,o):(m=t,jd(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m);var d,m}function My(i,e){let t=null;for(const o of i.fieldTransforms){const c=e.data.field(o.field),d=Wc(o.transform,c||null);null!=d&&(null===t&&(t=us.empty()),t.set(o.field,d))}return t||null}function ws(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&$i(t,o,(c,d)=>function Pl(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof du&&o instanceof du||t instanceof Go&&o instanceof Go?$i(t.elements,o.elements,Es):t instanceof _a&&o instanceof _a?Es(t._t,o._t):t instanceof lu&&o instanceof lu);var t,o}(c,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class Kc extends Nl{constructor(e,t,o,c=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class hu extends Nl{constructor(e,t,o,c,d=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=c,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function Hd(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function ff(i,e,t){const o=new Map;sr(i.length===t.length);for(let c=0;c<t.length;c++){const d=i[c],m=d.transform,C=e.data.field(d.field);o.set(d.field,ac(m,C,t[c]))}return o}function rg(i,e,t){const o=new Map;for(const c of i){const d=c.transform,m=t.data.field(c.field);o.set(c.field,va(d,m,e))}return o}class Yc extends Nl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pf extends Nl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Oy{constructor(e){this.count=e}}var As,ri;function Ry(i){switch(i){default:return An();case Mt.CANCELLED:case Mt.UNKNOWN:case Mt.DEADLINE_EXCEEDED:case Mt.RESOURCE_EXHAUSTED:case Mt.INTERNAL:case Mt.UNAVAILABLE:case Mt.UNAUTHENTICATED:return!1;case Mt.INVALID_ARGUMENT:case Mt.NOT_FOUND:case Mt.ALREADY_EXISTS:case Mt.PERMISSION_DENIED:case Mt.FAILED_PRECONDITION:case Mt.ABORTED:case Mt.OUT_OF_RANGE:case Mt.UNIMPLEMENTED:case Mt.DATA_LOSS:return!0}}function qc(i){if(void 0===i)return Zr("GRPC error has no .code"),Mt.UNKNOWN;switch(i){case As.OK:return Mt.OK;case As.CANCELLED:return Mt.CANCELLED;case As.UNKNOWN:return Mt.UNKNOWN;case As.DEADLINE_EXCEEDED:return Mt.DEADLINE_EXCEEDED;case As.RESOURCE_EXHAUSTED:return Mt.RESOURCE_EXHAUSTED;case As.INTERNAL:return Mt.INTERNAL;case As.UNAVAILABLE:return Mt.UNAVAILABLE;case As.UNAUTHENTICATED:return Mt.UNAUTHENTICATED;case As.INVALID_ARGUMENT:return Mt.INVALID_ARGUMENT;case As.NOT_FOUND:return Mt.NOT_FOUND;case As.ALREADY_EXISTS:return Mt.ALREADY_EXISTS;case As.PERMISSION_DENIED:return Mt.PERMISSION_DENIED;case As.FAILED_PRECONDITION:return Mt.FAILED_PRECONDITION;case As.ABORTED:return Mt.ABORTED;case As.OUT_OF_RANGE:return Mt.OUT_OF_RANGE;case As.UNIMPLEMENTED:return Mt.UNIMPLEMENTED;case As.DATA_LOSS:return Mt.DATA_LOSS;default:return An()}}(ri=As||(As={}))[ri.OK=0]="OK",ri[ri.CANCELLED=1]="CANCELLED",ri[ri.UNKNOWN=2]="UNKNOWN",ri[ri.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ri[ri.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ri[ri.NOT_FOUND=5]="NOT_FOUND",ri[ri.ALREADY_EXISTS=6]="ALREADY_EXISTS",ri[ri.PERMISSION_DENIED=7]="PERMISSION_DENIED",ri[ri.UNAUTHENTICATED=16]="UNAUTHENTICATED",ri[ri.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ri[ri.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ri[ri.ABORTED=10]="ABORTED",ri[ri.OUT_OF_RANGE=11]="OUT_OF_RANGE",ri[ri.UNIMPLEMENTED=12]="UNIMPLEMENTED",ri[ri.INTERNAL=13]="INTERNAL",ri[ri.UNAVAILABLE=14]="UNAVAILABLE",ri[ri.DATA_LOSS=15]="DATA_LOSS";class ja{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[c,d]of o)if(this.equalsFn(c,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),c=this.inner[o];if(void 0===c)return this.inner[o]=[[e,t]],void this.innerSize++;for(let d=0;d<c.length;d++)if(this.equalsFn(c[d][0],e))return void(c[d]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return 1===o.length?delete this.inner[t]:o.splice(c,1),this.innerSize--,!0;return!1}forEach(e){Mo(this.inner,(t,o)=>{for(const[c,d]of o)e(c,d)})}isEmpty(){return $a(this.inner)}size(){return this.innerSize}}const ig=new li(fn.comparator);function bo(){return ig}const gf=new li(fn.comparator);function Fl(...i){let e=gf;for(const t of i)e=e.insert(t.key,t);return e}function mf(i){let e=gf;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Ea(){return zd()}function Gd(){return zd()}function zd(){return new ja(i=>i.toString(),(i,e)=>i.isEqual(e))}const Py=new li(fn.comparator),yf=new E(fn.comparator);function Or(...i){let e=yf;for(const t of i)e=e.add(t);return e}const sg=new E(or);function Ha(){return sg}class Ll{constructor(e,t,o,c,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,lc.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ll(dr.min(),o,Ha(),bo(),Or())}}class lc{constructor(e,t,o,c,d){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t){return new lc(W.EMPTY_BYTE_STRING,t,Or(),Or(),Or())}}class dc{constructor(e,t,o,c){this.gt=e,this.removedTargetIds=t,this.key=o,this.yt=c}}class og{constructor(e,t){this.targetId=e,this.It=t}}class Wd{constructor(e,t,o=W.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=c}}class Vl{constructor(){this.Tt=0,this.Et=Kd(),this.At=W.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Or(),t=Or(),o=Or();return this.Et.forEach((c,d)=>{switch(d){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:o=o.add(c);break;default:An()}}),new lc(this.At,this.Rt,e,t,o)}Dt(){this.bt=!1,this.Et=Kd()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class hc{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=bo(),this.Bt=vf(),this.Lt=new E(or)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const o=this.Qt(t);switch(e.state){case 0:this.jt(t)&&o.Vt(e.resumeToken);break;case 1:o.kt(),o.Pt||o.Dt(),o.Vt(e.resumeToken);break;case 2:o.kt(),o.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(o.Mt(),o.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),o.Vt(e.resumeToken));break;default:An()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((o,c)=>{this.jt(c)&&t(c)})}zt(e){const t=e.targetId,o=e.It.count,c=this.Ht(t);if(c){const d=c.target;if(rc(d))if(0===o){const m=new fn(d.path);this.Kt(t,m,wi.newNoDocument(m,dr.min()))}else sr(1===o);else this.Jt(t)!==o&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((d,m)=>{const C=this.Ht(m);if(C){if(d.current&&rc(C.target)){const $=new fn(C.target.path);null!==this.$t.get($)||this.Xt(m,$)||this.Kt(m,$,wi.newNoDocument($,e))}d.vt&&(t.set(m,d.St()),d.Dt())}});let o=Or();this.Bt.forEach((d,m)=>{let C=!0;m.forEachWhile($=>{const z=this.Ht($);return!z||2===z.purpose||(C=!1,!1)}),C&&(o=o.add(d))}),this.$t.forEach((d,m)=>m.setReadTime(e));const c=new Ll(e,t,this.Lt,this.$t,o);return this.$t=bo(),this.Bt=vf(),this.Lt=new E(or),c}qt(e,t){if(!this.jt(e))return;const o=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,o),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,o){if(!this.jt(e))return;const c=this.Qt(e);this.Xt(e,t)?c.Ct(t,1):c.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),o&&(this.$t=this.$t.insert(t,o))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new Vl,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new E(or),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Xt("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new Vl),this.Ot.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}function vf(){return new li(fn.comparator)}function Kd(){return new li(fn.comparator)}const Ny={asc:"ASCENDING",desc:"DESCENDING"},ky={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ag{constructor(e,t){this.databaseId=e,this.dt=t}}function Ga(i,e){return i.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ug(i,e){return i.dt?e.toBase64():e.toUint8Array()}function Fy(i,e){return Ga(i,e.toTimestamp())}function Zs(i){return sr(!!i),dr.fromTimestamp(function(e){const t=w(e);return new Xr(t.seconds,t.nanos)}(i))}function _f(i,e){return(t=i,new Un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Yd(i){const e=Un.fromString(i);return sr(Vy(e)),e}function Bl(i,e){return _f(i.databaseId,e.path)}function wa(i,e){const t=Yd(e);if(t.get(1)!==i.databaseId.projectId)throw new Wt(Mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Wt(Mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new fn(cg(t))}function Ef(i,e){return _f(i.databaseId,e)}function wf(i){const e=Yd(i);return 4===e.length?Un.emptyPath():cg(e)}function qd(i){return new Un(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function cg(i){return sr(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function Zc(i,e,t){return{name:Bl(i,e),fields:t.value.mapValue.fields}}function lg(i,e,t){const o=wa(i,e.name),c=Zs(e.updateTime),d=new us({mapValue:{fields:e.fields}}),m=wi.newFoundDocument(o,c,d);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function Ul(i,e){let t;if(e instanceof Kc)t={update:Zc(i,e.key,e.value)};else if(e instanceof Yc)t={delete:Bl(i,e.key)};else if(e instanceof hu)t={update:Zc(i,e.key,e.data),updateMask:Df(e.fieldMask)};else{if(!(e instanceof pf))return An();t={verify:Bl(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(c,d){const m=d.transform;if(m instanceof lu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof du)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Go)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof _a)return{fieldPath:d.field.canonicalString(),increment:m._t};throw An()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:Fy(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:An()),t;var c}function dg(i,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?es.updateTime(Zs(c.updateTime)):void 0!==c.exists?es.exists(c.exists):es.none():es.none(),o=e.updateTransforms?e.updateTransforms.map(c=>function(d,m){let C=null;"setToServerValue"in m?(sr("REQUEST_TIME"===m.setToServerValue),C=new lu):"appendMissingElements"in m?C=new du(m.appendMissingElements.values||[]):"removeAllFromArray"in m?C=new Go(m.removeAllFromArray.values||[]):"increment"in m?C=new _a(d,m.increment):An();const $=Ci.fromServerFormat(m.fieldPath);return new Mu($,C)}(i,c)):[];var c;if(e.update){const c=wa(i,e.update.name),d=new us({mapValue:{fields:e.update.fields}});if(e.updateMask){const m=new A((e.updateMask.fieldPaths||[]).map(z=>Ci.fromServerFormat(z)));return new hu(c,d,m,t,o)}return new Kc(c,d,t,o)}if(e.delete){const c=wa(i,e.delete);return new Yc(c,t)}if(e.verify){const c=wa(i,e.verify);return new pf(c,t)}return An()}function fg(i,e){return{documents:[Ef(i,e.path)]}}function pg(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=Ef(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ef(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const c=function($){if(0===$.length)return;const z=$.map(ce=>function(We){if("=="===We.op){if(Od(We.value))return{unaryFilter:{field:Qc(We.field),op:"IS_NAN"}};if(Vc(We.value))return{unaryFilter:{field:Qc(We.field),op:"IS_NULL"}}}else if("!="===We.op){if(Od(We.value))return{unaryFilter:{field:Qc(We.field),op:"IS_NOT_NAN"}};if(Vc(We.value))return{unaryFilter:{field:Qc(We.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qc(We.field),op:Ly(We.op),value:We.value}}}(ce));return 1===z.length?z[0]:{compositeFilter:{op:"AND",filters:z}}}(e.filters);c&&(t.structuredQuery.where=c);const d=function($){if(0!==$.length)return $.map(z=>{return{field:Qc((ce=z).field),direction:If(ce.dir)};var ce})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=(z=e.limit,i.dt||Vn(z)?z:{value:z});var z,C,$;return null!==m&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt={before:(C=e.startAt).inclusive,values:C.position}),e.endAt&&(t.structuredQuery.endAt={before:!($=e.endAt).inclusive,values:$.position}),t}function gg(i){let e=wf(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let c=null;if(o>0){sr(1===o);const ce=t.from[0];ce.allDescendants?c=ce.collectionId:e=e.child(ce.collectionId)}let d=[];t.where&&(d=bf(t.where));let m=[];t.orderBy&&(m=t.orderBy.map(ce=>{return new ya(Ou((We=ce).field),function(It){switch(It){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(We.direction));var We}));let C=null;t.limit&&(C=function(ce){let We;return We="object"==typeof ce?ce.value:ce,Vn(We)?null:We}(t.limit));let $=null;var ce;t.startAt&&($=new ma((ce=t.startAt).values||[],!!ce.before));let z=null;return t.endAt&&(z=function(ce){return new ma(ce.values||[],!ce.before)}(t.endAt)),Bd(e,c,m,d,C,"F",$,z)}function bf(i){return i?void 0!==i.unaryFilter?[q_(i)]:void 0!==i.fieldFilter?[Y_(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>bf(e)).reduce((e,t)=>e.concat(t)):An():[]}function If(i){return Ny[i]}function Ly(i){return ky[i]}function Qc(i){return{fieldPath:i.canonicalString()}}function Ou(i){return Ci.fromServerFormat(i.fieldPath)}function Y_(i){return Ts.create(Ou(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return An()}}(i.fieldFilter.op),i.fieldFilter.value)}function q_(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Ou(i.unaryFilter.field);return Ts.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ou(i.unaryFilter.field);return Ts.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ou(i.unaryFilter.field);return Ts.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ou(i.unaryFilter.field);return Ts.create(c,"!=",{nullValue:"NULL_VALUE"});default:return An()}}function Df(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Vy(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Oo(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=By(e)),e=Z_(i.get(t),e);return By(e)}function Z_(i,e){let t=e;const o=i.length;for(let c=0;c<o;c++){const d=i.charAt(c);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function By(i){return i+"\x01\x01"}function fu(i){const e=i.length;if(sr(e>=2),2===e)return sr("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Un.emptyPath();const t=e-2,o=[];let c="";for(let d=0;d<e;){const m=i.indexOf("\x01",d);switch((m<0||m>t)&&An(),i.charAt(m+1)){case"\x01":const C=i.substring(d,m);let $;0===c.length?$=C:(c+=C,$=c,c=""),o.push($);break;case"\x10":c+=i.substring(d,m),c+="\0";break;case"\x11":c+=i.substring(d,m+1);break;default:An()}d=m+2}return new Un(o)}const yg=["userId","batchId"];function jl(i,e){return[i,Oo(e)]}function Zd(i,e,t){return[i,Oo(e),t]}const vg={},_g=["prefixPath","collectionGroup","readTime","documentId"],Eg=["prefixPath","collectionGroup","documentId"],Cf=["collectionGroup","readTime","prefixPath","documentId"],$y=["canonicalId","targetId"],Sf=["targetId","path"],Hl=["path","targetId"],Uy=["collectionId","parent"],jy=["indexId","uid"],Hy=["uid","sequenceNumber"],wg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Gy=["indexId","uid","orderedDocumentKey"],zy=["userId","collectionPath","documentId"],Wy=["userId","collectionPath","largestBatchId"],Ky=["userId","collectionGroup","largestBatchId"],Xd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Yy=[...Xd,"documentOverlays"],bg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ig=bg,Dg=[...Ig,"indexConfiguration","indexState","indexEntries"];class Tf extends Ki{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Xs(i,e){const t=mn(i);return Ti.N(t.ee,e)}class no{constructor(e,t,o,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const d=this.mutations[c];d.key.isEqual(e.key)&&xy(d,e,o[c])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=cc(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=cc(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=Gd();return this.mutations.forEach(c=>{const d=e.get(c.key),m=d.overlayedDocument;let C=this.applyToLocalView(m,d.mutatedFields);C=t.has(c.key)?null:C;const $=kl(m,C);null!==$&&o.set(c.key,$),m.isValidDocument()||m.convertToNoDocument(dr.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Or())}isEqual(e){return this.batchId===e.batchId&&$i(this.mutations,e.mutations,(t,o)=>ws(t,o))&&$i(this.baseMutations,e.baseMutations,(t,o)=>ws(t,o))}}class Gl{constructor(e,t,o,c){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=c}static from(e,t,o){sr(e.mutations.length===o.length);let c=Py;const d=e.mutations;for(let m=0;m<d.length;m++)c=c.insert(d[m].key,o[m].version);return new Gl(e,t,o,c)}}class Qd{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class za{constructor(e,t,o,c,d=dr.min(),m=dr.min(),C=W.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=C}withSequenceNumber(e){return new za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class ro{constructor(e){this.ne=e}}function Jd(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:eh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Bl(c=i.ne,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:Ga(c,d.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:fc(e.version)};else{if(!e.isUnknownDocument())return An();o.unknownDocument={path:t.path.toArray(),version:fc(e.version)}}var c,d;return o}function eh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function fc(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ru(i){const e=new Xr(i.seconds,i.nanoseconds);return dr.fromTimestamp(e)}function pc(i,e){const t=(e.baseMutations||[]).map(d=>dg(i.ne,d));for(let d=0;d<e.mutations.length-1;++d){const m=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(m.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const o=e.mutations.map(d=>dg(i.ne,d)),c=Xr.fromMillis(e.localWriteTimeMs);return new no(e.batchId,c,t,o)}function Jc(i){const e=Ru(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Ru(i.lastLimboFreeSnapshotVersion):dr.min();let o;var c;return void 0!==i.query.documents?(sr(1===(c=i.query).documents.length),o=I(uu(wf(c.documents[0])))):o=I(gg(i.query)),new za(o,i.targetId,0,i.lastListenSequenceNumber,e,t,W.fromBase64String(i.resumeToken))}function Cg(i,e){const t=fc(e.snapshotVersion),o=fc(e.lastLimboFreeSnapshotVersion);let c;c=rc(e.target)?fg(i.ne,e.target):pg(i.ne,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ou(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:c}}function th(i){const e=gg({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?f(e,e.limit,"L"):e}function Af(i,e){return new Qd(e.largestBatchId,dg(i.ne,e.overlayMutation))}function Sg(i,e){const t=e.path.lastSegment();return[i,Oo(e.path.popLast()),t]}function Tg(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:fc(o.readTime),documentKey:Oo(o.documentKey.path),largestBatchId:o.largestBatchId}}class qy{getBundleMetadata(e,t){return Ag(e).get(t).next(o=>{if(o)return{id:(c=o).bundleId,createTime:Ru(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return Ag(e).put({bundleId:(o=t).id,createTime:fc(Zs(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return gc(e).get(t).next(o=>{if(o)return{name:(c=o).name,query:th(c.bundledQuery),readTime:Ru(c.readTime)};var c})}saveNamedQuery(e,t){return gc(e).put({name:(o=t).name,readTime:fc(Zs(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Ag(i){return Xs(i,"bundles")}function gc(i){return Xs(i,"namedQueries")}class na{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new na(e,t.uid||"")}getOverlay(e,t){return Wl(e).get(Sg(this.userId,t)).next(o=>o?Af(this.wt,o):null)}getOverlays(e,t){const o=Ea();return Dt.forEach(t,c=>this.getOverlay(e,c).next(d=>{null!==d&&o.set(c,d)})).next(()=>o)}saveOverlays(e,t,o){const c=[];return o.forEach((d,m)=>{const C=new Qd(t,m);c.push(this.ie(e,C))}),Dt.waitFor(c)}removeOverlaysForBatchId(e,t,o){const c=new Set;t.forEach(m=>c.add(Oo(m.getCollectionPath())));const d=[];return c.forEach(m=>{const C=IDBKeyRange.bound([this.userId,m,o],[this.userId,m,o+1],!1,!0);d.push(Wl(e).W("collectionPathOverlayIndex",C))}),Dt.waitFor(d)}getOverlaysForCollection(e,t,o){const c=Ea(),d=Oo(t),m=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Wl(e).K("collectionPathOverlayIndex",m).next(C=>{for(const $ of C){const z=Af(this.wt,$);c.set(z.getKey(),z)}return c})}getOverlaysForCollectionGroup(e,t,o,c){const d=Ea();let m;const C=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Wl(e).J({index:"collectionGroupOverlayIndex",range:C},($,z,ce)=>{const We=Af(this.wt,z);d.size()<c||We.largestBatchId===m?(d.set(We.getKey(),We),m=We.largestBatchId):ce.done()}).next(()=>d)}ie(e,t){return Wl(e).put(function(o,c,d){const[m,C,$]=Sg(c,d.mutation.key);return{userId:c,collectionPath:C,documentId:$,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:Ul(o.ne,d.mutation)}}(this.wt,this.userId,t))}}function Wl(i){return Xs(i,"documentOverlays")}class mc{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(T(e.integerValue));else if("doubleValue"in e){const o=T(e.doubleValue);isNaN(o)?this.ce(t,13):(this.ce(t,15),Kn(o)?t.ae(0):t.ae(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ce(t,20),"string"==typeof o?t.he(o):(t.he(`${o.seconds||""}`),t.ae(o.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(H(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ce(t,45),t.ae(o.latitude||0),t.ae(o.longitude||0)}else"mapValue"in e?Bc(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):An()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const o=e.fields||{};this.ce(t,55);for(const c of Object.keys(o))this.le(c,t),this.oe(o[c],t)}me(e,t){const o=e.values||[];this.ce(t,50);for(const c of o)this.oe(c,t)}_e(e,t){this.ce(t,37),fn.fromName(e).path.forEach(o=>{this.ce(t,60),this.ge(o,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function X_(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Zy(i){const e=64-function(t){let o=0;for(let c=0;c<8;++c){const d=X_(255&t[c]);if(o+=d,8!==d)break}return o}(i);return Math.ceil(e/8)}mc.ye=new mc;class xg{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ie(o.value),o=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ie(o);else if(o<2048)this.Ie(960|o>>>6),this.Ie(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o);else{const c=t.codePointAt(0);this.Ie(240|c>>>18),this.Ie(128|63&c>>>12),this.Ie(128|63&c>>>6),this.Ie(128|63&c)}}this.Te()}Pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const c=t.codePointAt(0);this.Ae(240|c>>>18),this.Ae(128|63&c>>>12),this.Ae(128|63&c>>>6),this.Ae(128|63&c)}}this.Re()}ve(e){const t=this.Ve(e),o=Zy(t);this.Se(1+o),this.buffer[this.position++]=255&o;for(let c=t.length-o;c<t.length;++c)this.buffer[this.position++]=255&t[c]}De(e){const t=this.Ve(e),o=Zy(t);this.Se(1+o),this.buffer[this.position++]=~(255&o);for(let c=t.length-o;c<t.length;++c)this.buffer[this.position++]=~(255&t[c])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Me(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(c){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,c,!1),new Uint8Array(d.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let c=1;c<t.length;++c)t[c]^=o?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const c=new Uint8Array(o);c.set(this.buffer),this.buffer=c}}class Q_{constructor(e){this.Oe=e}de(e){this.Oe.pe(e)}he(e){this.Oe.be(e)}ae(e){this.Oe.ve(e)}ue(){this.Oe.Ce()}}class Wa{constructor(e){this.Oe=e}de(e){this.Oe.Ee(e)}he(e){this.Oe.Pe(e)}ae(e){this.Oe.De(e)}ue(){this.Oe.Ne()}}class yc{constructor(){this.Oe=new xg,this.Fe=new Q_(this.Oe),this.$e=new Wa(this.Oe)}seed(e){this.Oe.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class pu{constructor(e,t,o,c){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=c}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new pu(this.indexId,this.documentKey,this.arrayValue,o)}}function vc(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=xf(i.arrayValue,e.arrayValue),0!==t?t:(t=xf(i.directionalValue,e.directionalValue),0!==t?t:fn.comparator(i.documentKey,e.documentKey)))}function xf(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class Xy{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const o=t;o.ht()?this.Ke=o:this.qe.push(o)}}Ge(e){const t=Ju(e);if(void 0!==t&&!this.Qe(t))return!1;const o=ca(e);let c=0,d=0;for(;c<o.length&&this.Qe(o[c]);++c);if(c===o.length)return!0;if(void 0!==this.Ke){const m=o[c];if(!this.je(this.Ke,m)||!this.We(this.Ue[d++],m))return!1;++c}for(;c<o.length;++c){const m=o[c];if(d>=this.Ue.length||!this.We(this.Ue[d++],m))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Kl{constructor(){this.ze=new Mf}addToCollectionParentIndex(e,t){return this.ze.add(t),Dt.resolve()}getCollectionParents(e,t){return Dt.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return Dt.resolve()}deleteFieldIndex(e,t){return Dt.resolve()}getDocumentsMatchingTarget(e,t){return Dt.resolve(null)}getIndexType(e,t){return Dt.resolve(0)}getFieldIndexes(e,t){return Dt.resolve([])}getNextCollectionGroupToUpdate(e){return Dt.resolve(null)}getMinOffset(e,t){return Dt.resolve(Si.min())}getMinOffsetFromCollectionGroup(e,t){return Dt.resolve(Si.min())}updateCollectionGroup(e,t,o){return Dt.resolve()}updateIndexEntries(e,t){return Dt.resolve()}}class Mf{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),c=this.index[t]||new E(Un.comparator),d=!c.has(o);return this.index[t]=c.add(o),d}has(e){const t=e.lastSegment(),o=e.popLast(),c=this.index[t];return c&&c.has(o)}getEntries(e){return(this.index[e]||new E(Un.comparator)).toArray()}}const nh=new Uint8Array(0);class Of{constructor(e,t){this.user=e,this.databaseId=t,this.He=new Mf,this.Je=new ja(o=>ou(o),(o,c)=>Uc(o,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const o=t.lastSegment(),c=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const d={collectionId:o,parent:Oo(c)};return rh(e).put(d)}return Dt.resolve()}getCollectionParents(e,t){const o=[],c=IDBKeyRange.bound([t,""],[mi(t),""],!1,!0);return rh(e).K(c).next(d=>{for(const m of d){if(m.collectionId!==t)break;o.push(fu(m.parent))}return o})}addFieldIndex(e,t){const o=Rf(e),c={indexId:(m=t).indexId,collectionGroup:m.collectionGroup,fields:m.fields.map(C=>[C.fieldPath.canonicalString(),C.kind])};var m;delete c.indexId;const d=o.add(c);if(t.indexState){const m=Ka(e);return d.next(C=>{m.put(Tg(C,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const o=Rf(e),c=Ka(e),d=el(e);return o.delete(t.indexId).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=el(e);let c=!0;const d=new Map;return Dt.forEach(this.Ye(t),m=>this.Xe(e,m).next(C=>{c&&(c=!!C),d.set(m,C)})).next(()=>{if(c){let m=Or();const C=[];return Dt.forEach(d,($,z)=>{var ce;Xt("IndexedDbIndexManager",`Using index ${ce=$,`id=${ce.indexId}|cg=${ce.collectionGroup}|f=${ce.fields.map(si=>`${si.fieldPath}:${si.kind}`).join(",")}`} to execute ${ou(t)}`);const We=function(si,Yi){const oi=Ju(Yi);if(void 0===oi)return null;for(const Qr of ic(si,oi.fieldPath))switch(Qr.op){case"array-contains-any":return Qr.value.arrayValue.values||[];case"array-contains":return[Qr.value]}return null}(z,$),It=function(si,Yi){const oi=new Map;for(const Qr of ca(Yi))for(const ts of ic(si,Qr.fieldPath))switch(ts.op){case"==":case"in":oi.set(Qr.fieldPath.canonicalString(),ts.value);break;case"not-in":case"!=":return oi.set(Qr.fieldPath.canonicalString(),ts.value),Array.from(oi.values())}return null}(z,$),$t=function(si,Yi){const oi=[];let Qr=!0;for(const ts of ca(Yi)){const Ad=0===ts.kind?jc(si,ts.fieldPath,si.startAt):kd(si,ts.fieldPath,si.startAt);oi.push(Ad.value),Qr&&(Qr=Ad.inclusive)}return new ma(oi,Qr)}(z,$),Ht=function(si,Yi){const oi=[];let Qr=!0;for(const ts of ca(Yi)){const Ad=0===ts.kind?kd(si,ts.fieldPath,si.endAt):jc(si,ts.fieldPath,si.endAt);oi.push(Ad.value),Qr&&(Qr=Ad.inclusive)}return new ma(oi,Qr)}(z,$),In=this.Ze($,z,$t),qn=this.Ze($,z,Ht),$r=this.tn($,z,It),yi=this.en($.indexId,We,In,$t.inclusive,qn,Ht.inclusive,$r);return Dt.forEach(yi,si=>o.j(si,t.limit).next(Yi=>{Yi.forEach(oi=>{const Qr=fn.fromSegments(oi.documentKey);m.has(Qr)||(m=m.add(Qr),C.push(Qr))})}))}).next(()=>C)}return Dt.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,o,c,d,m,C){const $=(null!=t?t.length:1)*Math.max(o.length,d.length),z=$/(null!=t?t.length:1),ce=[];for(let We=0;We<$;++We){const It=t?this.nn(t[We/z]):nh,$t=this.sn(e,It,o[We%z],c),Ht=this.rn(e,It,d[We%z],m),In=C.map(qn=>this.sn(e,It,qn,!0));ce.push(...this.createRange($t,Ht,In))}return ce}sn(e,t,o,c){const d=new pu(e,fn.empty(),t,o);return c?d:d.Le()}rn(e,t,o,c){const d=new pu(e,fn.empty(),t,o);return c?d.Le():d}Xe(e,t){const o=new Xy(t),c=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,c).next(d=>{let m=null;for(const C of d)o.Ge(C)&&(!m||C.fields.length>m.fields.length)&&(m=C);return m})}getIndexType(e,t){let o=2;return Dt.forEach(this.Ye(t),c=>this.Xe(e,c).next(d=>{d?0!==o&&d.fields.length<function(m){let C=new E(Ci.comparator),$=!1;for(const z of m.filters){const ce=z;ce.field.isKeyField()||("array-contains"===ce.op||"array-contains-any"===ce.op?$=!0:C=C.add(ce.field))}for(const z of m.orderBy)z.field.isKeyField()||(C=C.add(z.field));return C.size+($?1:0)}(c)&&(o=1):o=0})).next(()=>o)}on(e,t){const o=new yc;for(const c of ca(e)){const d=t.data.field(c.fieldPath);if(null==d)return null;const m=o.Be(c.kind);mc.ye.re(d,m)}return o.Me()}nn(e){const t=new yc;return mc.ye.re(e,t.Be(0)),t.Me()}un(e,t){const o=new yc;return mc.ye.re(as(this.databaseId,t),o.Be(function(c){const d=ca(c);return 0===d.length?0:d[d.length-1].kind}(e))),o.Me()}tn(e,t,o){if(null===o)return[];let c=[];c.push(new yc);let d=0;for(const m of ca(e)){const C=o[d++];for(const $ of c)if(this.cn(t,m.fieldPath)&&ea(C))c=this.an(c,m,C);else{const z=$.Be(m.kind);mc.ye.re(C,z)}}return this.hn(c)}Ze(e,t,o){return this.tn(e,t,o.position)}hn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Me();return t}an(e,t,o){const c=[...e],d=[];for(const m of o.arrayValue.values||[])for(const C of c){const $=new yc;$.seed(C.Me()),mc.ye.re(m,$.Be(t.kind)),d.push($)}return d}cn(e,t){return!!e.filters.find(o=>o instanceof Ts&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Rf(e),c=Ka(e);return(t?o.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.K()).next(d=>{const m=[];return Dt.forEach(d,C=>c.get([C.indexId,this.uid]).next($=>{m.push(function(z,ce){const We=ce?new Au(ce.sequenceNumber,new Si(Ru(ce.readTime),new fn(fu(ce.documentKey)),ce.largestBatchId)):Au.empty(),It=z.fields.map(([$t,Ht])=>new xo(Ci.fromServerFormat($t),Ht));return new Tu(z.indexId,z.collectionGroup,It,We)}(C,$))})).next(()=>m)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,c)=>{const d=o.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==d?d:or(o.collectionGroup,c.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const c=Rf(e),d=Ka(e);return this.ln(e).next(m=>c.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(C=>Dt.forEach(C,$=>d.put(Tg($.indexId,this.user,m,o)))))}updateIndexEntries(e,t){const o=new Map;return Dt.forEach(t,(c,d)=>{const m=o.get(c.collectionGroup);return(m?Dt.resolve(m):this.getFieldIndexes(e,c.collectionGroup)).next(C=>(o.set(c.collectionGroup,C),Dt.forEach(C,$=>this.fn(e,c,$).next(z=>{const ce=this.dn(d,$);return z.isEqual(ce)?Dt.resolve():this._n(e,d,$,z,ce)}))))})}wn(e,t,o,c){return el(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.un(o,t.key),documentKey:t.key.path.toArray()})}mn(e,t,o,c){return el(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.un(o,t.key),t.key.path.toArray()])}fn(e,t,o){const c=el(e);let d=new E(vc);return c.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.un(o,t)])},(m,C)=>{d=d.add(new pu(o.indexId,t,C.arrayValue,C.directionalValue))}).next(()=>d)}dn(e,t){let o=new E(vc);const c=this.on(t,e);if(null==c)return o;const d=Ju(t);if(null!=d){const m=e.data.field(d.fieldPath);if(ea(m))for(const C of m.arrayValue.values||[])o=o.add(new pu(t.indexId,e.key,this.nn(C),c))}else o=o.add(new pu(t.indexId,e.key,nh,c));return o}_n(e,t,o,c,d){Xt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const m=[];return function(C,$,z,ce,We){const It=C.getIterator(),$t=$.getIterator();let Ht=v(It),In=v($t);for(;Ht||In;){let qn=!1,$r=!1;if(Ht&&In){const yi=z(Ht,In);yi<0?$r=!0:yi>0&&(qn=!0)}else null!=Ht?$r=!0:qn=!0;qn?(ce(In),In=v($t)):$r?(We(Ht),Ht=v(It)):(Ht=v(It),In=v($t))}}(c,d,vc,C=>{m.push(this.wn(e,t,o,C))},C=>{m.push(this.mn(e,t,o,C))}),Dt.waitFor(m)}ln(e){let t=1;return Ka(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,c,d)=>{d.done(),t=c.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((m,C)=>vc(m,C)).filter((m,C,$)=>!C||0!==vc(m,$[C-1]));const c=[];c.push(e);for(const m of o){const C=vc(m,e),$=vc(m,t);if(0===C)c[0]=e.Le();else if(C>0&&$<0)c.push(m),c.push(m.Le());else if($>0)break}c.push(t);const d=[];for(let m=0;m<c.length;m+=2)d.push(IDBKeyRange.bound([c[m].indexId,this.uid,c[m].arrayValue,c[m].directionalValue,nh,[]],[c[m+1].indexId,this.uid,c[m+1].arrayValue,c[m+1].directionalValue,nh,[]]));return d}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ih)}getMinOffset(e,t){return Dt.mapArray(this.Ye(t),o=>this.Xe(e,o).next(c=>c||An())).next(ih)}}function rh(i){return Xs(i,"collectionParents")}function el(i){return Xs(i,"indexEntries")}function Rf(i){return Xs(i,"indexConfiguration")}function Ka(i){return Xs(i,"indexState")}function ih(i){sr(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const c=i[o].indexState.offset;tc(c,e)<0&&(e=c),t<c.largestBatchId&&(t=c.largestBatchId)}return new Si(e.readTime,e.documentKey,t)}const Pf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ro{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ro(e,Ro.DEFAULT_COLLECTION_PERCENTILE,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function sh(i,e,t){const o=i.store("mutations"),c=i.store("documentMutations"),d=[],m=IDBKeyRange.only(t.batchId);let C=0;const $=o.J({range:m},(ce,We,It)=>(C++,It.delete()));d.push($.next(()=>{sr(1===C)}));const z=[];for(const ce of t.mutations){const We=Zd(e,ce.key.path,t.batchId);d.push(c.delete(We)),z.push(ce.key)}return Dt.waitFor(d).next(()=>z)}function oh(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw An();e=i.noDocument}return JSON.stringify(e).length}Ro.DEFAULT_COLLECTION_PERCENTILE=10,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ro.DEFAULT=new Ro(41943040,Ro.DEFAULT_COLLECTION_PERCENTILE,Ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ro.DISABLED=new Ro(-1,0,0);class ah{constructor(e,t,o,c){this.userId=e,this.wt=t,this.indexManager=o,this.referenceDelegate=c,this.gn={}}static se(e,t,o,c){sr(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new ah(d,t,o,c)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Pu(e).J({index:"userMutationsIndex",range:o},(c,d,m)=>{t=!1,m.done()}).next(()=>t)}addMutationBatch(e,t,o,c){const d=tl(e),m=Pu(e);return m.add({}).next(C=>{sr("number"==typeof C);const $=new no(C,t,o,c),z=function(It,$t,Ht){const In=Ht.baseMutations.map($r=>Ul(It.ne,$r)),qn=Ht.mutations.map($r=>Ul(It.ne,$r));return{userId:$t,batchId:Ht.batchId,localWriteTimeMs:Ht.localWriteTime.toMillis(),baseMutations:In,mutations:qn}}(this.wt,this.userId,$),ce=[];let We=new E((It,$t)=>or(It.canonicalString(),$t.canonicalString()));for(const It of c){const $t=Zd(this.userId,It.key.path,C);We=We.add(It.key.path.popLast()),ce.push(m.put(z)),ce.push(d.put($t,vg))}return We.forEach(It=>{ce.push(this.indexManager.addToCollectionParentIndex(e,It))}),e.addOnCommittedListener(()=>{this.gn[C]=$.keys()}),Dt.waitFor(ce).next(()=>$)})}lookupMutationBatch(e,t){return Pu(e).get(t).next(o=>o?(sr(o.userId===this.userId),pc(this.wt,o)):null)}yn(e,t){return this.gn[t]?Dt.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const c=o.keys();return this.gn[t]=c,c}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,c=IDBKeyRange.lowerBound([this.userId,o]);let d=null;return Pu(e).J({index:"userMutationsIndex",range:c},(m,C,$)=>{C.userId===this.userId&&(sr(C.batchId>=o),d=pc(this.wt,C)),$.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Pu(e).J({index:"userMutationsIndex",range:t,reverse:!0},(c,d,m)=>{o=d.batchId,m.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Pu(e).K("userMutationsIndex",t).next(o=>o.map(c=>pc(this.wt,c)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=jl(this.userId,t.path),c=IDBKeyRange.lowerBound(o),d=[];return tl(e).J({range:c},(m,C,$)=>{const[z,ce,We]=m,It=fu(ce);if(z===this.userId&&t.path.isEqual(It))return Pu(e).get(We).next($t=>{if(!$t)throw An();sr($t.userId===this.userId),d.push(pc(this.wt,$t))});$.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new E(or);const c=[];return t.forEach(d=>{const m=jl(this.userId,d.path),C=IDBKeyRange.lowerBound(m),$=tl(e).J({range:C},(z,ce,We)=>{const[It,$t,Ht]=z,In=fu($t);It===this.userId&&d.path.isEqual(In)?o=o.add(Ht):We.done()});c.push($)}),Dt.waitFor(c).next(()=>this.pn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,c=o.length+1,d=jl(this.userId,o),m=IDBKeyRange.lowerBound(d);let C=new E(or);return tl(e).J({range:m},($,z,ce)=>{const[We,It,$t]=$,Ht=fu(It);We===this.userId&&o.isPrefixOf(Ht)?Ht.length===c&&(C=C.add($t)):ce.done()}).next(()=>this.pn(e,C))}pn(e,t){const o=[],c=[];return t.forEach(d=>{c.push(Pu(e).get(d).next(m=>{if(null===m)throw An();sr(m.userId===this.userId),o.push(pc(this.wt,m))}))}),Dt.waitFor(c).next(()=>o)}removeMutationBatch(e,t){return sh(e.ee,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),Dt.forEach(o,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Dt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),c=[];return tl(e).J({range:o},(d,m,C)=>{if(d[0]===this.userId){const $=fu(d[1]);c.push($)}else C.done()}).next(()=>{sr(0===c.length)})})}containsKey(e,t){return Mg(e,this.userId,t)}Tn(e){return Og(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Mg(i,e,t){const o=jl(e,t.path),c=o[1],d=IDBKeyRange.lowerBound(o);let m=!1;return tl(i).J({range:d,H:!0},(C,$,z)=>{const[ce,We,It]=C;ce===e&&We===c&&(m=!0),z.done()}).next(()=>m)}function Pu(i){return Xs(i,"mutations")}function tl(i){return Xs(i,"documentMutations")}function Og(i){return Xs(i,"mutationQueues")}class Nu{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Nu(0)}static Rn(){return new Nu(-1)}}class Nf{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const o=new Nu(t.highestTargetId);return t.highestTargetId=o.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>dr.fromTimestamp(new Xr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.bn(e).next(c=>(c.highestListenSequenceNumber=t,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),t>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=t),this.Pn(e,c)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(o=>(o.targetCount+=1,this.Vn(t,o),this.Pn(e,o))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>_c(e).delete(t.targetId)).next(()=>this.bn(e)).next(o=>(sr(o.targetCount>0),o.targetCount-=1,this.Pn(e,o)))}removeTargets(e,t,o){let c=0;const d=[];return _c(e).J((m,C)=>{const $=Jc(C);$.sequenceNumber<=t&&null===o.get($.targetId)&&(c++,d.push(this.removeTargetData(e,$)))}).next(()=>Dt.waitFor(d)).next(()=>c)}forEachTarget(e,t){return _c(e).J((o,c)=>{const d=Jc(c);t(d)})}bn(e){return uh(e).get("targetGlobalKey").next(t=>(sr(null!==t),t))}Pn(e,t){return uh(e).put("targetGlobalKey",t)}vn(e,t){return _c(e).put(Cg(this.wt,t))}Vn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=ou(t),c=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let d=null;return _c(e).J({range:c,index:"queryTargetsIndex"},(m,C,$)=>{const z=Jc(C);Uc(t,z.target)&&(d=z,$.done())}).next(()=>d)}addMatchingKeys(e,t,o){const c=[],d=ku(e);return t.forEach(m=>{const C=Oo(m.path);c.push(d.put({targetId:o,path:C})),c.push(this.referenceDelegate.addReference(e,o,m))}),Dt.waitFor(c)}removeMatchingKeys(e,t,o){const c=ku(e);return Dt.forEach(t,d=>{const m=Oo(d.path);return Dt.waitFor([c.delete([o,m]),this.referenceDelegate.removeReference(e,o,d)])})}removeMatchingKeysForTargetId(e,t){const o=ku(e),c=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(c)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),c=ku(e);let d=Or();return c.J({range:o,H:!0},(m,C,$)=>{const z=fu(m[1]),ce=new fn(z);d=d.add(ce)}).next(()=>d)}containsKey(e,t){const o=Oo(t.path),c=IDBKeyRange.bound([o],[mi(o)],!1,!0);let d=0;return ku(e).J({index:"documentTargetsIndex",H:!0,range:c},([m,C],$,z)=>{0!==m&&(d++,z.done())}).next(()=>d>0)}te(e,t){return _c(e).get(t).next(o=>o?Jc(o):null)}}function _c(i){return Xs(i,"targets")}function uh(i){return Xs(i,"targetGlobal")}function ku(i){return Xs(i,"targetDocuments")}function Rg([i,e],[t,o]){const c=or(i,t);return 0===c?or(e,o):c}class Pg{constructor(e){this.Sn=e,this.buffer=new E(Rg),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Rg(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ng{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Xt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,J.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){Ys(o)?Xt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Ni(o)}yield t.kn(3e5)}))}}class Ec{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.On(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return Dt.resolve(_s.ot);const o=new Pg(t);return this.Mn.forEachTarget(e,c=>o.xn(c.sequenceNumber)).next(()=>this.Mn.Fn(e,c=>o.xn(c))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Mn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector","Garbage collection skipped; disabled"),Dt.resolve(Pf)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pf):this.$n(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}$n(e,t){let o,c,d,m,C,$,z;const ce=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(We=>(We>this.params.maximumSequenceNumbersToCollect?(Xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${We}`),c=this.params.maximumSequenceNumbersToCollect):c=We,m=Date.now(),this.nthSequenceNumber(e,c))).next(We=>(o=We,C=Date.now(),this.removeTargets(e,o,t))).next(We=>(d=We,$=Date.now(),this.removeOrphanedDocuments(e,o))).next(We=>(z=Date.now(),Bo()<=St.in.DEBUG&&Xt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-ce}ms\n\tDetermined least recently used ${c} in `+(C-m)+`ms\n\tRemoved ${d} targets in `+($-C)+`ms\n\tRemoved ${We} documents in `+(z-$)+`ms\nTotal Duration: ${z-ce}ms`),Dt.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:d,documentsRemoved:We})))}}class kg{constructor(e,t){this.db=e,this.garbageCollector=new Ec(this,t)}On(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(c=>o+c))}Bn(e){let t=0;return this.Fn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(o,c)=>t(c))}addReference(e,t,o){return Yl(e,o)}removeReference(e,t,o){return Yl(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return Yl(e,t)}Un(e,t){return function(o,c){let d=!1;return Og(o).Y(m=>Mg(o,m,c).next(C=>(C&&(d=!0),Dt.resolve(!C)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let d=0;return this.Ln(e,(m,C)=>{if(C<=t){const $=this.Un(e,m).next(z=>{if(!z)return d++,o.getEntry(e,m).next(()=>(o.removeEntry(m,dr.min()),ku(e).delete([0,Oo(m.path)])))});c.push($)}}).next(()=>Dt.waitFor(c)).next(()=>o.apply(e)).next(()=>d)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return Yl(e,t)}Ln(e,t){const o=ku(e);let c,d=_s.ot;return o.J({index:"documentTargetsIndex"},([m,C],{path:$,sequenceNumber:z})=>{0===m?(d!==_s.ot&&t(new fn(fu(c)),d),d=z,c=$):d=_s.ot}).next(()=>{d!==_s.ot&&t(new fn(fu(c)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Yl(i,e){return ku(i).put((o=i.currentSequenceNumber,{targetId:0,path:Oo(e.path),sequenceNumber:o}));var o}class Fg{constructor(){this.changes=new ja(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Dt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class J_{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Fu(e).put(o)}removeEntry(e,t,o){return Fu(e).delete(function(c,d){const m=c.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],eh(d),m[m.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.qn(e,o)))}getEntry(e,t){let o=wi.newInvalidDocument(t);return Fu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(nl(t))},(c,d)=>{o=this.Kn(t,d)}).next(()=>o)}Gn(e,t){let o={size:0,document:wi.newInvalidDocument(t)};return Fu(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(nl(t))},(c,d)=>{o={document:this.Kn(t,d),size:oh(d)}}).next(()=>o)}getEntries(e,t){let o=bo();return this.Qn(e,t,(c,d)=>{const m=this.Kn(c,d);o=o.insert(c,m)}).next(()=>o)}jn(e,t){let o=bo(),c=new li(fn.comparator);return this.Qn(e,t,(d,m)=>{const C=this.Kn(d,m);o=o.insert(d,C),c=c.insert(d,oh(m))}).next(()=>({documents:o,Wn:c}))}Qn(e,t,o){if(t.isEmpty())return Dt.resolve();let c=new E(Ff);t.forEach($=>c=c.add($));const d=IDBKeyRange.bound(nl(c.first()),nl(c.last())),m=c.getIterator();let C=m.getNext();return Fu(e).J({index:"documentKeyIndex",range:d},($,z,ce)=>{const We=fn.fromSegments([...z.prefixPath,z.collectionGroup,z.documentId]);for(;C&&Ff(C,We)<0;)o(C,null),C=m.getNext();C&&C.isEqual(We)&&(o(C,z),C=m.hasNext()?m.getNext():null),C?ce.q(nl(C)):ce.done()}).next(()=>{for(;C;)o(C,null),C=m.hasNext()?m.getNext():null})}getAllFromCollection(e,t,o){const c=[t.popLast().toArray(),t.lastSegment(),eh(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fu(e).K(IDBKeyRange.bound(c,d,!0)).next(m=>{let C=bo();for(const $ of m){const z=this.Kn(fn.fromSegments($.prefixPath.concat($.collectionGroup,$.documentId)),$);C=C.insert(z.key,z)}return C})}getAllFromCollectionGroup(e,t,o,c){let d=bo();const m=ch(t,o),C=ch(t,Si.max());return Fu(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(m,C,!0)},($,z,ce)=>{const We=this.Kn(fn.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);d=d.insert(We.key,We),d.size===c&&ce.done()}).next(()=>d)}newChangeBuffer(e){return new Qy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return kf(e).get("remoteDocumentGlobalKey").next(t=>(sr(!!t),t))}qn(e,t){return kf(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const o=function zl(i,e){let t;if(e.document)t=lg(i.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=fn.fromSegments(e.noDocument.path),c=Ru(e.noDocument.readTime);t=wi.newNoDocument(o,c),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return An();{const o=fn.fromSegments(e.unknownDocument.path),c=Ru(e.unknownDocument.version);t=wi.newUnknownDocument(o,c)}}return e.readTime&&t.setReadTime(function(o){const c=new Xr(o[0],o[1]);return dr.fromTimestamp(c)}(e.readTime)),t}(this.wt,t);if(!o.isNoDocument()||!o.version.isEqual(dr.min()))return o}return wi.newInvalidDocument(e)}}function ql(i){return new J_(i)}class Qy extends Fg{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new ja(o=>o.toString(),(o,c)=>o.isEqual(c))}applyChanges(e){const t=[];let o=0,c=new E((d,m)=>or(d.canonicalString(),m.canonicalString()));return this.changes.forEach((d,m)=>{const C=this.Hn.get(d);if(t.push(this.zn.removeEntry(e,d,C.readTime)),m.isValidDocument()){const $=Jd(this.zn.wt,m);c=c.add(d.path.popLast()),o+=oh($)-C.size,t.push(this.zn.addEntry(e,d,$))}else if(o-=C.size,this.trackRemovals){const $=Jd(this.zn.wt,m.convertToNoDocument(dr.min()));t.push(this.zn.addEntry(e,d,$))}}),c.forEach(d=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.zn.updateMetadata(e,o)),Dt.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(o=>(this.Hn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:o,Wn:c})=>(c.forEach((d,m)=>{this.Hn.set(d,{size:m,readTime:o.get(d).readTime})}),o))}}function kf(i){return Xs(i,"remoteDocumentGlobal")}function Fu(i){return Xs(i,"remoteDocumentsV14")}function nl(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ch(i,e){const t=e.documentKey.path.toArray();return[i,eh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Ff(i,e){const t=i.path.toArray(),o=e.path.toArray();let c=0;for(let d=0;d<t.length-2&&d<o.length-2;++d)if(c=or(t[d],o[d]),c)return c;return c=or(t.length,o.length),c||(c=or(t[t.length-2],o[o.length-2]),c||or(t[t.length-1],o[o.length-1]))}class lh{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Zl{constructor(e,t,o,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=c}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(o=c,this.getBaseDocument(e,t,o))).next(c=>(null!==o&&cc(o.mutation,c,A.empty(),Xr.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,Or()).next(()=>o))}getLocalViewOfDocuments(e,t,o=Or()){const c=Ea();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,o).next(d=>{let m=Fl();return d.forEach((C,$)=>{m=m.insert(C,$.overlayedDocument)}),m}))}getOverlayedDocuments(e,t){const o=Ea();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,Or()))}populateOverlays(e,t,o){const c=[];return o.forEach(d=>{t.has(d)||c.push(d)}),this.documentOverlayCache.getOverlays(e,c).next(d=>{d.forEach((m,C)=>{t.set(m,C)})})}computeViews(e,t,o,c){let d=bo();const m=zd(),C=zd();return t.forEach(($,z)=>{const ce=o.get(z.key);c.has(z.key)&&(void 0===ce||ce.mutation instanceof hu)?d=d.insert(z.key,z):void 0!==ce&&(m.set(z.key,ce.mutation.getFieldMask()),cc(ce.mutation,z,ce.mutation.getFieldMask(),Xr.now()))}),this.recalculateAndSaveOverlays(e,d).next($=>($.forEach((z,ce)=>m.set(z,ce)),t.forEach((z,ce)=>{var We;return C.set(z,new lh(ce,null!==(We=m.get(z))&&void 0!==We?We:null))}),C))}recalculateAndSaveOverlays(e,t){const o=zd();let c=new li((m,C)=>m-C),d=Or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(m=>{for(const C of m)C.keys().forEach($=>{const z=t.get($);if(null===z)return;let ce=o.get($)||A.empty();ce=C.applyToLocalView(z,ce),o.set($,ce);const We=(c.get(C.batchId)||Or()).add($);c=c.insert(C.batchId,We)})}).next(()=>{const m=[],C=c.getReverseIterator();for(;C.hasNext();){const $=C.getNext(),z=$.key,ce=$.value,We=Gd();ce.forEach(It=>{if(!d.has(It)){const $t=kl(t.get(It),o.get(It));null!==$t&&We.set(It,$t),d=d.add(It)}}),m.push(this.documentOverlayCache.saveOverlays(e,z,We))}return Dt.waitFor(m)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return fn.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ol(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var c}getNextDocuments(e,t,o,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,c).next(d=>{const m=c-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,c-d.size):Dt.resolve(Ea());let C=-1,$=d;return m.next(z=>Dt.forEach(z,(ce,We)=>(C<We.largestBatchId&&(C=We.largestBatchId),d.get(ce)?Dt.resolve():this.getBaseDocument(e,ce,We).next(It=>{$=$.insert(ce,It)}))).next(()=>this.populateOverlays(e,z,d)).next(()=>this.computeViews(e,$,z,Or())).next(ce=>({batchId:C,changes:mf(ce)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fn(t)).next(o=>{let c=Fl();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const c=t.collectionGroup;let d=Fl();return this.indexManager.getCollectionParents(e,c).next(m=>Dt.forEach(m,C=>{const $=(z=t,ce=C.child(c),new Ho(ce,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,ce;return this.getDocumentsMatchingCollectionQuery(e,$,o).next(z=>{z.forEach((ce,We)=>{d=d.insert(ce,We)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,o){let c;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(d=>(c=d,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(d=>{d.forEach((C,$)=>{const z=$.getKey();null===c.get(z)&&(c=c.insert(z,wi.newInvalidDocument(z)))});let m=Fl();return c.forEach((C,$)=>{const z=d.get(C);void 0!==z&&cc(z.mutation,$,A.empty(),Xr.now()),pe(t,$)&&(m=m.insert(C,$))}),m})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):Dt.resolve(wi.newInvalidDocument(t))}}class Lg{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return Dt.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var o;return this.Jn.set(t.id,{id:(o=t).id,version:o.version,createTime:Zs(o.createTime)}),Dt.resolve()}getNamedQuery(e,t){return Dt.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(o=t).name,query:th(o.bundledQuery),readTime:Zs(o.readTime)}),Dt.resolve();var o}}class Lf{constructor(){this.overlays=new li(fn.comparator),this.Xn=new Map}getOverlay(e,t){return Dt.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Ea();return Dt.forEach(t,c=>this.getOverlay(e,c).next(d=>{null!==d&&o.set(c,d)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((c,d)=>{this.ie(e,t,d)}),Dt.resolve()}removeOverlaysForBatchId(e,t,o){const c=this.Xn.get(o);return void 0!==c&&(c.forEach(d=>this.overlays=this.overlays.remove(d)),this.Xn.delete(o)),Dt.resolve()}getOverlaysForCollection(e,t,o){const c=Ea(),d=t.length+1,m=new fn(t.child("")),C=this.overlays.getIteratorFrom(m);for(;C.hasNext();){const $=C.getNext().value,z=$.getKey();if(!t.isPrefixOf(z.path))break;z.path.length===d&&$.largestBatchId>o&&c.set($.getKey(),$)}return Dt.resolve(c)}getOverlaysForCollectionGroup(e,t,o,c){let d=new li((z,ce)=>z-ce);const m=this.overlays.getIterator();for(;m.hasNext();){const z=m.getNext().value;if(z.getKey().getCollectionGroup()===t&&z.largestBatchId>o){let ce=d.get(z.largestBatchId);null===ce&&(ce=Ea(),d=d.insert(z.largestBatchId,ce)),ce.set(z.getKey(),z)}}const C=Ea(),$=d.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((z,ce)=>C.set(z,ce)),!(C.size()>=c)););return Dt.resolve(C)}ie(e,t,o){const c=this.overlays.get(o.key);if(null!==c){const m=this.Xn.get(c.largestBatchId).delete(o.key);this.Xn.set(c.largestBatchId,m)}this.overlays=this.overlays.insert(o.key,new Qd(t,o));let d=this.Xn.get(t);void 0===d&&(d=Or(),this.Xn.set(t,d)),this.Xn.set(t,d.add(o.key))}}class dh{constructor(){this.Zn=new E(xs.ts),this.es=new E(xs.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const o=new xs(e,t);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.rs(new xs(e,t))}os(e,t){e.forEach(o=>this.removeReference(o,t))}us(e){const t=new fn(new Un([])),o=new xs(t,e),c=new xs(t,e+1),d=[];return this.es.forEachInRange([o,c],m=>{this.rs(m),d.push(m.key)}),d}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new fn(new Un([])),o=new xs(t,e),c=new xs(t,e+1);let d=Or();return this.es.forEachInRange([o,c],m=>{d=d.add(m.key)}),d}containsKey(e){const t=new xs(e,0),o=this.Zn.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class xs{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return fn.comparator(e.key,t.key)||or(e.ls,t.ls)}static ns(e,t){return or(e.ls,t.ls)||fn.comparator(e.key,t.key)}}class Xl{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new E(xs.ts)}checkEmpty(e){return Dt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,c){const d=this.fs;this.fs++;const m=new no(d,t,o,c);this.mutationQueue.push(m);for(const C of c)this.ds=this.ds.add(new xs(C.key,d)),this.indexManager.addToCollectionParentIndex(e,C.key.path.popLast());return Dt.resolve(m)}lookupMutationBatch(e,t){return Dt.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.ws(t+1),d=c<0?0:c;return Dt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Dt.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return Dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new xs(t,0),c=new xs(t,Number.POSITIVE_INFINITY),d=[];return this.ds.forEachInRange([o,c],m=>{const C=this._s(m.ls);d.push(C)}),Dt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new E(or);return t.forEach(c=>{const d=new xs(c,0),m=new xs(c,Number.POSITIVE_INFINITY);this.ds.forEachInRange([d,m],C=>{o=o.add(C.ls)})}),Dt.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,c=o.length+1;let d=o;fn.isDocumentKey(d)||(d=d.child(""));const m=new xs(new fn(d),0);let C=new E(or);return this.ds.forEachWhile($=>{const z=$.key.path;return!!o.isPrefixOf(z)&&(z.length===c&&(C=C.add($.ls)),!0)},m),Dt.resolve(this.gs(C))}gs(e){const t=[];return e.forEach(o=>{const c=this._s(o);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){sr(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let o=this.ds;return Dt.forEach(t.mutations,c=>{const d=new xs(c.key,t.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.ds=o})}In(e){}containsKey(e,t){const o=new xs(t,0),c=this.ds.firstAfterOrEqual(o);return Dt.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return Dt.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Jy{constructor(e){this.ps=e,this.docs=new li(fn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,c=this.docs.get(o),d=c?c.size:0,m=this.ps(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:m}),this.size+=m-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Dt.resolve(o?o.document.mutableCopy():wi.newInvalidDocument(t))}getEntries(e,t){let o=bo();return t.forEach(c=>{const d=this.docs.get(c);o=o.insert(c,d?d.document.mutableCopy():wi.newInvalidDocument(c))}),Dt.resolve(o)}getAllFromCollection(e,t,o){let c=bo();const d=new fn(t.child("")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:C,value:{document:$}}=m.getNext();if(!t.isPrefixOf(C.path))break;C.path.length>t.length+1||tc(lo($),o)<=0||(c=c.insert($.key,$.mutableCopy()))}return Dt.resolve(c)}getAllFromCollectionGroup(e,t,o,c){An()}Is(e,t){return Dt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new Vg(this)}getSize(e){return Dt.resolve(this.size)}}class Vg extends Fg{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((o,c)=>{c.isValidDocument()?t.push(this.zn.addEntry(e,c)):this.zn.removeEntry(o)}),Dt.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class ev{constructor(e){this.persistence=e,this.Ts=new ja(t=>ou(t),Uc),this.lastRemoteSnapshotVersion=dr.min(),this.highestTargetId=0,this.Es=0,this.As=new dh,this.targetCount=0,this.Rs=Nu.An()}forEachTarget(e,t){return this.Ts.forEach((o,c)=>t(c)),Dt.resolve()}getLastRemoteSnapshotVersion(e){return Dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Dt.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Dt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Es&&(this.Es=t),Dt.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Nu(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,Dt.resolve()}updateTargetData(e,t){return this.vn(t),Dt.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Dt.resolve()}removeTargets(e,t,o){let c=0;const d=[];return this.Ts.forEach((m,C)=>{C.sequenceNumber<=t&&null===o.get(C.targetId)&&(this.Ts.delete(m),d.push(this.removeMatchingKeysForTargetId(e,C.targetId)),c++)}),Dt.waitFor(d).next(()=>c)}getTargetCount(e){return Dt.resolve(this.targetCount)}getTargetData(e,t){const o=this.Ts.get(t)||null;return Dt.resolve(o)}addMatchingKeys(e,t,o){return this.As.ss(t,o),Dt.resolve()}removeMatchingKeys(e,t,o){this.As.os(t,o);const c=this.persistence.referenceDelegate,d=[];return c&&t.forEach(m=>{d.push(c.markPotentiallyOrphaned(e,m))}),Dt.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),Dt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.As.hs(t);return Dt.resolve(o)}containsKey(e,t){return Dt.resolve(this.As.containsKey(t))}}class Bg{constructor(e,t){this.bs={},this.overlays={},this.Ps=new _s(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new ev(this),this.indexManager=new Kl,this.remoteDocumentCache=new Jy(o=>this.referenceDelegate.Ss(o)),this.wt=new ro(t),this.Ds=new Lg(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Lf,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.bs[e.toKey()];return o||(o=new Xl(t,this.referenceDelegate),this.bs[e.toKey()]=o),o}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,o){Xt("MemoryPersistence","Starting transaction:",e);const c=new $g(this.Ps.next());return this.referenceDelegate.Cs(),o(c).next(d=>this.referenceDelegate.xs(c).next(()=>d)).toPromise().then(d=>(c.raiseOnCommittedEvent(),d))}Ns(e,t){return Dt.or(Object.values(this.bs).map(o=>()=>o.containsKey(e,t)))}}class $g extends Ki{constructor(e){super(),this.currentSequenceNumber=e}}class rl{constructor(e){this.persistence=e,this.ks=new dh,this.Ms=null}static Os(e){return new rl(e)}get Fs(){if(this.Ms)return this.Ms;throw An()}addReference(e,t,o){return this.ks.addReference(o,t),this.Fs.delete(o.toString()),Dt.resolve()}removeReference(e,t,o){return this.ks.removeReference(o,t),this.Fs.add(o.toString()),Dt.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),Dt.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(c=>this.Fs.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(d=>this.Fs.add(d.toString()))}).next(()=>o.removeTargetData(e,t))}Cs(){this.Ms=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Dt.forEach(this.Fs,o=>{const c=fn.fromPath(o);return this.$s(e,c).next(d=>{d||t.removeEntry(c,dr.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(o=>{o?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return Dt.or([()=>Dt.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class Ug{constructor(e){this.wt=e}M(e,t,o,c){const d=new ho("createOrUpgrade",t);var C;o<1&&c>=1&&(e.createObjectStore("owner"),(C=e).createObjectStore("mutationQueues",{keyPath:"userId"}),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yg,{unique:!0}),C.createObjectStore("documentMutations"),tv(e),function(C){C.createObjectStore("remoteDocuments")}(e));let m=Dt.resolve();return o<3&&c>=3&&(0!==o&&(function(C){C.deleteObjectStore("targetDocuments"),C.deleteObjectStore("targets"),C.deleteObjectStore("targetGlobal")}(e),tv(e)),m=m.next(()=>function(C){const $=C.store("targetGlobal"),z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:dr.min().toTimestamp(),targetCount:0};return $.put("targetGlobalKey",z)}(d))),o<4&&c>=4&&(0!==o&&(m=m.next(()=>function(C,$){return $.store("mutations").K().next(z=>{C.deleteObjectStore("mutations"),C.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yg,{unique:!0});const ce=$.store("mutations"),We=z.map(It=>ce.put(It));return Dt.waitFor(We)})}(e,d))),m=m.next(()=>{!function(C){C.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&c>=5&&(m=m.next(()=>this.Bs(d))),o<6&&c>=6&&(m=m.next(()=>(function(C){C.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(d)))),o<7&&c>=7&&(m=m.next(()=>this.Us(d))),o<8&&c>=8&&(m=m.next(()=>this.qs(e,d))),o<9&&c>=9&&(m=m.next(()=>{!function(C){C.objectStoreNames.contains("remoteDocumentChanges")&&C.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&c>=10&&(m=m.next(()=>this.Ks(d))),o<11&&c>=11&&(m=m.next(()=>{(function(C){C.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(C){C.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&c>=12&&(m=m.next(()=>{!function(C){const $=C.createObjectStore("documentOverlays",{keyPath:zy});$.createIndex("collectionPathOverlayIndex",Wy,{unique:!1}),$.createIndex("collectionGroupOverlayIndex",Ky,{unique:!1})}(e)})),o<13&&c>=13&&(m=m.next(()=>function(C){const $=C.createObjectStore("remoteDocumentsV14",{keyPath:_g});$.createIndex("documentKeyIndex",Eg),$.createIndex("collectionGroupIndex",Cf)}(e)).next(()=>this.Gs(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&c>=14&&(m=m.next(()=>this.Qs(e,d))),o<15&&c>=15&&(m=m.next(()=>function(C){C.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),C.createObjectStore("indexState",{keyPath:jy}).createIndex("sequenceNumberIndex",Hy,{unique:!1}),C.createObjectStore("indexEntries",{keyPath:wg}).createIndex("documentKeyIndex",Gy,{unique:!1})}(e))),m}Ls(e){let t=0;return e.store("remoteDocuments").J((o,c)=>{t+=oh(c)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Bs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.K().next(c=>Dt.forEach(c,d=>{const m=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return o.K("userMutationsIndex",m).next(C=>Dt.forEach(C,$=>{sr($.userId===d.userId);const z=pc(this.wt,$);return sh(e,d.userId,z).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const d=[];return o.J((m,C)=>{const $=new Un(m),z=[0,Oo($)];d.push(t.get(z).next(ce=>ce?Dt.resolve():t.put({targetId:0,path:Oo($),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>Dt.waitFor(d))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:Uy});const o=t.store("collectionParents"),c=new Mf,d=m=>{if(c.add(m)){const C=m.lastSegment(),$=m.popLast();return o.put({collectionId:C,parent:Oo($)})}};return t.store("remoteDocuments").J({H:!0},(m,C)=>{const $=new Un(m);return d($.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([m,C,$],z)=>{const ce=fu(C);return d(ce.popLast())}))}Ks(e){const t=e.store("targets");return t.J((o,c)=>{const d=Jc(c),m=Cg(this.wt,d);return t.put(m)})}Gs(e,t){const o=t.store("remoteDocuments"),c=[];return o.J((d,m)=>{const C=t.store("remoteDocumentsV14"),$=(z=m,z.document?new fn(Un.fromString(z.document.name).popFirst(5)):z.noDocument?fn.fromSegments(z.noDocument.path):z.unknownDocument?fn.fromSegments(z.unknownDocument.path):An()).path.toArray();var z;const ce={prefixPath:$.slice(0,$.length-2),collectionGroup:$[$.length-2],documentId:$[$.length-1],readTime:m.readTime||[0,0],unknownDocument:m.unknownDocument,noDocument:m.noDocument,document:m.document,hasCommittedMutations:!!m.hasCommittedMutations};c.push(C.put(ce))}).next(()=>Dt.waitFor(c))}Qs(e,t){const o=t.store("mutations"),c=ql(this.wt),d=new Bg(rl.Os,this.wt.ne);return o.K().next(m=>{const C=new Map;return m.forEach($=>{var z;let ce=null!==(z=C.get($.userId))&&void 0!==z?z:Or();pc(this.wt,$).keys().forEach(We=>ce=ce.add(We)),C.set($.userId,ce)}),Dt.forEach(C,($,z)=>{const ce=new qr(z),We=na.se(this.wt,ce),It=d.getIndexManager(ce),$t=ah.se(ce,this.wt,It,d.referenceDelegate);return new Zl(c,$t,We,It).recalculateAndSaveOverlaysForDocumentKeys(new Tf(t,_s.ot),$).next()})})}}function tv(i){i.createObjectStore("targetDocuments",{keyPath:Sf}).createIndex("documentTargetsIndex",Hl,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$y,{unique:!0}),i.createObjectStore("targetGlobal")}const hh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Vf{constructor(e,t,o,c,d,m,C,$,z,ce,We=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.js=d,this.window=m,this.document=C,this.Ws=z,this.zs=ce,this.Hs=We,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=It=>Promise.resolve(),!Vf.V())throw new Wt(Mt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kg(this,c),this.ei=t+"main",this.wt=new ro($),this.ni=new Ti(this.ei,this.Hs,new Ug(this.wt)),this.Vs=new Nf(this.referenceDelegate,this.wt),this.remoteDocumentCache=ql(this.wt),this.Ds=new qy,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===ce&&Zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Wt(Mt.FAILED_PRECONDITION,hh);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new _s(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var o=(0,J.Z)(function*(c){if(t.started)return e(c)});return function(c){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,J.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,J.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>fh(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Ys(e))return Xt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return il(e).get("owner").next(t=>Dt.resolve(this.di(t)))}_i(e){return fh(e).delete(this.clientId)}wi(){var e=this;return(0,J.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const c=Xs(o,"clientMetadata");return c.K().next(d=>{const m=e.gi(d,18e5),C=d.filter($=>-1===m.indexOf($));return Dt.forEach(C,$=>c.delete($.clientId)).next(()=>C)})}).catch(()=>[]);if(e.si)for(const o of t)e.si.removeItem(e.yi(o.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?Dt.resolve(!0):il(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Wt(Mt.FAILED_PRECONDITION,hh);return!1}}return!(!this.networkEnabled||!this.inForeground)||fh(e).K().next(o=>void 0===this.gi(o,5e3).find(c=>{if(this.clientId!==c.clientId){const m=!this.inForeground&&c.inForeground,C=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||m&&C)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Xt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,J.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new Tf(t,_s.ot);return e.li(o).next(()=>e._i(o))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(o=>this.mi(o.updateTimeMs,t)&&!this.pi(o.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>fh(e).K().next(t=>this.gi(t,18e5).map(o=>o.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return ah.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Of(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return na.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,o){Xt("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===t?"readonly":"readwrite",d=15===(m=this.Hs)?Dg:14===m?Ig:13===m?bg:12===m?Yy:11===m?Xd:void An();var m;let C;return this.ni.runTransaction(e,c,d,$=>(C=new Tf($,this.Ps?this.Ps.next():_s.ot),"readwrite-primary"===t?this.ai(C).next(z=>!!z||this.hi(C)).next(z=>{if(!z)throw Zr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Wt(Mt.FAILED_PRECONDITION,da);return o(C)}).next(z=>this.fi(C).next(()=>z)):this.bi(C).next(()=>o(C)))).then($=>(C.raiseOnCommittedEvent(),$))}bi(e){return il(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Wt(Mt.FAILED_PRECONDITION,hh)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return il(e).put("owner",t)}static V(){return Ti.V()}li(e){const t=il(e);return t.get("owner").next(o=>this.di(o)?(Xt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Dt.resolve())}mi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Zr(`Detected an update time that is in the future: ${e} > ${o}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Qe.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const o=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Xt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Zr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Zr("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function il(i){return Xs(i,"owner")}function fh(i){return Xs(i,"clientMetadata")}function Bf(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class zo{constructor(e,t,o,c){this.targetId=e,this.fromCache=t,this.Pi=o,this.vi=c}static Vi(e,t){let o=Or(),c=Or();for(const d of t.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:c=c.add(d.doc.key)}return new zo(e,t.fromCache,o,c)}}class jg{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,o,c){return this.Ci(e,t).next(d=>d||this.xi(e,t,c,o)).next(d=>d||this.Ni(e,t))}Ci(e,t){if(Ml(t))return Dt.resolve(null);let o=I(t);return this.indexManager.getIndexType(e,o).next(c=>0===c?null:(null!==t.limit&&1===c&&(t=f(t,null,"F"),o=I(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(d=>{const m=Or(...d);return this.Di.getDocuments(e,m).next(C=>this.indexManager.getMinOffset(e,o).next($=>{const z=this.ki(t,C);return this.Mi(t,z,m,$.readTime)?this.Ci(e,f(t,null,"F")):this.Oi(e,z,t,$)}))})))}xi(e,t,o,c){return Ml(t)||c.isEqual(dr.min())?this.Ni(e,t):this.Di.getDocuments(e,o).next(d=>{const m=this.ki(t,d);return this.Mi(t,m,o,c)?this.Ni(e,t):(Bo()<=St.in.DEBUG&&Xt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Y(t)),this.Oi(e,m,t,pi(c,-1)))})}ki(e,t){let o=new E(Kt(e));return t.forEach((c,d)=>{pe(e,d)&&(o=o.add(d))}),o}Mi(e,t,o,c){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(c)>0)}Ni(e,t){return Bo()<=St.in.DEBUG&&Xt("QueryEngine","Using full collection scan to execute query:",Y(t)),this.Di.getDocumentsMatchingQuery(e,t,Si.min())}Oi(e,t,o,c){return this.Di.getDocumentsMatchingQuery(e,o,c).next(d=>(t.forEach(m=>{d=d.insert(m.key,m)}),d))}}class Hg{constructor(e,t,o,c){this.persistence=e,this.Fi=t,this.wt=c,this.$i=new li(or),this.Bi=new ja(d=>ou(d),Uc),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(o)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zl(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function Gg(i,e,t,o){return new Hg(i,e,t,o)}function zg(i,e){return $f.apply(this,arguments)}function $f(){return $f=(0,J.Z)(function*(i,e){const t=mn(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let c;return t.mutationQueue.getAllMutationBatches(o).next(d=>(c=d,t.qi(e),t.mutationQueue.getAllMutationBatches(o))).next(d=>{const m=[],C=[];let $=Or();for(const z of c){m.push(z.batchId);for(const ce of z.mutations)$=$.add(ce.key)}for(const z of d){C.push(z.batchId);for(const ce of z.mutations)$=$.add(ce.key)}return t.localDocuments.getDocuments(o,$).next(z=>({Ki:z,removedBatchIds:m,addedBatchIds:C}))})})}),$f.apply(this,arguments)}function nv(i,e){const t=mn(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=e.batch.keys(),d=t.Ui.newChangeBuffer({trackRemovals:!0});return function(m,C,$,z){const ce=$.batch,We=ce.keys();let It=Dt.resolve();return We.forEach($t=>{It=It.next(()=>z.getEntry(C,$t)).next(Ht=>{const In=$.docVersions.get($t);sr(null!==In),Ht.version.compareTo(In)<0&&(ce.applyToRemoteDocument(Ht,$),Ht.isValidDocument()&&(Ht.setReadTime($.commitVersion),z.addEntry(Ht)))})}),It.next(()=>m.mutationQueue.removeMutationBatch(C,ce))}(t,o,e,d).next(()=>d.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(m){let C=Or();for(let $=0;$<m.mutationResults.length;++$)m.mutationResults[$].transformResults.length>0&&(C=C.add(m.batch.mutations[$].key));return C}(e))).next(()=>t.localDocuments.getDocuments(o,c))})}function Uf(i){const e=mn(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function rv(i,e){const t=mn(i),o=e.snapshotVersion;let c=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const m=t.Ui.newChangeBuffer({trackRemovals:!0});c=t.$i;const C=[];e.targetChanges.forEach((ce,We)=>{const It=c.get(We);if(!It)return;C.push(t.Vs.removeMatchingKeys(d,ce.removedDocuments,We).next(()=>t.Vs.addMatchingKeys(d,ce.addedDocuments,We)));let $t=It.withSequenceNumber(d.currentSequenceNumber);var Ht,In,qn;e.targetMismatches.has(We)?$t=$t.withResumeToken(W.EMPTY_BYTE_STRING,dr.min()).withLastLimboFreeSnapshotVersion(dr.min()):ce.resumeToken.approximateByteSize()>0&&($t=$t.withResumeToken(ce.resumeToken,o)),c=c.insert(We,$t),In=$t,qn=ce,(0===(Ht=It).resumeToken.approximateByteSize()||In.snapshotVersion.toMicroseconds()-Ht.snapshotVersion.toMicroseconds()>=3e8||qn.addedDocuments.size+qn.modifiedDocuments.size+qn.removedDocuments.size>0)&&C.push(t.Vs.updateTargetData(d,$t))});let $=bo(),z=Or();if(e.documentUpdates.forEach(ce=>{e.resolvedLimboDocuments.has(ce)&&C.push(t.persistence.referenceDelegate.updateLimboDocument(d,ce))}),C.push(Wg(d,m,e.documentUpdates).next(ce=>{$=ce.Gi,z=ce.Qi})),!o.isEqual(dr.min())){const ce=t.Vs.getLastRemoteSnapshotVersion(d).next(We=>t.Vs.setTargetsMetadata(d,d.currentSequenceNumber,o));C.push(ce)}return Dt.waitFor(C).next(()=>m.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,$,z)).next(()=>$)}).then(d=>(t.$i=c,d))}function Wg(i,e,t){let o=Or(),c=Or();return t.forEach(d=>o=o.add(d)),e.getEntries(i,o).next(d=>{let m=bo();return t.forEach((C,$)=>{const z=d.get(C);$.isFoundDocument()!==z.isFoundDocument()&&(c=c.add(C)),$.isNoDocument()&&$.version.isEqual(dr.min())?(e.removeEntry(C,$.readTime),m=m.insert(C,$)):!z.isValidDocument()||$.version.compareTo(z.version)>0||0===$.version.compareTo(z.version)&&z.hasPendingWrites?(e.addEntry($),m=m.insert(C,$)):Xt("LocalStore","Ignoring outdated watch update for ",C,". Current version:",z.version," Watch version:",$.version)}),{Gi:m,Qi:c}})}function iv(i,e){const t=mn(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function wr(i,e){const t=mn(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return t.Vs.getTargetData(o,e).next(d=>d?(c=d,Dt.resolve(c)):t.Vs.allocateTargetId(o).next(m=>(c=new za(e,m,0,o.currentSequenceNumber),t.Vs.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=t.$i.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.$i=t.$i.insert(o.targetId,o),t.Bi.set(e,o.targetId)),o})}function wc(i,e,t){return ph.apply(this,arguments)}function ph(){return ph=(0,J.Z)(function*(i,e,t){const o=mn(i),c=o.$i.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",d,m=>o.persistence.referenceDelegate.removeTarget(m,c)))}catch(m){if(!Ys(m))throw m;Xt("LocalStore",`Failed to update sequence numbers for target ${e}: ${m}`)}o.$i=o.$i.remove(e),o.Bi.delete(c.target)}),ph.apply(this,arguments)}function Ql(i,e,t){const o=mn(i);let c=dr.min(),d=Or();return o.persistence.runTransaction("Execute query","readonly",m=>function(C,$,z){const ce=mn(C),We=ce.Bi.get(z);return void 0!==We?Dt.resolve(ce.$i.get(We)):ce.Vs.getTargetData($,z)}(o,m,I(e)).next(C=>{if(C)return c=C.lastLimboFreeSnapshotVersion,o.Vs.getMatchingKeysForTargetId(m,C.targetId).next($=>{d=$})}).next(()=>o.Fi.getDocumentsMatchingQuery(m,e,t?c:dr.min(),t?d:Or())).next(C=>(jf(o,mt(e),C),{documents:C,ji:d})))}function Kg(i,e){const t=mn(i),o=mn(t.Vs),c=t.$i.get(e);return c?Promise.resolve(c.target):t.persistence.runTransaction("Get target data","readonly",d=>o.te(d,e).next(m=>m?m.target:null))}function Yg(i,e){const t=mn(i),o=t.Li.get(e)||dr.min();return t.persistence.runTransaction("Get new document changes","readonly",c=>t.Ui.getAllFromCollectionGroup(c,e,pi(o,-1),Number.MAX_SAFE_INTEGER)).then(c=>(jf(t,e,c),c))}function jf(i,e,t){let o=dr.min();t.forEach((c,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.Li.set(e,o)}function gh(){return gh=(0,J.Z)(function*(i,e,t,o){const c=mn(i);let d=Or(),m=bo();for(const z of t){const ce=e.Wi(z.metadata.name);z.document&&(d=d.add(ce));const We=e.zi(z);We.setReadTime(e.Hi(z.metadata.readTime)),m=m.insert(ce,We)}const C=c.Ui.newChangeBuffer({trackRemovals:!0}),$=yield wr(c,(z=o,I(uu(Un.fromString(`__bundle__/docs/${z}`)))));var z;return c.persistence.runTransaction("Apply bundle documents","readwrite",z=>Wg(z,C,m).next(ce=>(C.apply(z),ce)).next(ce=>c.Vs.removeMatchingKeysForTargetId(z,$.targetId).next(()=>c.Vs.addMatchingKeys(z,d,$.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(z,ce.Gi,ce.Qi)).next(()=>ce.Gi)))}),gh.apply(this,arguments)}function ov(i,e){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,J.Z)(function*(i,e,t=Or()){const o=yield wr(i,I(th(e.bundledQuery))),c=mn(i);return c.persistence.runTransaction("Save named query","readwrite",d=>{const m=Zs(e.readTime);if(o.snapshotVersion.compareTo(m)>=0)return c.Ds.saveNamedQuery(d,e);const C=o.withResumeToken(W.EMPTY_BYTE_STRING,m);return c.$i=c.$i.insert(C.targetId,C),c.Vs.updateTargetData(d,C).next(()=>c.Vs.removeMatchingKeysForTargetId(d,o.targetId)).next(()=>c.Vs.addMatchingKeys(d,t,o.targetId)).next(()=>c.Ds.saveNamedQuery(d,e))})}),Hf.apply(this,arguments)}function av(i,e){return`firestore_clients_${i}_${e}`}function Gf(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function mh(i,e){return`firestore_targets_${i}_${e}`}class Ya{constructor(e,t,o,c){this.user=e,this.batchId=t,this.state=o,this.error=c}static Ji(e,t,o){const c=JSON.parse(o);let d,m="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return m&&c.error&&(m="string"==typeof c.error.message&&"string"==typeof c.error.code,m&&(d=new Wt(c.error.code,c.error.message))),m?new Ya(e,t,c.state,d):(Zr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jl{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Ji(e,t){const o=JSON.parse(t);let c,d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(c=new Wt(o.error.code,o.error.message))),d?new Jl(e,o.state,c):(Zr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class sl{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const o=JSON.parse(t);let c="object"==typeof o&&o.activeTargetIds instanceof Array,d=Ha();for(let m=0;c&&m<o.activeTargetIds.length;++m)c=fr(o.activeTargetIds[m]),d=d.add(o.activeTargetIds[m]);return c?new sl(e,d):(Zr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ed{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ed(t.clientId,t.onlineState):(Zr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class zf{constructor(){this.activeTargetIds=Ha()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qg{constructor(e,t,o,c,d){this.window=e,this.js=t,this.persistenceKey=o,this.tr=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new li(or),this.started=!1,this.ir=[];const m=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.rr=av(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new zf),this.cr=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(C){return`firestore_bundle_loaded_v2_${C}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,J.Z)(function*(){const t=yield e.syncEngine.Ri();for(const c of t){if(c===e.tr)continue;const d=e.getItem(av(e.persistenceKey,c));if(d){const m=sl.Ji(c,d);m&&(e.sr=e.sr.insert(m.clientId,m))}}e._r();const o=e.storage.getItem(e.lr);if(o){const c=e.wr(o);c&&e.mr(c)}for(const c of e.ir)e.nr(c);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((o,c)=>{c.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,o){this.yr(e,t,o),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(mh(this.persistenceKey,e));if(o){const c=Jl.Ji(e,o);c&&(t=c.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(mh(this.persistenceKey,e))}updateQueryState(e,t,o){this.Tr(e,t,o)}handleUserChange(e,t,o){t.forEach(c=>{this.pr(c)}),this.currentUser=e,o.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Xt("SharedClientState","READ",e,t),t}setItem(e,t){Xt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Xt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Xt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void Zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,J.Z)(function*(){if(t.started){if(null!==o.key)if(t.cr.test(o.key)){if(null==o.newValue){const c=t.Rr(o.key);return t.br(c,null)}{const c=t.Pr(o.key,o.newValue);if(c)return t.br(c.clientId,c)}}else if(t.ar.test(o.key)){if(null!==o.newValue){const c=t.vr(o.key,o.newValue);if(c)return t.Vr(c)}}else if(t.hr.test(o.key)){if(null!==o.newValue){const c=t.Sr(o.key,o.newValue);if(c)return t.Dr(c)}}else if(o.key===t.lr){if(null!==o.newValue){const c=t.wr(o.newValue);if(c)return t.mr(c)}}else if(o.key===t.ur){const c=function(d){let m=_s.ot;if(null!=d)try{const C=JSON.parse(d);sr("number"==typeof C),m=C}catch(C){Zr("SharedClientState","Failed to read sequence number from WebStorage",C)}return m}(o.newValue);c!==_s.ot&&t.sequenceNumberHandler(c)}else if(o.key===t.dr){const c=t.Cr(o.newValue);yield Promise.all(c.map(d=>t.syncEngine.Nr(d)))}}else t.ir.push(o)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,o){const c=new Ya(this.currentUser,e,t,o),d=Gf(this.persistenceKey,this.currentUser,e);this.setItem(d,c.Yi())}pr(e){const t=Gf(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,o){const c=mh(this.persistenceKey,e),d=new Jl(e,t,o);this.setItem(c,d.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const o=this.Rr(e);return sl.Ji(o,t)}vr(e,t){const o=this.ar.exec(e),c=Number(o[1]);return Ya.Ji(new qr(void 0!==o[2]?o[2]:null),c,t)}Sr(e,t){const o=this.hr.exec(e),c=Number(o[1]);return Jl.Ji(c,t)}wr(e){return ed.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,J.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Xt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const o=t?this.sr.insert(e,t):this.sr.remove(e),c=this.gr(this.sr),d=this.gr(o),m=[],C=[];return d.forEach($=>{c.has($)||m.push($)}),c.forEach($=>{d.has($)||C.push($)}),this.syncEngine.Or(m,C).then(()=>{this.sr=o})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=Ha();return e.forEach((o,c)=>{t=t.unionWith(c.activeTargetIds)}),t}}class uv{constructor(){this.Fr=new zf,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,o){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new zf,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class e0{Br(e){}shutdown(){}}class Zg{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Xg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class t0{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class cv extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,o,c,d){const m=this.oo(e,t);Xt("RestConnection","Sending: ",m,o);const C={};return this.uo(C,c,d),this.co(e,m,C,o).then($=>(Xt("RestConnection","Received: ",$),$),$=>{throw Ls("RestConnection",`${e} failed with error: `,$,"url: ",m,"request:",o),$})}ao(e,t,o,c,d,m){return this.ro(e,t,o,c,d)}uo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,d)=>e[d]=c),o&&o.headers.forEach((c,d)=>e[d]=c)}oo(e,t){return`${this.so}/v1/${t}:${Xg[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,o,c){return new Promise((d,m)=>{const C=new ka;C.listenOnce(oo.COMPLETE,()=>{try{switch(C.getLastErrorCode()){case Pa.NO_ERROR:const z=C.getResponseJson();Xt("Connection","XHR received:",JSON.stringify(z)),d(z);break;case Pa.TIMEOUT:Xt("Connection",'RPC "'+e+'" timed out'),m(new Wt(Mt.DEADLINE_EXCEEDED,"Request time out"));break;case Pa.HTTP_ERROR:const ce=C.getStatus();if(Xt("Connection",'RPC "'+e+'" failed with status:',ce,"response text:",C.getResponseText()),ce>0){const We=C.getResponseJson().error;if(We&&We.status&&We.message){const It=function($t){const Ht=$t.toLowerCase().replace(/_/g,"-");return Object.values(Mt).indexOf(Ht)>=0?Ht:Mt.UNKNOWN}(We.status);m(new Wt(It,We.message))}else m(new Wt(Mt.UNKNOWN,"Server responded with status "+C.getStatus()))}else m(new Wt(Mt.UNAVAILABLE,"Connection failed."));break;default:An()}}finally{Xt("Connection",'RPC "'+e+'" completed.')}});const $=JSON.stringify(c);C.send(t,"POST",$,o,15)})}ho(e,t,o){const c=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Ra(),m=qo(),C={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(C.xmlHttpFactory=new Xu({})),this.uo(C.initMessageHeaders,t,o),(0,Qe.uI)()||(0,Qe.b$)()||(0,Qe.d)()||(0,Qe.w1)()||(0,Qe.Mn)()||(0,Qe.ru)()||(C.httpHeadersOverwriteParam="$httpHeaders");const $=c.join("");Xt("Connection","Creating WebChannel: "+$,C);const z=d.createWebChannel($,C);let ce=!1,We=!1;const It=new t0({jr:Ht=>{We?Xt("Connection","Not sending because WebChannel is closed:",Ht):(ce||(Xt("Connection","Opening WebChannel transport."),z.open(),ce=!0),Xt("Connection","WebChannel sending:",Ht),z.send(Ht))},Wr:()=>z.close()}),$t=(Ht,In,qn)=>{Ht.listen(In,$r=>{try{qn($r)}catch(yi){setTimeout(()=>{throw yi},0)}})};return $t(z,ao.EventType.OPEN,()=>{We||Xt("Connection","WebChannel transport opened.")}),$t(z,ao.EventType.CLOSE,()=>{We||(We=!0,Xt("Connection","WebChannel transport closed"),It.eo())}),$t(z,ao.EventType.ERROR,Ht=>{We||(We=!0,Ls("Connection","WebChannel transport errored:",Ht),It.eo(new Wt(Mt.UNAVAILABLE,"The operation could not be completed")))}),$t(z,ao.EventType.MESSAGE,Ht=>{var In;if(!We){const qn=Ht.data[0];sr(!!qn);const $r=qn,yi=$r.error||(null===(In=$r[0])||void 0===In?void 0:In.error);if(yi){Xt("Connection","WebChannel received error:",yi);const si=yi.status;let Yi=function(Qr){const ts=As[Qr];if(void 0!==ts)return qc(ts)}(si),oi=yi.message;void 0===Yi&&(Yi=Mt.INTERNAL,oi="Unknown error status: "+si+" with message "+yi.message),We=!0,It.eo(new Wt(Yi,oi)),z.close()}else Xt("Connection","WebChannel received:",qn),It.no(qn)}}),$t(m,Na.STAT_EVENT,Ht=>{Ht.stat===ci.PROXY?Xt("Connection","Detected buffering proxy"):Ht.stat===ci.NOPROXY&&Xt("Connection","Detected no buffering proxy")}),setTimeout(()=>{It.Zr()},0),It}}function bc(){return typeof window<"u"?window:null}function yh(){return typeof document<"u"?document:null}function ol(i){return new ag(i,!0)}class al{constructor(e,t,o=1e3,c=1.5,d=6e4){this.js=e,this.timerId=t,this.lo=o,this.fo=c,this._o=d,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),c=Math.max(0,t-o);c>0&&Xt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,c,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class Qg{constructor(e,t,o,c,d,m,C,$){this.js=e,this.Ao=o,this.Ro=c,this.bo=d,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=C,this.listener=$,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new al(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,J.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,J.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var o=this;return(0,J.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==e?o.So.reset():t&&t.code===Mt.RESOURCE_EXHAUSTED?(Zr(t.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):t&&t.code===Mt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,c])=>{this.Po===t&&this.Uo(o,c)},o=>{e(()=>{const c=new Wt(Mt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(c)})})}Uo(e,t){const o=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{o(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(c=>{o(()=>this.qo(c))}),this.stream.onMessage(c=>{o(()=>this.onMessage(c))})}xo(){var e=this;this.state=5,this.So.Io((0,J.Z)(function*(){e.state=0,e.start()}))}qo(e){return Xt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jg extends Qg{constructor(e,t,o,c,d,m){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,c,m),this.wt=d}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function $l(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===($=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:An(),c=e.targetChange.targetIds||[],d=function($,z){return $.dt?(sr(void 0===z||"string"==typeof z),W.fromBase64String(z||"")):(sr(void 0===z||z instanceof Uint8Array),W.fromUint8Array(z||new Uint8Array))}(i,e.targetChange.resumeToken),m=e.targetChange.cause,C=m&&function($){const z=void 0===$.code?Mt.UNKNOWN:qc($.code);return new Wt(z,$.message||"")}(m);t=new Wd(o,c,d,C||null)}else if("documentChange"in e){const o=e.documentChange,c=wa(i,o.document.name),d=Zs(o.document.updateTime),m=new us({mapValue:{fields:o.document.fields}}),C=wi.newFoundDocument(c,d,m);t=new dc(o.targetIds||[],o.removedTargetIds||[],C.key,C)}else if("documentDelete"in e){const o=e.documentDelete,c=wa(i,o.document),d=o.readTime?Zs(o.readTime):dr.min(),m=wi.newNoDocument(c,d);t=new dc([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in e){const o=e.documentRemove,c=wa(i,o.document);t=new dc([],o.removedTargetIds||[],c,null)}else{if(!("filter"in e))return An();{const o=e.filter,d=new Oy(o.count||0);t=new og(o.targetId,d)}}var $;return t}(this.wt,e),o=function(c){if(!("targetChange"in c))return dr.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?dr.min():d.readTime?Zs(d.readTime):dr.min()}(e);return this.listener.Go(t,o)}Qo(e){const t={};t.database=qd(this.wt),t.addTarget=function(c,d){let m;const C=d.target;return m=rc(C)?{documents:fg(c,C)}:{query:pg(c,C)},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?m.resumeToken=ug(c,d.resumeToken):d.snapshotVersion.compareTo(dr.min())>0&&(m.readTime=Ga(c,d.snapshotVersion.toTimestamp())),m}(this.wt,e);const o=function mg(i,e){const t=function(o,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return An()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Oo(t)}jo(e){const t={};t.database=qd(this.wt),t.removeTarget=e,this.Oo(t)}}class lv extends Qg{constructor(e,t,o,c,d,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,c,m),this.wt=d,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(sr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function hg(i,e){return i&&i.length>0?(sr(void 0!==e),i.map(t=>function(o,c){let d=Zs(o.updateTime?o.updateTime:c);return d.isEqual(dr.min())&&(d=Zs(c)),new hf(d,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Zs(e.commitTime);return this.listener.Jo(o,t)}return sr(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=qd(this.wt),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>Ul(this.wt,o))};this.Oo(t)}}class dv extends class{}{constructor(e,t,o,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=o,this.wt=c,this.Zo=!1}tu(){if(this.Zo)throw new Wt(Mt.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.bo.ro(e,t,o,c,d)).catch(c=>{throw"FirebaseError"===c.name?(c.code===Mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Wt(Mt.UNKNOWN,c.toString())})}ao(e,t,o,c){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.bo.ao(e,t,o,d,m,c)).catch(d=>{throw"FirebaseError"===d.name?(d.code===Mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Wt(Mt.UNKNOWN,d.toString())})}terminate(){this.Zo=!0}}class hv{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Zr(t),this.su=!1):Xt("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class fv{constructor(e,t,o,c,d){var m=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=d,this.du.Br(C=>{o.enqueueAndForget((0,J.Z)(function*(){var $;Wo(m)&&(Xt("RemoteStore","Restarting streams for network reachability change."),yield($=(0,J.Z)(function*(z){const ce=mn(z);ce.lu.add(4),yield ul(ce),ce._u.set("Unknown"),ce.lu.delete(4),yield td(ce)}),function(z){return $.apply(this,arguments)})(m))}))}),this._u=new hv(o,c)}}function td(i){return vh.apply(this,arguments)}function vh(){return vh=(0,J.Z)(function*(i){if(Wo(i))for(const e of i.fu)yield e(!0)}),vh.apply(this,arguments)}function ul(i){return _h.apply(this,arguments)}function _h(){return _h=(0,J.Z)(function*(i){for(const e of i.fu)yield e(!1)}),_h.apply(this,arguments)}function nd(i,e){const t=mn(i);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),tm(t)?Wf(t):Dc(t).Co()&&em(t,e))}function Ic(i,e){const t=mn(i),o=Dc(t);t.hu.delete(e),o.Co()&&Eh(t,e),0===t.hu.size&&(o.Co()?o.ko():Wo(t)&&t._u.set("Unknown"))}function em(i,e){i.wu.Nt(e.targetId),Dc(i).Qo(e)}function Eh(i,e){i.wu.Nt(e),Dc(i).jo(e)}function Wf(i){i.wu=new hc({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),te:e=>i.hu.get(e)||null}),Dc(i).start(),i._u.iu()}function tm(i){return Wo(i)&&!Dc(i).Do()&&i.hu.size>0}function Wo(i){return 0===mn(i).lu.size}function Kf(i){i.wu=void 0}function nm(i){return cl.apply(this,arguments)}function cl(){return cl=(0,J.Z)(function*(i){i.hu.forEach((e,t)=>{em(i,e)})}),cl.apply(this,arguments)}function ba(i,e){return wh.apply(this,arguments)}function wh(){return wh=(0,J.Z)(function*(i,e){Kf(i),tm(i)?(i._u.uu(e),Wf(i)):i._u.set("Unknown")}),wh.apply(this,arguments)}function pv(i,e,t){return rd.apply(this,arguments)}function rd(){return rd=(0,J.Z)(function*(i,e,t){if(i._u.set("Online"),e instanceof Wd&&2===e.state&&e.cause)try{yield(o=(0,J.Z)(function*(c,d){const m=d.cause;for(const C of d.targetIds)c.hu.has(C)&&(yield c.remoteSyncer.rejectListen(C,m),c.hu.delete(C),c.wu.removeTarget(C))}),function(c,d){return o.apply(this,arguments)})(i,e)}catch(o){Xt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield ra(i,o)}else if(e instanceof dc?i.wu.Ut(e):e instanceof og?i.wu.zt(e):i.wu.Gt(e),!t.isEqual(dr.min()))try{const o=yield Uf(i.localStore);t.compareTo(o)>=0&&(yield function(c,d){const m=c.wu.Yt(d);return m.targetChanges.forEach((C,$)=>{if(C.resumeToken.approximateByteSize()>0){const z=c.hu.get($);z&&c.hu.set($,z.withResumeToken(C.resumeToken,d))}}),m.targetMismatches.forEach(C=>{const $=c.hu.get(C);if(!$)return;c.hu.set(C,$.withResumeToken(W.EMPTY_BYTE_STRING,$.snapshotVersion)),Eh(c,C);const z=new za($.target,C,1,$.sequenceNumber);em(c,z)}),c.remoteSyncer.applyRemoteEvent(m)}(i,t))}catch(o){Xt("RemoteStore","Failed to raise snapshot:",o),yield ra(i,o)}var o}),rd.apply(this,arguments)}function ra(i,e,t){return id.apply(this,arguments)}function id(){return id=(0,J.Z)(function*(i,e,t){if(!Ys(e))throw e;i.lu.add(1),yield ul(i),i._u.set("Offline"),t||(t=()=>Uf(i.localStore)),i.asyncQueue.enqueueRetryable((0,J.Z)(function*(){Xt("RemoteStore","Retrying IndexedDB access"),yield t(),i.lu.delete(1),yield td(i)}))}),id.apply(this,arguments)}function Yf(i,e){return e().catch(t=>ra(i,t,e))}function Lu(i){return rm.apply(this,arguments)}function rm(){return rm=(0,J.Z)(function*(i){const e=mn(i),t=gu(e);let o=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;im(e);)try{const c=yield iv(e.localStore,o);if(null===c){0===e.au.length&&t.ko();break}o=c.batchId,n0(e,c)}catch(c){yield ra(e,c)}sd(e)&&od(e)}),rm.apply(this,arguments)}function im(i){return Wo(i)&&i.au.length<10}function n0(i,e){i.au.push(e);const t=gu(i);t.Co()&&t.zo&&t.Ho(e.mutations)}function sd(i){return Wo(i)&&!gu(i).Do()&&i.au.length>0}function od(i){gu(i).start()}function qf(i){return ad.apply(this,arguments)}function ad(){return ad=(0,J.Z)(function*(i){gu(i).Xo()}),ad.apply(this,arguments)}function Zf(i){return sm.apply(this,arguments)}function sm(){return sm=(0,J.Z)(function*(i){const e=gu(i);for(const t of i.au)e.Ho(t.mutations)}),sm.apply(this,arguments)}function gv(i,e,t){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,J.Z)(function*(i,e,t){const o=i.au.shift(),c=Gl.from(o,e,t);yield Yf(i,()=>i.remoteSyncer.applySuccessfulWrite(c)),yield Lu(i)}),Xf.apply(this,arguments)}function mv(i,e){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,J.Z)(function*(i,e){var t;e&&gu(i).zo&&(yield(t=(0,J.Z)(function*(o,c){if(Ry(d=c.code)&&d!==Mt.ABORTED){const m=o.au.shift();gu(o).No(),yield Yf(o,()=>o.remoteSyncer.rejectFailedWrite(m.batchId,c)),yield Lu(o)}var d}),function(o,c){return t.apply(this,arguments)})(i,e)),sd(i)&&od(i)}),Qf.apply(this,arguments)}function Jf(i,e){return om.apply(this,arguments)}function om(){return om=(0,J.Z)(function*(i,e){const t=mn(i);t.asyncQueue.verifyOperationInProgress(),Xt("RemoteStore","RemoteStore received new credentials");const o=Wo(t);t.lu.add(3),yield ul(t),o&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield td(t)}),om.apply(this,arguments)}function ep(i,e){return am.apply(this,arguments)}function am(){return am=(0,J.Z)(function*(i,e){const t=mn(i);e?(t.lu.delete(2),yield td(t)):e||(t.lu.add(2),yield ul(t),t._u.set("Unknown"))}),am.apply(this,arguments)}function Dc(i){return i.mu||(i.mu=function(e,t,o){const c=mn(e);return c.tu(),new Jg(t,c.bo,c.authCredentials,c.appCheckCredentials,c.wt,o)}(i.datastore,i.asyncQueue,{zr:nm.bind(null,i),Jr:ba.bind(null,i),Go:pv.bind(null,i)}),i.fu.push(function(){var e=(0,J.Z)(function*(t){t?(i.mu.No(),tm(i)?Wf(i):i._u.set("Unknown")):(yield i.mu.stop(),Kf(i))});return function(t){return e.apply(this,arguments)}}())),i.mu}function gu(i){return i.gu||(i.gu=function(e,t,o){const c=mn(e);return c.tu(),new lv(t,c.bo,c.authCredentials,c.appCheckCredentials,c.wt,o)}(i.datastore,i.asyncQueue,{zr:qf.bind(null,i),Jr:mv.bind(null,i),Yo:Zf.bind(null,i),Jo:gv.bind(null,i)}),i.fu.push(function(){var e=(0,J.Z)(function*(t){t?(i.gu.No(),yield Lu(i)):(yield i.gu.stop(),i.au.length>0&&(Xt("RemoteStore",`Stopping write stream with ${i.au.length} pending writes`),i.au=[]))});return function(t){return e.apply(this,arguments)}}())),i.gu}class tp{constructor(e,t,o,c,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=c,this.removalCallback=d,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(e,t,o,c,d){const m=Date.now()+o,C=new tp(e,t,m,c,d);return C.start(o),C}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wt(Mt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vu(i,e){if(Zr("AsyncQueue",`${e}: ${i}`),Ys(i))return new Wt(Mt.UNAVAILABLE,`${e}: ${i}`);throw i}class ud{constructor(e){this.comparator=e?(t,o)=>e(t,o)||fn.comparator(t.key,o.key):(t,o)=>fn.comparator(t.key,o.key),this.keyedMap=Fl(),this.sortedSet=new li(this.comparator)}static emptySet(e){return new ud(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ud)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,d=o.getNext().key;if(!c.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new ud;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class yv{constructor(){this.yu=new li(fn.comparator)}track(e){const t=e.doc.key,o=this.yu.get(t);o?0!==e.type&&3===o.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==o.type?this.yu=this.yu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.yu=this.yu.remove(t):1===e.type&&2===o.type?this.yu=this.yu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):An():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,o)=>{e.push(o)}),e}}class cd{constructor(e,t,o,c,d,m,C,$){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=d,this.fromCache=m,this.syncStateChanged=C,this.excludesMetadataChanges=$}static fromInitialDocuments(e,t,o,c){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new cd(e,t,ud.emptySet(t),d,o,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&g(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==o[c].type||!t[c].doc.isEqual(o[c].doc))return!1;return!0}}class r0{constructor(){this.Iu=void 0,this.listeners=[]}}class s0{constructor(){this.queries=new ja(e=>S(e),g),this.onlineState="Unknown",this.Tu=new Set}}function um(i,e){return cm.apply(this,arguments)}function cm(){return cm=(0,J.Z)(function*(i,e){const t=mn(i),o=e.query;let c=!1,d=t.queries.get(o);if(d||(c=!0,d=new r0),c)try{d.Iu=yield t.onListen(o)}catch(m){const C=Vu(m,`Initialization of query '${Y(e.query)}' failed`);return void e.onError(C)}t.queries.set(o,d),d.listeners.push(e),e.Eu(t.onlineState),d.Iu&&e.Au(d.Iu)&&ld(t)}),cm.apply(this,arguments)}function lm(i,e){return dm.apply(this,arguments)}function dm(){return dm=(0,J.Z)(function*(i,e){const t=mn(i),o=e.query;let c=!1;const d=t.queries.get(o);if(d){const m=d.listeners.indexOf(e);m>=0&&(d.listeners.splice(m,1),c=0===d.listeners.length)}if(c)return t.queries.delete(o),t.onUnlisten(o)}),dm.apply(this,arguments)}function o0(i,e){const t=mn(i);let o=!1;for(const c of e){const m=t.queries.get(c.query);if(m){for(const C of m.listeners)C.Au(c)&&(o=!0);m.Iu=c}}o&&ld(t)}function Bu(i,e,t){const o=mn(i),c=o.queries.get(e);if(c)for(const d of c.listeners)d.onError(t);o.queries.delete(e)}function ld(i){i.Tu.forEach(e=>{e.next()})}class np{constructor(e,t,o){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(e){if(!this.options.includeMetadataChanges){const o=[];for(const c of e.docChanges)3!==c.type&&o.push(c);e=new cd(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=cd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class hm{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class bh{constructor(e){this.wt=e}Wi(e){return wa(this.wt,e)}zi(e){return e.metadata.exists?lg(this.wt,e.document,!1):wi.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return Zs(e)}}class fm{constructor(e,t,o){this.xu=e,this.localStore=t,this.wt=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ih(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=Un.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,o=new bh(this.wt);for(const c of e)if(c.metadata.queries){const d=o.Wi(c.metadata.name);for(const m of c.metadata.queries){const C=(t.get(m)||Or()).add(d);t.set(m,C)}}return t}complete(){var e=this;return(0,J.Z)(function*(){const t=yield function sv(i,e,t,o){return gh.apply(this,arguments)}(e.localStore,new bh(e.wt),e.documents,e.xu.id),o=e.ku(e.documents);for(const c of e.queries)yield ov(e.localStore,c,o.get(c.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function Ih(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class pm{constructor(e){this.key=e}}class mu{constructor(e){this.key=e}}class rp{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Or(),this.mutatedKeys=Or(),this.Lu=Kt(e),this.Uu=new ud(this.Lu)}get qu(){return this.Fu}Ku(e,t){const o=t?t.Gu:new yv,c=t?t.Uu:this.Uu;let d=t?t.mutatedKeys:this.mutatedKeys,m=c,C=!1;const $="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,z="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((ce,We)=>{const It=c.get(ce),$t=pe(this.query,We)?We:null,Ht=!!It&&this.mutatedKeys.has(It.key),In=!!$t&&($t.hasLocalMutations||this.mutatedKeys.has($t.key)&&$t.hasCommittedMutations);let qn=!1;It&&$t?It.data.isEqual($t.data)?Ht!==In&&(o.track({type:3,doc:$t}),qn=!0):this.Qu(It,$t)||(o.track({type:2,doc:$t}),qn=!0,($&&this.Lu($t,$)>0||z&&this.Lu($t,z)<0)&&(C=!0)):!It&&$t?(o.track({type:0,doc:$t}),qn=!0):It&&!$t&&(o.track({type:1,doc:It}),qn=!0,($||z)&&(C=!0)),qn&&($t?(m=m.add($t),d=In?d.add(ce):d.delete(ce)):(m=m.delete(ce),d=d.delete(ce)))}),null!==this.query.limit)for(;m.size>this.query.limit;){const ce="F"===this.query.limitType?m.last():m.first();m=m.delete(ce.key),d=d.delete(ce.key),o.track({type:1,doc:ce})}return{Uu:m,Gu:o,Mi:C,mutatedKeys:d}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const c=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const d=e.Gu.pu();d.sort((z,ce)=>function(We,It){const $t=Ht=>{switch(Ht){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return An()}};return $t(We)-$t(It)}(z.type,ce.type)||this.Lu(z.doc,ce.doc)),this.ju(o);const m=t?this.Wu():[],C=0===this.Bu.size&&this.current?1:0,$=C!==this.$u;return this.$u=C,0!==d.length||$?{snapshot:new cd(this.query,e.Uu,c,d,e.mutatedKeys,0===C,$,!1),zu:m}:{zu:m}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new yv,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Or(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const t=[];return e.forEach(o=>{this.Bu.has(o)||t.push(new mu(o))}),this.Bu.forEach(o=>{e.has(o)||t.push(new pm(o))}),t}Ju(e){this.Fu=e.ji,this.Bu=Or();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return cd.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class vv{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class _v{constructor(e){this.key=e,this.Xu=!1}}class gm{constructor(e,t,o,c,d,m){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=c,this.currentUser=d,this.maxConcurrentLimboResolutions=m,this.Zu={},this.tc=new ja(C=>S(C),g),this.ec=new Map,this.nc=new Set,this.sc=new li(fn.comparator),this.ic=new Map,this.rc=new dh,this.oc={},this.uc=new Map,this.cc=Nu.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function Ev(i,e){return ip.apply(this,arguments)}function ip(){return ip=(0,J.Z)(function*(i,e){const t=_p(i);let o,c;const d=t.tc.get(e);if(d)o=d.targetId,t.sharedClientState.addLocalQueryTarget(o),c=d.view.Yu();else{const m=yield wr(t.localStore,I(e));t.isPrimaryClient&&nd(t.remoteStore,m);const C=t.sharedClientState.addLocalQueryTarget(m.targetId);o=m.targetId,c=yield ll(t,e,o,"current"===C)}return c}),ip.apply(this,arguments)}function ll(i,e,t,o){return $u.apply(this,arguments)}function $u(){return $u=(0,J.Z)(function*(i,e,t,o){i.hc=(ce,We,It)=>{return($t=(0,J.Z)(function*(Ht,In,qn,$r){let yi=In.view.Ku(qn);yi.Mi&&(yi=yield Ql(Ht.localStore,In.query,!1).then(({documents:oi})=>In.view.Ku(oi,yi)));const si=$r&&$r.targetChanges.get(In.targetId),Yi=In.view.applyChanges(yi,Ht.isPrimaryClient,si);return Io(Ht,In.targetId,Yi.zu),Yi.snapshot}),function(Ht,In,qn,$r){return $t.apply(this,arguments)})(i,ce,We,It);var $t};const c=yield Ql(i.localStore,e,!0),d=new rp(e,c.ji),m=d.Ku(c.documents),C=lc.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),$=d.applyChanges(m,i.isPrimaryClient,C);Io(i,t,$.zu);const z=new vv(e,t,d);return i.tc.set(e,z),i.ec.has(t)?i.ec.get(t).push(e):i.ec.set(t,[e]),$.snapshot}),$u.apply(this,arguments)}function sp(i,e){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,J.Z)(function*(i,e){const t=mn(i),o=t.tc.get(e),c=t.ec.get(o.targetId);if(c.length>1)return t.ec.set(o.targetId,c.filter(d=>!g(d,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield wc(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Ic(t.remoteStore,o.targetId),Sc(t,o.targetId)}).catch(Ni))):(Sc(t,o.targetId),yield wc(t.localStore,o.targetId,!0))}),Uu.apply(this,arguments)}function Cc(){return Cc=(0,J.Z)(function*(i,e,t){const o=Ep(i);try{const c=yield function(d,m){const C=mn(d),$=Xr.now(),z=m.reduce((It,$t)=>It.add($t.key),Or());let ce,We;return C.persistence.runTransaction("Locally write mutations","readwrite",It=>{let $t=bo(),Ht=Or();return C.Ui.getEntries(It,z).next(In=>{$t=In,$t.forEach((qn,$r)=>{$r.isValidDocument()||(Ht=Ht.add(qn))})}).next(()=>C.localDocuments.getOverlayedDocuments(It,$t)).next(In=>{ce=In;const qn=[];for(const $r of m){const yi=My($r,ce.get($r.key).overlayedDocument);null!=yi&&qn.push(new hu($r.key,yi,Pd(yi.value.mapValue),es.exists(!0)))}return C.mutationQueue.addMutationBatch(It,$,qn,m)}).next(In=>{We=In;const qn=In.applyToLocalDocumentSet(ce,Ht);return C.documentOverlayCache.saveOverlays(It,In.batchId,qn)})}).then(()=>({batchId:We.batchId,changes:mf(ce)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(c.batchId),function(d,m,C){let $=d.oc[d.currentUser.toKey()];$||($=new li(or)),$=$.insert(m,C),d.oc[d.currentUser.toKey()]=$}(o,c.batchId,t),yield ju(o,c.changes),yield Lu(o.remoteStore)}catch(c){const d=Vu(c,"Failed to persist write");t.reject(d)}}),Cc.apply(this,arguments)}function mm(i,e){return Ch.apply(this,arguments)}function Ch(){return Ch=(0,J.Z)(function*(i,e){const t=mn(i);try{const o=yield rv(t.localStore,e);e.targetChanges.forEach((c,d)=>{const m=t.ic.get(d);m&&(sr(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?m.Xu=!0:c.modifiedDocuments.size>0?sr(m.Xu):c.removedDocuments.size>0&&(sr(m.Xu),m.Xu=!1))}),yield ju(t,o,e)}catch(o){yield Ni(o)}}),Ch.apply(this,arguments)}function op(i,e,t){const o=mn(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const c=[];o.tc.forEach((d,m)=>{const C=m.view.Eu(e);C.snapshot&&c.push(C.snapshot)}),function(d,m){const C=mn(d);C.onlineState=m;let $=!1;C.queries.forEach((z,ce)=>{for(const We of ce.listeners)We.Eu(m)&&($=!0)}),$&&ld(C)}(o.eventManager,e),c.length&&o.Zu.Go(c),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function ap(i,e,t){return dd.apply(this,arguments)}function dd(){return dd=(0,J.Z)(function*(i,e,t){const o=mn(i);o.sharedClientState.updateQueryState(e,"rejected",t);const c=o.ic.get(e),d=c&&c.key;if(d){let m=new li(fn.comparator);m=m.insert(d,wi.newNoDocument(d,dr.min()));const C=Or().add(d),$=new Ll(dr.min(),new Map,new E(or),m,C);yield mm(o,$),o.sc=o.sc.remove(d),o.ic.delete(e),cp(o)}else yield wc(o.localStore,e,!1).then(()=>Sc(o,e,t)).catch(Ni)}),dd.apply(this,arguments)}function ym(i,e){return hd.apply(this,arguments)}function hd(){return hd=(0,J.Z)(function*(i,e){const t=mn(i),o=e.batch.batchId;try{const c=yield nv(t.localStore,e);Th(t,o,null),up(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield ju(t,c)}catch(c){yield Ni(c)}}),hd.apply(this,arguments)}function wv(i,e,t){return vm.apply(this,arguments)}function vm(){return vm=(0,J.Z)(function*(i,e,t){const o=mn(i);try{const c=yield function(d,m){const C=mn(d);return C.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let z;return C.mutationQueue.lookupMutationBatch($,m).next(ce=>(sr(null!==ce),z=ce.keys(),C.mutationQueue.removeMutationBatch($,ce))).next(()=>C.mutationQueue.performConsistencyCheck($)).next(()=>C.documentOverlayCache.removeOverlaysForBatchId($,z,m)).next(()=>C.localDocuments.recalculateAndSaveOverlaysForDocumentKeys($,z)).next(()=>C.localDocuments.getDocuments($,z))})}(o.localStore,e);Th(o,e,t),up(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield ju(o,c)}catch(c){yield Ni(c)}}),vm.apply(this,arguments)}function Sh(){return Sh=(0,J.Z)(function*(i,e){const t=mn(i);Wo(t.remoteStore)||Xt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(d){const m=mn(d);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",C=>m.mutationQueue.getHighestUnacknowledgedBatchId(C))}(t.localStore);if(-1===o)return void e.resolve();const c=t.uc.get(o)||[];c.push(e),t.uc.set(o,c)}catch(o){const c=Vu(o,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),Sh.apply(this,arguments)}function up(i,e){(i.uc.get(e)||[]).forEach(t=>{t.resolve()}),i.uc.delete(e)}function Th(i,e,t){const o=mn(i);let c=o.oc[o.currentUser.toKey()];if(c){const d=c.get(e);d&&(t?d.reject(t):d.resolve(),c=c.remove(e)),o.oc[o.currentUser.toKey()]=c}}function Sc(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ec.get(e))i.tc.delete(o),t&&i.Zu.lc(o,t);i.ec.delete(e),i.isPrimaryClient&&i.rc.us(e).forEach(o=>{i.rc.containsKey(o)||_m(i,o)})}function _m(i,e){i.nc.delete(e.path.canonicalString());const t=i.sc.get(e);null!==t&&(Ic(i.remoteStore,t),i.sc=i.sc.remove(e),i.ic.delete(t),cp(i))}function Io(i,e,t){for(const o of t)o instanceof pm?(i.rc.addReference(o.key,e),Em(i,o)):o instanceof mu?(Xt("SyncEngine","Document no longer in limbo: "+o.key),i.rc.removeReference(o.key,e),i.rc.containsKey(o.key)||_m(i,o.key)):An()}function Em(i,e){const t=e.key,o=t.path.canonicalString();i.sc.get(t)||i.nc.has(o)||(Xt("SyncEngine","New document in limbo: "+t),i.nc.add(o),cp(i))}function cp(i){for(;i.nc.size>0&&i.sc.size<i.maxConcurrentLimboResolutions;){const e=i.nc.values().next().value;i.nc.delete(e);const t=new fn(Un.fromString(e)),o=i.cc.next();i.ic.set(o,new _v(t)),i.sc=i.sc.insert(t,o),nd(i.remoteStore,new za(I(uu(t.path)),o,2,_s.ot))}}function ju(i,e,t){return lp.apply(this,arguments)}function lp(){return lp=(0,J.Z)(function*(i,e,t){const o=mn(i),c=[],d=[],m=[];var C;o.tc.isEmpty()||(o.tc.forEach((C,$)=>{m.push(o.hc($,e,t).then(z=>{if(z){o.isPrimaryClient&&o.sharedClientState.updateQueryState($.targetId,z.fromCache?"not-current":"current"),c.push(z);const ce=zo.Vi($.targetId,z);d.push(ce)}}))}),yield Promise.all(m),o.Zu.Go(c),yield(C=(0,J.Z)(function*($,z){const ce=mn($);try{yield ce.persistence.runTransaction("notifyLocalViewChanges","readwrite",We=>Dt.forEach(z,It=>Dt.forEach(It.Pi,$t=>ce.persistence.referenceDelegate.addReference(We,It.targetId,$t)).next(()=>Dt.forEach(It.vi,$t=>ce.persistence.referenceDelegate.removeReference(We,It.targetId,$t)))))}catch(We){if(!Ys(We))throw We;Xt("LocalStore","Failed to update sequence numbers: "+We)}for(const We of z){const It=We.targetId;if(!We.fromCache){const $t=ce.$i.get(It),In=$t.withLastLimboFreeSnapshotVersion($t.snapshotVersion);ce.$i=ce.$i.insert(It,In)}}}),function($,z){return C.apply(this,arguments)})(o.localStore,d))}),lp.apply(this,arguments)}function dp(i,e){return Ah.apply(this,arguments)}function Ah(){return Ah=(0,J.Z)(function*(i,e){const t=mn(i);if(!t.currentUser.isEqual(e)){Xt("SyncEngine","User change. New user:",e.toKey());const o=yield zg(t.localStore,e);t.currentUser=e,(c=t).uc.forEach(m=>{m.forEach(C=>{C.reject(new Wt(Mt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.uc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield ju(t,o.Ki)}var c}),Ah.apply(this,arguments)}function Iv(i,e){const t=mn(i),o=t.ic.get(e);if(o&&o.Xu)return Or().add(o.key);{let c=Or();const d=t.ec.get(e);if(!d)return c;for(const m of d){const C=t.tc.get(m);c=c.unionWith(C.view.qu)}return c}}function Dv(i,e){return hp.apply(this,arguments)}function hp(){return hp=(0,J.Z)(function*(i,e){const t=mn(i),o=yield Ql(t.localStore,e.query,!0),c=e.view.Ju(o);return t.isPrimaryClient&&Io(t,e.targetId,c.zu),c}),hp.apply(this,arguments)}function wm(i,e){return fp.apply(this,arguments)}function fp(){return fp=(0,J.Z)(function*(i,e){const t=mn(i);return Yg(t.localStore,e).then(o=>ju(t,o))}),fp.apply(this,arguments)}function bm(i,e,t,o){return pp.apply(this,arguments)}function pp(){return pp=(0,J.Z)(function*(i,e,t,o){const c=mn(i),d=yield function(m,C){const $=mn(m),z=mn($.mutationQueue);return $.persistence.runTransaction("Lookup mutation documents","readonly",ce=>z.yn(ce,C).next(We=>We?$.localDocuments.getDocuments(ce,We):Dt.resolve(null)))}(c.localStore,e);var C;null!==d?("pending"===t?yield Lu(c.remoteStore):"acknowledged"===t||"rejected"===t?(Th(c,e,o||null),up(c,e),C=e,mn(mn(c.localStore).mutationQueue).In(C)):An(),yield ju(c,d)):Xt("SyncEngine","Cannot apply mutation batch with id: "+e)}),pp.apply(this,arguments)}function xh(){return xh=(0,J.Z)(function*(i,e){const t=mn(i);if(_p(t),Ep(t),!0===e&&!0!==t.ac){const o=t.sharedClientState.getAllActiveQueryTargets(),c=yield gp(t,o.toArray());t.ac=!0,yield ep(t.remoteStore,!0);for(const d of c)nd(t.remoteStore,d)}else if(!1===e&&!1!==t.ac){const o=[];let c=Promise.resolve();t.ec.forEach((d,m)=>{t.sharedClientState.isLocalQueryTarget(m)?o.push(m):c=c.then(()=>(Sc(t,m),wc(t.localStore,m,!0))),Ic(t.remoteStore,m)}),yield c,yield gp(t,o),function(d){const m=mn(d);m.ic.forEach((C,$)=>{Ic(m.remoteStore,$)}),m.rc.cs(),m.ic=new Map,m.sc=new li(fn.comparator)}(t),t.ac=!1,yield ep(t.remoteStore,!1)}}),xh.apply(this,arguments)}function gp(i,e,t){return mp.apply(this,arguments)}function mp(){return mp=(0,J.Z)(function*(i,e,t){const o=mn(i),c=[],d=[];for(const m of e){let C;const $=o.ec.get(m);if($&&0!==$.length){C=yield wr(o.localStore,I($[0]));for(const z of $){const ce=o.tc.get(z),We=yield Dv(o,ce);We.snapshot&&d.push(We.snapshot)}}else{const z=yield Kg(o.localStore,m);C=yield wr(o.localStore,z),yield ll(o,Ia(z),m,!1)}c.push(C)}return o.Zu.Go(d),c}),mp.apply(this,arguments)}function Ia(i){return Bd(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function yp(i){const e=mn(i);return mn(mn(e.localStore).persistence).Ri()}function Sv(i,e,t,o){return vp.apply(this,arguments)}function vp(){return vp=(0,J.Z)(function*(i,e,t,o){const c=mn(i);if(c.ac)return void Xt("SyncEngine","Ignoring unexpected query state notification.");const d=c.ec.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const m=yield Yg(c.localStore,mt(d[0])),C=Ll.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield ju(c,m,C);break}case"rejected":yield wc(c.localStore,e,!0),Sc(c,e,o);break;default:An()}}),vp.apply(this,arguments)}function a0(i,e,t){return Mh.apply(this,arguments)}function Mh(){return Mh=(0,J.Z)(function*(i,e,t){const o=_p(i);if(o.ac){for(const c of e){if(o.ec.has(c)){Xt("SyncEngine","Adding an already active target "+c);continue}const d=yield Kg(o.localStore,c),m=yield wr(o.localStore,d);yield ll(o,Ia(d),m.targetId,!1),nd(o.remoteStore,m)}for(const c of t)o.ec.has(c)&&(yield wc(o.localStore,c,!1).then(()=>{Ic(o.remoteStore,c),Sc(o,c)}).catch(Ni))}}),Mh.apply(this,arguments)}function _p(i){const e=mn(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=mm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Iv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ap.bind(null,e),e.Zu.Go=o0.bind(null,e.eventManager),e.Zu.lc=Bu.bind(null,e.eventManager),e}function Ep(i){const e=mn(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ym.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wv.bind(null,e),e}class Oh{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,J.Z)(function*(){t.wt=ol(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return Gg(this.persistence,new jg,e.initialUser,this.wt)}_c(e){return new Bg(rl.Os,this.wt)}dc(e){return new uv}terminate(){var e=this;return(0,J.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Im extends Oh{constructor(e,t,o){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,J.Z)(function*(){yield t().call(o,e),yield o.yc.initialize(o,e),yield Ep(o.yc.syncEngine),yield Lu(o.yc.remoteStore),yield o.persistence.ci(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return Gg(this.persistence,new jg,e.initialUser,this.wt)}mc(e,t){return new Ng(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const o=new xu(t,this.persistence);return new fa(e.asyncQueue,o)}_c(e){const t=Bf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ro.withCacheSize(this.cacheSizeBytes):Ro.DEFAULT;return new Vf(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,bc(),yh(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new uv}}class Av extends Im{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,J.Z)(function*(){yield t().call(o,e);const c=o.yc.syncEngine;o.sharedClientState instanceof qg&&(o.sharedClientState.syncEngine={kr:bm.bind(null,c),Mr:Sv.bind(null,c),Or:a0.bind(null,c),Ri:yp.bind(null,c),Nr:wm.bind(null,c)},yield o.sharedClientState.start()),yield o.persistence.ci(function(){var d=(0,J.Z)(function*(m){yield function Cv(i,e){return xh.apply(this,arguments)}(o.yc.syncEngine,m),o.gcScheduler&&(m&&!o.gcScheduler.started?o.gcScheduler.start():m||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(m&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():m||o.indexBackfillerScheduler.stop())});return function(m){return d.apply(this,arguments)}}())})()}dc(e){const t=bc();if(!qg.V(t))throw new Wt(Mt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Bf(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new qg(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class dl{initialize(e,t){var o=this;return(0,J.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=c=>op(o.syncEngine,c,1),o.remoteStore.remoteSyncer.handleCredentialChange=dp.bind(null,o.syncEngine),yield ep(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new s0}createDatastore(e){const t=ol(e.databaseInfo.databaseId),o=new cv(e.databaseInfo);return new dv(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,c=e.asyncQueue,d=C=>op(this.syncEngine,C,0),m=Zg.V()?new Zg:new e0,new fv(t,o,c,d,m);var t,o,c,d,m}createSyncEngine(e,t){return function(o,c,d,m,C,$,z){const ce=new gm(o,c,d,m,C,$);return z&&(ce.ac=!0),ce}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,J.Z)(function*(t){const o=mn(t);Xt("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield ul(o),o.du.shutdown(),o._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Rh(i,e=10240){let t=0;return{read:()=>(0,J.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,J.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Ph{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):Zr("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class wp{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new Bi,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(o=>{o&&o.Cu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,J.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,J.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,J.Z)(function*(){const t=yield e.bc();if(null===t)return null;const o=e.Ac.decode(t),c=Number(o);isNaN(c)&&e.Pc(`length string (${o}) is not valid number`);const d=yield e.vc(c);return new hm(JSON.parse(d),t.length+c)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,J.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}vc(e){var t=this;return(0,J.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const o=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,J.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Dm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,J.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Wt(Mt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(c=(0,J.Z)(function*(d,m){const C=mn(d),$=qd(C.wt)+"/documents",z={documents:m.map($t=>Bl(C.wt,$t))},ce=yield C.ao("BatchGetDocuments",$,z,m.length),We=new Map;ce.forEach($t=>{const Ht=function Xc(i,e){return"found"in e?function(t,o){sr(!!o.found);const c=wa(t,o.found.name),d=Zs(o.found.updateTime),m=new us({mapValue:{fields:o.found.fields}});return wi.newFoundDocument(c,d,m)}(i,e):"missing"in e?function(t,o){sr(!!o.missing),sr(!!o.readTime);const c=wa(t,o.missing),d=Zs(o.readTime);return wi.newNoDocument(c,d)}(i,e):An()}(C.wt,$t);We.set(Ht.key.toString(),Ht)});const It=[];return m.forEach($t=>{const Ht=We.get($t.toString());sr(!!Ht),It.push(Ht)}),It}),function(d,m){return c.apply(this,arguments)})(t.datastore,e);var c;return o.forEach(c=>t.recordVersion(c)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new Yc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,J.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,c)=>{const d=fn.fromPath(c);e.mutations.push(new pf(d,e.precondition(d)))}),yield(o=(0,J.Z)(function*(c,d){const m=mn(c),C=qd(m.wt)+"/documents",$={writes:d.map(z=>Ul(m.wt,z))};yield m.ro("Commit",C,$)}),function(c,d){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw An();t=dr.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Wt(Mt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?es.updateTime(t):es.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(dr.min()))throw new Wt(Mt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return es.updateTime(t)}return es.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class u0{constructor(e,t,o,c,d){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=c,this.deferred=d,this.Dc=o.maxAttempts,this.So=new al(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,J.Z)(function*(){const t=new Dm(e.datastore),o=e.xc(t);o&&o.then(c=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(c)}).catch(d=>{e.Nc(d)}))}).catch(c=>{e.Nc(c)})}))}xc(e){try{const t=this.updateFunction(e);return!Vn(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Ry(t)}return!1}}class c0{constructor(e,t,o,c){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=c,this.user=qr.UNAUTHENTICATED,this.clientId=Ao.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var m=(0,J.Z)(function*(C){Xt("FirestoreClient","Received user=",C.uid),yield d.authCredentialListener(C),d.user=C});return function(C){return m.apply(this,arguments)}}()),this.appCheckCredentials.start(o,m=>(Xt("FirestoreClient","Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}getConfiguration(){var e=this;return(0,J.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Wt(Mt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,J.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const c=Vu(o,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function Nh(i,e){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,J.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Xt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var c=(0,J.Z)(function*(d){o.isEqual(d)||(yield zg(e.localStore,d),o=d)});return function(d){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Cm.apply(this,arguments)}function bp(i,e){return kh.apply(this,arguments)}function kh(){return kh=(0,J.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Fh(i);Xt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(c=>Jf(e.remoteStore,c)),i.setAppCheckTokenChangeListener((c,d)=>Jf(e.remoteStore,d)),i.onlineComponents=e}),kh.apply(this,arguments)}function Fh(i){return Lh.apply(this,arguments)}function Lh(){return Lh=(0,J.Z)(function*(i){return i.offlineComponents||(Xt("FirestoreClient","Using default OfflineComponentProvider"),yield Nh(i,new Oh)),i.offlineComponents}),Lh.apply(this,arguments)}function hl(i){return Da.apply(this,arguments)}function Da(){return Da=(0,J.Z)(function*(i){return i.onlineComponents||(Xt("FirestoreClient","Using default OnlineComponentProvider"),yield bp(i,new dl)),i.onlineComponents}),Da.apply(this,arguments)}function fd(i){return Fh(i).then(e=>e.persistence)}function Tc(i){return Fh(i).then(e=>e.localStore)}function fl(i){return hl(i).then(e=>e.remoteStore)}function Ip(i){return hl(i).then(e=>e.syncEngine)}function Hu(i){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,J.Z)(function*(i){const e=yield hl(i),t=e.eventManager;return t.onListen=Ev.bind(null,e.syncEngine),t.onUnlisten=sp.bind(null,e.syncEngine),t}),Vh.apply(this,arguments)}function Sm(i,e,t={}){const o=new Bi;return i.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function(c,d,m,C,$){const z=new Ph({next:We=>{d.enqueueAndForget(()=>lm(c,ce));const It=We.docs.has(m);!It&&We.fromCache?$.reject(new Wt(Mt.UNAVAILABLE,"Failed to get document because the client is offline.")):It&&We.fromCache&&C&&"server"===C.source?$.reject(new Wt(Mt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):$.resolve(We)},error:We=>$.reject(We)}),ce=new np(uu(m.path),z,{includeMetadataChanges:!0,Du:!0});return um(c,ce)}(yield Hu(i),i.asyncQueue,e,t,o)})),o.promise}function Tm(i,e,t={}){const o=new Bi;return i.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function(c,d,m,C,$){const z=new Ph({next:We=>{d.enqueueAndForget(()=>lm(c,ce)),We.fromCache&&"server"===C.source?$.reject(new Wt(Mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):$.resolve(We)},error:We=>$.reject(We)}),ce=new np(m,z,{includeMetadataChanges:!0,Du:!0});return um(c,ce)}(yield Hu(i),i.asyncQueue,e,t,o)})),o.promise}const Am=new Map;function Bh(i,e,t){if(!t)throw new Wt(Mt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function $h(i,e,t,o){if(!0===e&&!0===o)throw new Wt(Mt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function xm(i){if(!fn.isDocumentKey(i))throw new Wt(Mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Uh(i){if(fn.isDocumentKey(i))throw new Wt(Mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function jh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":An()}function Gr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Wt(Mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jh(i);throw new Wt(Mt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Mm(i,e){if(e<=0)throw new Wt(Mt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Om{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Wt(Mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Wt(Mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,$h("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gd{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Om({}),this._settingsFrozen=!1,e instanceof nn?this._databaseId=e:(this._app=e,this._databaseId=function(c){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Wt(Mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nn(c.options.projectId)}(e))}get app(){if(!this._app)throw new Wt(Mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Wt(Mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Om(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Su;switch(t.type){case"gapi":const o=t.client;return sr(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new iu(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Wt(Mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Am.get(e);t&&(Xt("ComponentProvider","Removing Datastore"),Am.delete(e),t.terminate())}(this),Promise.resolve()}}class bi{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bi(this.firestore,e,this._key)}}class cs{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new cs(this.firestore,e,this._query)}}class yu extends cs{constructor(e,t,o){super(e,t,uu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bi(this.firestore,null,new fn(e))}withConverter(e){return new yu(this.firestore,e,this._path)}}function pl(i,e,...t){if(i=(0,Qe.m9)(i),Bh("collection","path",e),i instanceof gd){const o=Un.fromString(e,...t);return Uh(o),new yu(i,null,o)}{if(!(i instanceof bi||i instanceof yu))throw new Wt(Mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Un.fromString(e,...t));return Uh(o),new yu(i.firestore,null,o)}}function Hh(i,e,...t){if(i=(0,Qe.m9)(i),1===arguments.length&&(e=Ao.I()),Bh("doc","path",e),i instanceof gd){const o=Un.fromString(e,...t);return xm(o),new bi(i,null,new fn(o))}{if(!(i instanceof bi||i instanceof yu))throw new Wt(Mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Un.fromString(e,...t));return xm(o),new bi(i.firestore,i instanceof yu?i.converter:null,new fn(o))}}function Gh(i,e){return i=(0,Qe.m9)(i),e=(0,Qe.m9)(e),(i instanceof bi||i instanceof yu)&&(e instanceof bi||e instanceof yu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Rm(i,e){return i=(0,Qe.m9)(i),e=(0,Qe.m9)(e),i instanceof cs&&e instanceof cs&&i.firestore===e.firestore&&g(i._query,e._query)&&i.converter===e.converter}class qa{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new al(this,"async_queue_retry"),this.Kc=()=>{const t=yh();t&&Xt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=yh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=yh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new Bi;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return(0,J.Z)(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(t){if(!Ys(t))throw t;Xt("AsyncQueue","Operation failed with retryable error: "+t)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Mc.then(()=>(this.Lc=!0,e().catch(o=>{throw this.Bc=o,this.Lc=!1,Zr("INTERNAL UNHANDLED ERROR: ",function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),m}(o)),o}).then(o=>(this.Lc=!1,o))));return this.Mc=t,t}enqueueAfterDelay(e,t,o){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const c=tp.createAndSchedule(this,e,t,o,d=>this.Wc(d));return this.$c.push(c),c}Gc(){this.Bc&&An()}verifyOperationInProgress(){}zc(){var e=this;return(0,J.Z)(function*(){let t;do{t=e.Mc,yield t}while(t!==e.Mc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function Ac(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const c of["next","error","complete"])if(c in o&&"function"==typeof o[c])return!0;return!1}(i)}class po{constructor(){this._progressObserver={},this._taskCompletionResolver=new Bi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class xi extends gd{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new qa,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Mc(this),this._firestoreClient.terminate()}}function ji(i){return i._firestoreClient||Mc(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Mc(i){var e;const t=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new kt(i._databaseId,d,i._persistenceKey,(C=t).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,C.useFetchStreams));var d,C;i._firestoreClient=new c0(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Oc(i,e,t){const o=new Bi;return i.asyncQueue.enqueue((0,J.Z)(function*(){try{yield Nh(i,t),yield bp(i,e),o.resolve()}catch(c){const d=c;if(!("FirebaseError"===(m=d).name?m.code===Mt.FAILED_PRECONDITION||m.code===Mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&m instanceof DOMException)||22===m.code||20===m.code||11===m.code))throw d;Ls("Error enabling offline persistence. Falling back to persistence disabled: "+d),o.reject(d)}var m})).then(()=>o.promise)}function Dp(i){if(i._initialized||i._terminated)throw new Wt(Mt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Za{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Wt(Mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ci(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sa(W.fromBase64String(e))}catch(t){throw new Wt(Mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Sa(W.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gu{constructor(e){this._methodName=e}}class md{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Wt(Mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Wt(Mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return or(this._lat,e._lat)||or(this._long,e._long)}}const Vv=/^__.*__$/;class Bv{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new hu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kc(e,this.data,t,this.fieldTransforms)}}class Cp{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new hu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Fm(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw An()}}class zh{constructor(e,t,o,c,d,m){this.settings=e,this.databaseId=t,this.wt=o,this.ignoreUndefinedProperties=c,void 0===d&&this.Xc(),this.fieldTransforms=d||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new zh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ta({path:o,na:!1});return c.sa(e),c}ia(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ta({path:o,na:!1});return c.Xc(),c}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return wd(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(Fm(this.Zc)&&Vv.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class Sp{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=o||ol(e)}aa(e,t,o,c=!1){return new zh({Zc:e,methodName:t,ca:o,path:Ci.emptyPath(),na:!1,ua:c},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function vu(i){const e=i._freezeSettings(),t=ol(i._databaseId);return new Sp(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Wh(i,e,t,o,c,d={}){const m=i.aa(d.merge||d.mergeFields?2:0,e,t,c);Zh("Data must be an object, but it was:",m,o);const C=xp(o,m);let $,z;if(d.merge)$=new A(m.fieldMask),z=m.fieldTransforms;else if(d.mergeFields){const ce=[];for(const We of d.mergeFields){const It=Mp(e,We,t);if(!m.contains(It))throw new Wt(Mt.INVALID_ARGUMENT,`Field '${It}' is specified in your field mask but missing from your input data.`);Op(ce,It)||ce.push(It)}$=new A(ce),z=m.fieldTransforms.filter(We=>$.covers(We.field))}else $=null,z=m.fieldTransforms;return new Bv(new us(C),$,z)}class zu extends Gu{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zu}}function yd(i,e,t){return new zh({Zc:3,ca:e.settings.ca,methodName:i._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class vd extends Gu{_toFieldTransform(e){return new Mu(e.path,new lu)}isEqual(e){return e instanceof vd}}class $v extends Gu{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=yd(this,e,!0),o=this.ha.map(d=>Wu(d,t)),c=new du(o);return new Mu(e.path,c)}isEqual(e){return this===e}}class Tp extends Gu{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=yd(this,e,!0),o=this.ha.map(d=>Wu(d,t)),c=new Go(o);return new Mu(e.path,c)}isEqual(e){return this===e}}class Ap extends Gu{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new _a(e.wt,jr(e.wt,this.la));return new Mu(e.path,t)}isEqual(e){return this===e}}function _d(i,e,t,o){const c=i.aa(1,e,t);Zh("Data must be an object, but it was:",c,o);const d=[],m=us.empty();Mo(o,($,z)=>{const ce=Ed(e,$,t);z=(0,Qe.m9)(z);const We=c.ia(ce);if(z instanceof zu)d.push(ce);else{const It=Wu(z,We);null!=It&&(d.push(ce),m.set(ce,It))}});const C=new A(d);return new Cp(m,C,c.fieldTransforms)}function Kh(i,e,t,o,c,d){const m=i.aa(1,e,t),C=[Mp(e,o,t)],$=[c];if(d.length%2!=0)throw new Wt(Mt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let It=0;It<d.length;It+=2)C.push(Mp(e,d[It])),$.push(d[It+1]);const z=[],ce=us.empty();for(let It=C.length-1;It>=0;--It)if(!Op(z,C[It])){const $t=C[It];let Ht=$[It];Ht=(0,Qe.m9)(Ht);const In=m.ia($t);if(Ht instanceof zu)z.push($t);else{const qn=Wu(Ht,In);null!=qn&&(z.push($t),ce.set($t,qn))}}const We=new A(z);return new Cp(ce,We,m.fieldTransforms)}function Yh(i,e,t,o=!1){return Wu(t,i.aa(o?4:3,e))}function Wu(i,e){if(qh(i=(0,Qe.m9)(i)))return Zh("Unsupported field value:",e,i),xp(i,e);if(i instanceof Gu)return function(t,o){if(!Fm(o.Zc))throw o.oa(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.oa(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,o){const c=[];let d=0;for(const m of t){let C=Wu(m,o.ra(d));null==C&&(C={nullValue:"NULL_VALUE"}),c.push(C),d++}return{arrayValue:{values:c}}}(i,e)}return function(t,o){if(null===(t=(0,Qe.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jr(o.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=Xr.fromDate(t);return{timestampValue:Ga(o.wt,c)}}if(t instanceof Xr){const c=new Xr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ga(o.wt,c)}}if(t instanceof md)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Sa)return{bytesValue:ug(o.wt,t._byteString)};if(t instanceof bi){const c=o.databaseId,d=t.firestore._databaseId;if(!d.isEqual(c))throw o.oa(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:_f(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.oa(`Unsupported field value: ${jh(t)}`)}(i,e)}function xp(i,e){const t={};return $a(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mo(i,(o,c)=>{const d=Wu(c,e.ea(o));null!=d&&(t[o]=d)}),{mapValue:{fields:t}}}function qh(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Xr||i instanceof md||i instanceof Sa||i instanceof bi||i instanceof Gu)}function Zh(i,e,t){if(!qh(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=jh(t);throw e.oa("an object"===o?i+" a custom object":i+" "+o)}var o}function Mp(i,e,t){if((e=(0,Qe.m9)(e))instanceof Za)return e._internalPath;if("string"==typeof e)return Ed(i,e);throw wd("Field path arguments must be of type string or ",i,!1,void 0,t)}const Lm=new RegExp("[~\\*/\\[\\]]");function Ed(i,e,t){if(e.search(Lm)>=0)throw wd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Za(...e.split("."))._internalPath}catch{throw wd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function wd(i,e,t,o,c){const d=o&&!o.isEmpty(),m=void 0!==c;let C=`Function ${e}() called with invalid data`;t&&(C+=" (via `toFirestore()`)"),C+=". ";let $="";return(d||m)&&($+=" (found",d&&($+=` in field ${o}`),m&&($+=` in document ${c}`),$+=")"),new Wt(Mt.INVALID_ARGUMENT,C+i+$)}function Op(i,e){return i.some(t=>t.isEqual(e))}class bd{constructor(e,t,o,c,d){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=c,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Vm(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Id("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Vm extends bd{data(){return super.data()}}function Id(i,e){return"string"==typeof e?Ed(i,e):e instanceof Za?e._internalPath:e._delegate._internalPath}class Ku{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ta extends bd{constructor(e,t,o,c,d,m){super(e,t,o,c,m),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new wl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Id("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class wl extends Ta{data(e={}){return super.data(e)}}class _u{constructor(e,t,o,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new Ku(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new wl(this._firestore,this._userDataWriter,o.key,o,new Ku(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Wt(Mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>({type:"added",doc:new wl(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ku(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||3!==m.type).map(m=>{const C=new wl(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ku(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let $=-1,z=-1;return 0!==m.type&&($=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),1!==m.type&&(d=d.add(m.doc),z=d.indexOf(m.doc.key)),{type:Bm(m.type),doc:C,oldIndex:$,newIndex:z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Bm(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return An()}}function Rp(i,e){return i instanceof Ta&&e instanceof Ta?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof _u&&e instanceof _u&&i._firestore===e._firestore&&Rm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Pp(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Wt(Mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bl{}function Eu(i,...e){for(const t of e)i=t._apply(i);return i}class $m extends bl{constructor(e,t,o){super(),this.fa=e,this.da=t,this._a=o,this.type="where"}_apply(e){const t=vu(e.firestore),o=function(c,d,m,C,$,z,ce){let We;if($.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new Wt(Mt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){jm(ce,z);const $t=[];for(const Ht of ce)$t.push(Rc(C,c,Ht));We={arrayValue:{values:$t}}}else We=Rc(C,c,ce)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||jm(ce,z),We=Yh(m,"where",ce,"in"===z||"not-in"===z);const It=Ts.create($,z,We);return function($t,Ht){if(Ht.ht()){const qn=cu($t);if(null!==qn&&!qn.isEqual(Ht.field))throw new Wt(Mt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${qn.toString()}' and '${Ht.field.toString()}'`);const $r=ta($t);null!==$r&&Hm(0,Ht.field,$r)}const In=function(qn,$r){for(const yi of qn.filters)if($r.indexOf(yi.op)>=0)return yi.op;return null}($t,function(qn){switch(qn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ht.op));if(null!==In)throw new Wt(Mt.INVALID_ARGUMENT,In===Ht.op?`Invalid query. You cannot use more than one '${Ht.op.toString()}' filter.`:`Invalid query. You cannot use '${Ht.op.toString()}' filters with '${In.toString()}' filters.`)}(c,It),It}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new cs(e.firestore,e.converter,function(c,d){const m=c.filters.concat([d]);return new Ho(c.path,c.collectionGroup,c.explicitOrderBy.slice(),m,c.limit,c.limitType,c.startAt,c.endAt)}(e._query,o))}}class Uv extends bl{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(o,c,d){if(null!==o.startAt)throw new Wt(Mt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Wt(Mt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new ya(c,d);return function(C,$){if(null===ta(C)){const z=cu(C);null!==z&&Hm(0,z,$.field)}}(o,m),m}(e._query,this.fa,this.wa);return new cs(e.firestore,e.converter,function(o,c){const d=o.explicitOrderBy.concat([c]);return new Ho(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class Np extends bl{constructor(e,t,o){super(),this.type=e,this.ma=t,this.ga=o}_apply(e){return new cs(e.firestore,e.converter,f(e._query,this.ma,this.ga))}}class kp extends bl{constructor(e,t,o){super(),this.type=e,this.ya=t,this.pa=o}_apply(e){const t=Lp(e,this.type,this.ya,this.pa);return new cs(e.firestore,e.converter,(c=t,new Ho((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,c,o.endAt)));var o,c}}class Fp extends bl{constructor(e,t,o){super(),this.type=e,this.ya=t,this.pa=o}_apply(e){const t=Lp(e,this.type,this.ya,this.pa);return new cs(e.firestore,e.converter,(c=t,new Ho((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,c)));var o,c}}function Lp(i,e,t,o){if(t[0]=(0,Qe.m9)(t[0]),t[0]instanceof bd)return function(c,d,m,C,$){if(!C)throw new Wt(Mt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const z=[];for(const ce of oc(c))if(ce.field.isKeyField())z.push(as(d,C.key));else{const We=C.data.field(ce.field);if(me(We))throw new Wt(Mt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ce.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===We){const It=ce.field.canonicalString();throw new Wt(Mt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${It}' (used as the orderBy) does not exist.`)}z.push(We)}return new ma(z,$)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const c=vu(i.firestore);return function(d,m,C,$,z,ce){const We=d.explicitOrderBy;if(z.length>We.length)throw new Wt(Mt.INVALID_ARGUMENT,`Too many arguments provided to ${$}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const It=[];for(let $t=0;$t<z.length;$t++){const Ht=z[$t];if(We[$t].field.isKeyField()){if("string"!=typeof Ht)throw new Wt(Mt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${$}(), but got a ${typeof Ht}`);if(!Ol(d)&&-1!==Ht.indexOf("/"))throw new Wt(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${$}() must be a plain document ID, but '${Ht}' contains a slash.`);const In=d.path.child(Un.fromString(Ht));if(!fn.isDocumentKey(In))throw new Wt(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${$}() must result in a valid document path, but '${In}' is not because it contains an odd number of segments.`);const qn=new fn(In);It.push(as(m,qn))}else{const In=Yh(C,$,Ht);It.push(In)}}return new ma(It,ce)}(i._query,i.firestore._databaseId,c,e,t,o)}}function Rc(i,e,t){if("string"==typeof(t=(0,Qe.m9)(t))){if(""===t)throw new Wt(Mt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ol(e)&&-1!==t.indexOf("/"))throw new Wt(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Un.fromString(t));if(!fn.isDocumentKey(o))throw new Wt(Mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return as(i,new fn(o))}if(t instanceof bi)return as(i,t._key);throw new Wt(Mt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jh(t)}.`)}function jm(i,e){if(!Array.isArray(i)||0===i.length)throw new Wt(Mt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Wt(Mt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Hm(i,e,t){if(!t.isEqual(e))throw new Wt(Mt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const Gm={maxAttempts:5};class Vp{convertValue(e,t="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return T(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(H(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw An()}}convertObject(e,t){const o={};return Mo(e.fields,(c,d)=>{o[c]=this.convertValue(d,t)}),o}convertGeoPoint(e){return new md(T(e.latitude),T(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Oe(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(lt(e));default:return null}}convertTimestamp(e){const t=w(e);return new Xr(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Un.fromString(e);sr(Vy(o));const c=new nn(o.get(1),o.get(3)),d=new fn(o.popFirst(5));return c.isEqual(t)||Zr(`Document ${d} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function Dd(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class f0 extends Vp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bi(this.firestore,null,t)}}class Bp{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=vu(e)}set(e,t,o){this._verifyNotCommitted();const c=Xa(e,this._firestore),d=Dd(c.converter,t,o),m=Wh(this._dataReader,"WriteBatch.set",c._key,d,null!==c.converter,o);return this._mutations.push(m.toMutation(c._key,es.none())),this}update(e,t,o,...c){this._verifyNotCommitted();const d=Xa(e,this._firestore);let m;return m="string"==typeof(t=(0,Qe.m9)(t))||t instanceof Za?Kh(this._dataReader,"WriteBatch.update",d._key,t,o,c):_d(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(m.toMutation(d._key,es.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Xa(e,this._firestore);return this._mutations=this._mutations.concat(new Yc(t._key,es.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Wt(Mt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xa(i,e){if((i=(0,Qe.m9)(i)).firestore!==e)throw new Wt(Mt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Pc extends Vp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bi(this.firestore,null,t)}}function $p(i,e,t){i=Gr(i,bi);const o=Gr(i.firestore,xi),c=Dd(i.converter,e,t);return eu(o,[Wh(vu(o),"setDoc",i._key,c,null!==i.converter,t).toMutation(i._key,es.none())])}function Wm(i,e,t,...o){i=Gr(i,bi);const c=Gr(i.firestore,xi),d=vu(c);let m;return m="string"==typeof(e=(0,Qe.m9)(e))||e instanceof Za?Kh(d,"updateDoc",i._key,e,t,o):_d(d,"updateDoc",i._key,e),eu(c,[m.toMutation(i._key,es.exists(!0))])}function Km(i,...e){var t,o,c;i=(0,Qe.m9)(i);let d={includeMetadataChanges:!1},m=0;"object"!=typeof e[m]||Ac(e[m])||(d=e[m],m++);const C={includeMetadataChanges:d.includeMetadataChanges};if(Ac(e[m])){const We=e[m];e[m]=null===(t=We.next)||void 0===t?void 0:t.bind(We),e[m+1]=null===(o=We.error)||void 0===o?void 0:o.bind(We),e[m+2]=null===(c=We.complete)||void 0===c?void 0:c.bind(We)}let $,z,ce;if(i instanceof bi)z=Gr(i.firestore,xi),ce=uu(i._key.path),$={next:We=>{e[m]&&e[m](jp(z,i,We))},error:e[m+1],complete:e[m+2]};else{const We=Gr(i,cs);z=Gr(We.firestore,xi),ce=We._query;const It=new Pc(z);$={next:$t=>{e[m]&&e[m](new _u(z,It,We,$t))},error:e[m+1],complete:e[m+2]},Pp(i._query)}return function(We,It,$t,Ht){const In=new Ph(Ht),qn=new np(It,In,$t);return We.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return um(yield Hu(We),qn)})),()=>{In.Tc(),We.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return lm(yield Hu(We),qn)}))}}(ji(z),ce,C,$)}function eu(i,e){return function(t,o){const c=new Bi;return t.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function Dh(i,e,t){return Cc.apply(this,arguments)}(yield Ip(t),o,c)})),c.promise}(ji(i),e)}function jp(i,e,t){const o=t.docs.get(e._key),c=new Pc(i);return new Ta(i,c,e._key,o,new Ku(t.hasPendingWrites,t.fromCache),e.converter)}class Ym extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=vu(e)}get(e){const t=Xa(e,this._firestore),o=new f0(this._firestore);return this._transaction.lookup([t._key]).then(c=>{if(!c||1!==c.length)return An();const d=c[0];if(d.isFoundDocument())return new bd(this._firestore,o,d.key,d,t.converter);if(d.isNoDocument())return new bd(this._firestore,o,t._key,null,t.converter);throw An()})}set(e,t,o){const c=Xa(e,this._firestore),d=Dd(c.converter,t,o),m=Wh(this._dataReader,"Transaction.set",c._key,d,null!==c.converter,o);return this._transaction.set(c._key,m),this}update(e,t,o,...c){const d=Xa(e,this._firestore);let m;return m="string"==typeof(t=(0,Qe.m9)(t))||t instanceof Za?Kh(this._dataReader,"Transaction.update",d._key,t,o,c):_d(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,m),this}delete(e){const t=Xa(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Xa(e,this._firestore),o=new Pc(this._firestore);return super.get(e).then(c=>new Ta(this._firestore,o,t._key,c._document,new Ku(!1,!1),t.converter))}}function Qh(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Wt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Hp(){if(typeof Uint8Array>"u")throw new Wt("unimplemented","Uint8Arrays are not available in this environment.")}function Gp(){if(!function L(){return typeof atob<"u"}())throw new Wt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Zo=st.SDK_VERSION,(0,st._registerComponent)(new wt.wA("firestore",(t,{options:o})=>{const c=t.getProvider("app").getImmediate(),d=new xi(c,new ru(t.getProvider("auth-internal")),new su(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC")),(0,st.registerVersion)(Vo,"3.4.14",i),(0,st.registerVersion)(Vo,"3.4.14","esm2017")}();class Il{constructor(e){this._delegate=e}static fromBase64String(e){return Gp(),new Il(Sa.fromBase64String(e))}static fromUint8Array(e){return Hp(),new Il(Sa.fromUint8Array(e))}toBase64(){return Gp(),this._delegate.toBase64()}toUint8Array(){return Hp(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Jh(i){return function ty(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class Jv{enableIndexedDbPersistence(e,t){return function gl(i,e){Dp(i=Gr(i,xi));const t=ji(i),o=i._freezeSettings(),c=new dl;return Oc(t,c,new Im(c,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function ml(i){Dp(i=Gr(i,xi));const e=ji(i),t=i._freezeSettings(),o=new dl;return Oc(e,o,new Av(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function yl(i){if(i._initialized&&!i._terminated)throw new Wt(Mt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Bi;return i._queue.enqueueAndForgetEvenWhileRestricted((0,J.Z)(function*(){try{yield(t=(0,J.Z)(function*(o){if(!Ti.V())return Promise.resolve();const c=o+"main";yield Ti.delete(c)}),function(o){return t.apply(this,arguments)})(Bf(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class ny{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof nn||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ls("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function Nv(i,e,t,o={}){var c;const d=(i=Gr(i,gd))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&Ls("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let m,C;if("string"==typeof o.mockUserToken)m=o.mockUserToken,C=qr.MOCK_USER;else{m=(0,Qe.Sg)(o.mockUserToken,null===(c=i._app)||void 0===c?void 0:c.options.projectId);const $=o.mockUserToken.sub||o.mockUserToken.user_id;if(!$)throw new Wt(Mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new qr($)}i._authCredentials=new to(new $o(m,C))}}(this._delegate,e,t,o)}enableNetwork(){return function _l(i){return function xv(i){return i.asyncQueue.enqueue((0,J.Z)(function*(){const e=yield fd(i),t=yield fl(i);return e.setNetworkEnabled(!0),function(o){const c=mn(o);return c.lu.delete(0),td(c)}(t)}))}(ji(i=Gr(i,xi)))}(this._delegate)}disableNetwork(){return function El(i){return function Mv(i){return i.asyncQueue.enqueue((0,J.Z)(function*(){const e=yield fd(i),t=yield fl(i);return e.setNetworkEnabled(!1),(o=(0,J.Z)(function*(c){const d=mn(c);d.lu.add(0),yield ul(d),d._u.set("Offline")}),function(c){return o.apply(this,arguments)})(t);var o}))}(ji(i=Gr(i,xi)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,$h("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function vl(i){return function(e){const t=new Bi;return e.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return function bv(i,e){return Sh.apply(this,arguments)}(yield Ip(e),t)})),t.promise}(ji(i=Gr(i,xi)))}(this._delegate)}onSnapshotsInSync(e){return function Up(i,e){return function d0(i,e){const t=new Ph(e);return i.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return o=yield Hu(i),c=t,mn(o).Tu.add(c),void c.next();var o,c})),()=>{t.Tc(),i.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return o=yield Hu(i),c=t,void mn(o).Tu.delete(c);var o,c}))}}(ji(i=Gr(i,xi)),Ac(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Wt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Dl(this,pl(this._delegate,e))}catch(t){throw Do(t,"collection()","Firestore.collection()")}}doc(e){try{return new ia(this,Hh(this._delegate,e))}catch(t){throw Do(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Co(this,function kv(i,e){if(i=Gr(i,gd),Bh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Wt(Mt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new cs(i,null,(t=e,new Ho(Un.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Do(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Zv(i,e,t){i=Gr(i,xi);const o=Object.assign(Object.assign({},Gm),t);return function(c){if(c.maxAttempts<1)throw new Wt(Mt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function Ov(i,e,t){const o=new Bi;return i.asyncQueue.enqueueAndForget((0,J.Z)(function*(){const c=yield(d=i,hl(d).then(m=>m.datastore));var d;new u0(i.asyncQueue,c,t,e,o).run()})),o.promise}(ji(i),c=>e(new Ym(i,c)),o)}(this._delegate,t=>e(new ry(this,t)))}batch(){return ji(this._delegate),new iy(new Bp(this._delegate,e=>eu(this._delegate,e)))}loadBundle(e){return function Nm(i,e){const t=ji(i=Gr(i,xi)),o=new po;return function Rv(i,e,t,o){const c=function(d,m){let C;return C="string"==typeof d?(new TextEncoder).encode(d):d,$=function($,z){if($ instanceof Uint8Array)return Rh($,z);if($ instanceof ArrayBuffer)return Rh(new Uint8Array($),z);if($ instanceof ReadableStream)return $.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(C),new wp($,m);var $}(t,ol(e));i.asyncQueue.enqueueAndForget((0,J.Z)(function*(){!function Tv(i,e,t){const o=mn(i);var c;(c=(0,J.Z)(function*(d,m,C){try{const $=yield m.getMetadata();if(yield function(It,$t){const Ht=mn(It),In=Zs($t.createTime);return Ht.persistence.runTransaction("hasNewerBundle","readonly",qn=>Ht.Ds.getBundleMetadata(qn,$t.id)).then(qn=>!!qn&&qn.createTime.compareTo(In)>=0)}(d.localStore,$))return yield m.close(),C._completeWith({taskState:"Success",documentsLoaded:(It=$).totalDocuments,bytesLoaded:It.totalBytes,totalDocuments:It.totalDocuments,totalBytes:It.totalBytes}),Promise.resolve(new Set);C._updateProgress(Ih($));const z=new fm($,d.localStore,m.wt);let ce=yield m.fc();for(;ce;){const It=yield z.Nu(ce);It&&C._updateProgress(It),ce=yield m.fc()}const We=yield z.complete();return yield ju(d,We.Ou,void 0),yield function(It,$t){const Ht=mn(It);return Ht.persistence.runTransaction("Save bundle","readwrite",In=>Ht.Ds.saveBundleMetadata(In,$t))}(d.localStore,$),C._completeWith(We.progress),Promise.resolve(We.Mu)}catch($){return Ls("SyncEngine",`Loading bundle failed with ${$}`),C._failWith($),Promise.resolve(new Set)}var It}),function(d,m,C){return c.apply(this,arguments)})(o,e,t).then(c=>{o.sharedClientState.notifyBundleLoaded(c)})}(yield Ip(i),c,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function km(i,e){return function Pv(i,e){return i.asyncQueue.enqueue((0,J.Z)(function*(){return function(t,o){const c=mn(t);return c.persistence.runTransaction("Get named query","readonly",d=>c.Ds.getNamedQuery(d,o))}(yield Tc(i),e)}))}(ji(i=Gr(i,xi)),e).then(t=>t?new cs(i,null,t.query):null)}(this._delegate,e).then(t=>t?new Co(this,t):null)}}class ef extends Vp{constructor(e){super(),this.firestore=e}convertBytes(e){return new Il(new Sa(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ia.forKey(t,this.firestore,null)}}class ry{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new ef(e)}get(e){const t=kc(e);return this._delegate.get(t).then(o=>new Sd(this._firestore,new Ta(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const c=kc(e);return o?(Qh("Transaction.set",o),this._delegate.set(c,t,o)):this._delegate.set(c,t),this}update(e,t,o,...c){const d=kc(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,o,...c),this}delete(e){const t=kc(e);return this._delegate.delete(t),this}}class iy{constructor(e){this._delegate=e}set(e,t,o){const c=kc(e);return o?(Qh("WriteBatch.set",o),this._delegate.set(c,t,o)):this._delegate.set(c,t),this}update(e,t,o,...c){const d=kc(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,o,...c),this}delete(e){const t=kc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Nc{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new wl(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Td(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=Nc.INSTANCES;let c=o.get(e);c||(c=new WeakMap,o.set(e,c));let d=c.get(t);return d||(d=new Nc(e,new ef(e),t),c.set(t,d)),d}}Nc.INSTANCES=new WeakMap;class ia{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ef(e)}static forPath(e,t,o){if(e.length%2!=0)throw new Wt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ia(t,new bi(t._delegate,o,new fn(e)))}static forKey(e,t,o){return new ia(t,new bi(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new Dl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Dl(this.firestore,pl(this._delegate,e))}catch(t){throw Do(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Qe.m9)(e))instanceof bi&&Gh(this._delegate,e)}set(e,t){t=Qh("DocumentReference.set",t);try{return t?$p(this._delegate,e,t):$p(this._delegate,e)}catch(o){throw Do(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?Wm(this._delegate,e):Wm(this._delegate,e,t,...o)}catch(c){throw Do(c,"updateDoc()","DocumentReference.update()")}}delete(){return function Yv(i){return eu(Gr(i.firestore,xi),[new Yc(i._key,es.none())])}(this._delegate)}onSnapshot(...e){const t=sy(e),o=oy(e,c=>new Sd(this.firestore,new Ta(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return Km(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function Kv(i){i=Gr(i,bi);const e=Gr(i.firestore,xi),t=ji(e),o=new Pc(e);return function pd(i,e){const t=new Bi;return i.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return(o=(0,J.Z)(function*(c,d,m){try{const C=yield function($,z){const ce=mn($);return ce.persistence.runTransaction("read document","readonly",We=>ce.localDocuments.getDocument(We,z))}(c,d);C.isFoundDocument()?m.resolve(C):C.isNoDocument()?m.resolve(null):m.reject(new Wt(Mt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(C){const $=Vu(C,`Failed to get document '${d} from cache`);m.reject($)}}),function(c,d,m){return o.apply(this,arguments)})(yield Tc(i),e,t);var o})),t.promise}(t,i._key).then(c=>new Ta(e,o,i._key,c,new Ku(null!==c&&c.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function Ja(i){i=Gr(i,bi);const e=Gr(i.firestore,xi);return Sm(ji(e),i._key,{source:"server"}).then(t=>jp(e,i,t))}(this._delegate):function Qa(i){i=Gr(i,bi);const e=Gr(i.firestore,xi);return Sm(ji(e),i._key).then(t=>jp(e,i,t))}(this._delegate),t.then(o=>new Sd(this.firestore,new Ta(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new ia(this.firestore,this._delegate.withConverter(e?Nc.getInstance(this.firestore,e):null))}}function Do(i,e,t){return i.message=i.message.replace(e,t),i}function sy(i){for(const e of i)if("object"==typeof e&&!Jh(e))return e;return{}}function oy(i,e){var t,o;let c;return c=Jh(i[0])?i[0]:Jh(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{c.next&&c.next(e(d))},error:null===(t=c.error)||void 0===t?void 0:t.bind(c),complete:null===(o=c.complete)||void 0===o?void 0:o.bind(c)}}class Sd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ia(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Rp(this._delegate,e._delegate)}}class Td extends Sd{data(e){const t=this._delegate.data(e);return function ua(i,e){i||An()}(void 0!==t),t}}class Co{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new ef(e)}where(e,t,o){try{return new Co(this.firestore,Eu(this._delegate,function h0(i,e,t){const o=e,c=Id("where",i);return new $m(c,o,t)}(e,t,o)))}catch(c){throw Do(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Co(this.firestore,Eu(this._delegate,function jv(i,e="asc"){const t=e,o=Id("orderBy",i);return new Uv(o,t)}(e,t)))}catch(o){throw Do(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Co(this.firestore,Eu(this._delegate,function Hv(i){return Mm("limit",i),new Np("limit",i,"F")}(e)))}catch(t){throw Do(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Co(this.firestore,Eu(this._delegate,function $s(i){return Mm("limitToLast",i),new Np("limitToLast",i,"L")}(e)))}catch(t){throw Do(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Co(this.firestore,Eu(this._delegate,function Gv(...i){return new kp("startAt",i,!0)}(...e)))}catch(t){throw Do(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Co(this.firestore,Eu(this._delegate,function zv(...i){return new kp("startAfter",i,!1)}(...e)))}catch(t){throw Do(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Co(this.firestore,Eu(this._delegate,function Wv(...i){return new Fp("endBefore",i,!1)}(...e)))}catch(t){throw Do(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Co(this.firestore,Eu(this._delegate,function Um(...i){return new Fp("endAt",i,!0)}(...e)))}catch(t){throw Do(t,"endAt()","Query.endAt()")}}isEqual(e){return Rm(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function xa(i){i=Gr(i,cs);const e=Gr(i.firestore,xi),t=ji(e),o=new Pc(e);return function l0(i,e){const t=new Bi;return i.asyncQueue.enqueueAndForget((0,J.Z)(function*(){return(o=(0,J.Z)(function*(c,d,m){try{const C=yield Ql(c,d,!0),$=new rp(d,C.ji),z=$.Ku(C.documents),ce=$.applyChanges(z,!1);m.resolve(ce.snapshot)}catch(C){const $=Vu(C,`Failed to execute query '${d} against cache`);m.reject($)}}),function(c,d,m){return o.apply(this,arguments)})(yield Tc(i),e,t);var o})),t.promise}(t,i._query).then(c=>new _u(e,o,i,c))}(this._delegate):"server"===e?.source?function zm(i){i=Gr(i,cs);const e=Gr(i.firestore,xi),t=ji(e),o=new Pc(e);return Tm(t,i._query,{source:"server"}).then(c=>new _u(e,o,i,c))}(this._delegate):function Aa(i){i=Gr(i,cs);const e=Gr(i.firestore,xi),t=ji(e),o=new Pc(e);return Pp(i._query),Tm(t,i._query).then(c=>new _u(e,o,i,c))}(this._delegate),t.then(o=>new zp(this.firestore,new _u(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=sy(e),o=oy(e,c=>new zp(this.firestore,new _u(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return Km(this._delegate,t,o)}withConverter(e){return new Co(this.firestore,this._delegate.withConverter(e?Nc.getInstance(this.firestore,e):null))}}class t_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Td(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zp{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Co(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Td(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new t_(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new Td(this._firestore,o))})}isEqual(e){return Rp(this._delegate,e._delegate)}}class Dl extends Co{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ia(this.firestore,e):null}doc(e){try{return new ia(this.firestore,void 0===e?Hh(this._delegate):Hh(this._delegate,e))}catch(t){throw Do(t,"doc()","CollectionReference.doc()")}}add(e){return function qv(i,e){const t=Gr(i.firestore,xi),o=Hh(i),c=Dd(i.converter,e);return eu(t,[Wh(vu(i.firestore),"addDoc",o._key,c,null!==i.converter,{}).toMutation(o._key,es.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new ia(this.firestore,t))}isEqual(e){return Gh(this._delegate,e._delegate)}withConverter(e){return new Dl(this.firestore,this._delegate.withConverter(e?Nc.getInstance(this.firestore,e):null))}}function kc(i){return Gr(i,bi)}class tf{constructor(...e){this._delegate=new Za(...e)}static documentId(){return new tf(Ci.keyField().canonicalString())}isEqual(e){return(e=(0,Qe.m9)(e))instanceof Za&&this._delegate._internalPath.isEqual(e._internalPath)}}class Yu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Zm(){return new vd("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Yu(e)}static delete(){const e=function qm(){return new zu("deleteField")}();return e._methodName="FieldValue.delete",new Yu(e)}static arrayUnion(...e){const t=function Xh(...i){return new $v("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new Yu(t)}static arrayRemove(...e){const t=function Xv(...i){return new Tp("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new Yu(t)}static increment(e){const t=function Xm(i){return new Ap("increment",i)}(e);return t._methodName="FieldValue.increment",new Yu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const ay={Firestore:ny,GeoPoint:md,Timestamp:Xr,Blob:Il,Transaction:ry,WriteBatch:iy,DocumentReference:ia,DocumentSnapshot:Sd,Query:Co,QueryDocumentSnapshot:Td,QuerySnapshot:zp,CollectionReference:Dl,FieldPath:tf,FieldValue:Yu,setLogLevel:function e_(i){!function Xo(i){Fs.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function cy(i){(function uy(i,e){i.INTERNAL.registerComponent(new wt.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),c=t.getProvider("firestore").getImmediate();return e(o,c)},"PUBLIC").setServiceProps(Object.assign({},ay)))})(i,(e,t)=>new ny(e,t,new Jv)),i.registerVersion("@firebase/firestore-compat","0.1.23")}(ht.Z);var wu=P(4941),ly=P(440),dy=P(127);function Wp(i,e){return function hy(i,e=U.z){return new V.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(i,e)}function bu(i,e){return Wp(i,e).pipe((0,de.U)(t=>({payload:t,type:"query"})))}function nf(i,e){return bu(i,e).pipe((0,K.O)(void 0),le(),(0,de.U)(([t,o])=>{const c=o.payload.docChanges(),d=c.map(m=>({type:m.type,payload:m}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((m,C)=>{const $=c.find(ce=>ce.doc.ref.isEqual(m.ref)),z=t?.payload.docs.find(ce=>ce.ref.isEqual(m.ref));$&&JSON.stringify($.doc.metadata)===JSON.stringify(m.metadata)||!$&&z&&JSON.stringify(z.metadata)===JSON.stringify(m.metadata)||d.push({type:"modified",payload:{oldIndex:C,newIndex:C,type:"modified",doc:m}})}),d}))}function py(i,e,t){return nf(i,t).pipe((0,ue.R)((o,c)=>function Cl(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function Kp(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return gy(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return gy(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return gy(i,e.oldIndex,1)}return i}(i,o))}),i}(o,c.map(d=>d.payload),e),[]),(0,$e.x)(),(0,de.U)(o=>o.map(c=>({type:c.type,payload:c}))))}function gy(i,e,t,...o){const c=i.slice();return c.splice(e,t,...o),c}function n_(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Yp{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=nf(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,de.U)(o=>o.filter(c=>e.indexOf(c.type)>-1)))),t.pipe((0,K.O)(void 0),le(),(0,Be.h)(([o,c])=>c.length>0||!o),(0,de.U)(([o,c])=>c),se.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ue.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=n_(e);return py(this.query,t,this.afs.schedulers.outsideAngular).pipe(se.iC)}valueChanges(e={}){return bu(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),se.iC)}get(e){return(0,ve.D)(this.query.get(e)).pipe(se.iC)}add(e){return this.ref.add(e)}doc(e){return new qp(this.ref.doc(e),this.afs)}}class qp{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:c,query:d}=Fc(o,t);return new Yp(c,d,this.afs)}snapshotChanges(){return function fy(i,e){return Wp(i,e).pipe((0,K.O)(void 0),le(),(0,de.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(se.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,de.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ve.D)(this.ref.get(e)).pipe(se.iC)}}class p0{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?nf(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Be.h)(t=>t.length>0),se.iC):nf(this.query,this.afs.schedulers.outsideAngular).pipe(se.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,ue.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=n_(e);return py(this.query,t,this.afs.schedulers.outsideAngular).pipe(se.iC)}valueChanges(e={}){return bu(this.query,this.afs.schedulers.outsideAngular).pipe((0,de.U)(o=>o.payload.docs.map(c=>e.idField?Object.assign({[e.idField]:c.id},c.data()):c.data())),se.iC)}get(e){return(0,ve.D)(this.query.get(e)).pipe(se.iC)}}const pr=new a.OlP("angularfire2.enableFirestorePersistence"),my=new a.OlP("angularfire2.firestore.persistenceSettings"),r_=new a.OlP("angularfire2.firestore.settings"),i_=new a.OlP("angularfire2.firestore.use-emulator");function Fc(i,e=(t=>t)){return{query:e(i),ref:i}}let yy=(()=>{class i{constructor(t,o,c,d,m,C,$,z,ce,We,It,$t,Ht,In,qn,$r,yi){this.schedulers=$;const si=(0,ae.on)(t,C,o),Yi=ce;We&&(0,wu.nw)(si,C,It,Ht,In,qn,$t,$r),[this.firestore,this.persistenceEnabled$]=(0,ae.cc)(`${si.name}.firestore`,"AngularFirestore",si.name,()=>{const oi=C.runOutsideAngular(()=>si.firestore());if(d&&oi.settings(d),Yi&&oi.useEmulator(...Yi),c&&!(0,Ve.PM)(m)){const Qr=()=>{try{return(0,ve.D)(oi.enablePersistence(z||void 0).then(()=>!0,()=>!1))}catch(ts){return typeof console<"u"&&console.warn(ts),(0,_e.of)(!1)}};return[oi,C.runOutsideAngular(Qr)]}return[oi,(0,_e.of)(!1)]},[d,Yi,c])}collection(t,o){let c;c="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:m}=Fc(c,o),C=this.schedulers.ngZone.run(()=>d);return new Yp(C,m,this)}collectionGroup(t,o){const c=o||(m=>m),d=this.firestore.collectionGroup(t);return new p0(c(d),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const c=this.schedulers.ngZone.run(()=>o);return new qp(c,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(ae.Dh),a.LFG(ae.xv,8),a.LFG(pr,8),a.LFG(r_,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(se.HU),a.LFG(my,8),a.LFG(i_,8),a.LFG(wu.zQ,8),a.LFG(wu.Qv,8),a.LFG(wu.L6,8),a.LFG(wu._Q,8),a.LFG(wu.rT,8),a.LFG(wu.lh,8),a.LFG(wu.f7,8),a.LFG(ly.nm,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),rf=(()=>{class i{constructor(){dy.Z.registerVersion("angularfire",se.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:pr,useValue:!0},{provide:my,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[yy]}),i})()},2011:(Qt,at,P)=>{"use strict";P.d(at,{Dh:()=>le,GT:()=>se,cc:()=>$e,hO:()=>ue,on:()=>te,pX:()=>_e,xv:()=>ie});var a=P(6353),U=P(127),V=P(6351);Qt=P.hmd(Qt);const ve=["ngOnDestroy"],_e=(De,ht,J,st={})=>new Proxy(De,{get:(wt,St)=>J.runOutsideAngular(()=>{var Qe;if(De[St])return!(null===(Qe=st?.spy)||void 0===Qe)&&Qe.get&&st.spy.get(St,De[St]),De[St];if(ve.indexOf(St)>-1)return()=>{};const Ae=ht.toPromise().then(Re=>{const Ie=Re&&Re[St];return"function"==typeof Ie?Ie.bind(Re):Ie&&Ie.then?Ie.then(ye=>J.run(()=>ye)):J.run(()=>Ie)});return new Proxy(()=>{},{get:(Re,Ie)=>Ae[Ie],apply:(Re,Ie,ye)=>Ae.then(q=>{var he;const ne=q&&q(...ye);return!(null===(he=st?.spy)||void 0===he)&&he.apply&&st.spy.apply(St,ye,ne),ne})})})}),se=(De,ht)=>{ht.forEach(J=>{Object.getOwnPropertyNames(J.prototype||J).forEach(st=>{Object.defineProperty(De.prototype,st,Object.getOwnPropertyDescriptor(J.prototype||J,st))})})};class oe{constructor(ht){return ht}}const le=new a.OlP("angularfire2.app.options"),ie=new a.OlP("angularfire2.app.name");function te(De,ht,J){const wt="object"==typeof J&&J||{};wt.name=wt.name||"string"==typeof J&&J||"[DEFAULT]";const Qe=U.Z.apps.filter(Ae=>Ae&&Ae.name===wt.name)[0]||ht.runOutsideAngular(()=>U.Z.initializeApp(De,wt));try{JSON.stringify(De)!==JSON.stringify(Qe.options)&&K("error",`${Qe.name} Firebase App already initialized with different options${Qt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new oe(Qe)}const K=(De,...ht)=>{(0,a.X6Q)()&&typeof console<"u"&&console[De](...ht)},de={provide:oe,useFactory:te,deps:[le,a.R0b,[new a.FiY,ie]]};let ue=(()=>{class De{constructor(J){U.Z.registerVersion("angularfire",V.q4.full,"core"),U.Z.registerVersion("angularfire",V.q4.full,"app-compat"),U.Z.registerVersion("angular",a.q4F.full,J.toString())}static initializeApp(J,st){return{ngModule:De,providers:[{provide:le,useValue:J},{provide:ie,useValue:st}]}}}return De.\u0275fac=function(J){return new(J||De)(a.LFG(a.Lbi))},De.\u0275mod=a.oAB({type:De}),De.\u0275inj=a.cJS({providers:[de]}),De})();function $e(De,ht,J,st,wt){const[,St,Qe]=globalThis.\u0275AngularfireInstanceCache.find(Ae=>Ae[0]===De)||[];if(St)return function Be(De,ht){try{return De.toString()===ht.toString()}catch{return De===ht}}(wt,Qe)||(Ve("error",`${ht} was already initialized on the ${J} Firebase App with different settings.${ae?" You may need to reload as Firebase is not HMR aware.":""}`),Ve("warn",{is:wt,was:Qe})),St;{const Ae=st();return globalThis.\u0275AngularfireInstanceCache.push([De,Ae,wt]),Ae}}const ae=!!Qt.hot,Ve=(De,...ht)=>{(0,a.X6Q)()&&typeof console<"u"&&console[De](...ht)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(Qt,at,P)=>{"use strict";P.d(at,{q4:()=>Dt,iC:()=>A,HU:()=>li,vb:()=>_s,JM:()=>xu});var a=P(6353),U=P(5867),V=P(5861),ve=P(9681),_e=P(2090),se=P(4859),oe=P(1877),le=P(8766);const ie="@firebase/installations",te="0.5.12",de=`w:${te}`,ue="FIS_v2",ht=new _e.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function J(w){return w instanceof _e.ZR&&w.code.includes("request-failed")}function st({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function wt(w){return{token:w.token,requestStatus:2,expiresIn:q(w.expiresIn),creationTime:Date.now()}}function St(w,T){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,V.Z)(function*(w,T){const me=(yield T.json()).error;return ht.create("request-failed",{requestName:w,serverCode:me.code,serverMessage:me.message,serverStatus:me.status})})).apply(this,arguments)}function Ae({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function Re(w,{refreshToken:T}){const H=Ae(w);return H.append("Authorization",function he(w){return`${ue} ${w}`}(T)),H}function Ie(w){return ye.apply(this,arguments)}function ye(){return(ye=(0,V.Z)(function*(w){const T=yield w();return T.status>=500&&T.status<600?w():T})).apply(this,arguments)}function q(w){return Number(w.replace("s","000"))}function ne(w,T){return ct.apply(this,arguments)}function ct(){return(ct=(0,V.Z)(function*({appConfig:w,heartbeatServiceProvider:T},{fid:H}){const me=st(w),Oe=Ae(w),lt=T.getImmediate({optional:!0});if(lt){const Kn=yield lt.getHeartbeatsHeader();Kn&&Oe.append("x-firebase-client",Kn)}const nn={method:"POST",headers:Oe,body:JSON.stringify({fid:H,authVersion:ue,appId:w.appId,sdkVersion:de})},Vn=yield Ie(()=>fetch(me,nn));if(Vn.ok){const Kn=yield Vn.json();return{fid:Kn.fid||H,registrationStatus:2,refreshToken:Kn.refreshToken,authToken:wt(Kn.authToken)}}throw yield St("Create Installation",Vn)})).apply(this,arguments)}function pt(w){return new Promise(T=>{setTimeout(T,w)})}const ut=/^[cdef][\w-]{21}$/;function qe(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const H=function Me(w){return function Vt(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return ut.test(H)?H:""}catch{return""}}function Ge(w){return`${w.appName}!${w.appId}`}const je=new Map;function ft(w,T){const H=Ge(w);Yt(H,T),function Ln(w,T){const H=function wn(){return!Dn&&"BroadcastChannel"in self&&(Dn=new BroadcastChannel("[Firebase] FID Change"),Dn.onmessage=w=>{Yt(w.data.key,w.data.fid)}),Dn}();H&&H.postMessage({key:w,fid:T}),function yn(){0===je.size&&Dn&&(Dn.close(),Dn=null)}()}(H,T)}function Yt(w,T){const H=je.get(w);if(H)for(const me of H)me(T)}let Dn=null;const sn="firebase-installations-store";let Tn=null;function bt(){return Tn||(Tn=(0,le.X3)("firebase-installations-database",1,{upgrade:(w,T)=>{0===T&&w.createObjectStore(sn)}})),Tn}function Fn(w,T){return ar.apply(this,arguments)}function ar(){return(ar=(0,V.Z)(function*(w,T){const H=Ge(w),Oe=(yield bt()).transaction(sn,"readwrite"),lt=Oe.objectStore(sn),kt=yield lt.get(H);return yield lt.put(T,H),yield Oe.done,(!kt||kt.fid!==T.fid)&&ft(w,T.fid),T})).apply(this,arguments)}function nr(w){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,V.Z)(function*(w){const T=Ge(w),me=(yield bt()).transaction(sn,"readwrite");yield me.objectStore(sn).delete(T),yield me.done})).apply(this,arguments)}function ur(w,T){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,V.Z)(function*(w,T){const H=Ge(w),Oe=(yield bt()).transaction(sn,"readwrite"),lt=Oe.objectStore(sn),kt=yield lt.get(H),nn=T(kt);return void 0===nn?yield lt.delete(H):yield lt.put(nn,H),yield Oe.done,nn&&(!kt||kt.fid!==nn.fid)&&ft(w,nn.fid),nn})).apply(this,arguments)}function Jn(w){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,V.Z)(function*(w){let T;const H=yield ur(w.appConfig,me=>{const Oe=dn(me),lt=en(w,Oe);return T=lt.registrationPromise,lt.installationEntry});return""===H.fid?{installationEntry:yield T}:{installationEntry:H,registrationPromise:T}})).apply(this,arguments)}function dn(w){return Cr(w||{fid:qe(),registrationStatus:0})}function en(w,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(ht.create("app-offline"))};const H={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},me=function hn(w,T){return hr.apply(this,arguments)}(w,H);return{installationEntry:H,registrationPromise:me}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:_r(w)}:{installationEntry:T}}function hr(){return(hr=(0,V.Z)(function*(w,T){try{const H=yield ne(w,T);return Fn(w.appConfig,H)}catch(H){throw J(H)&&409===H.customData.serverCode?yield nr(w.appConfig):yield Fn(w.appConfig,{fid:T.fid,registrationStatus:0}),H}})).apply(this,arguments)}function _r(w){return ir.apply(this,arguments)}function ir(){return(ir=(0,V.Z)(function*(w){let T=yield xn(w.appConfig);for(;1===T.registrationStatus;)yield pt(100),T=yield xn(w.appConfig);if(0===T.registrationStatus){const{installationEntry:H,registrationPromise:me}=yield Jn(w);return me||H}return T})).apply(this,arguments)}function xn(w){return ur(w,T=>{if(!T)throw ht.create("installation-not-found");return Cr(T)})}function Cr(w){return function Lr(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function Pn(w,T){return kn.apply(this,arguments)}function kn(){return(kn=(0,V.Z)(function*({appConfig:w,heartbeatServiceProvider:T},H){const me=bn(w,H),Oe=Re(w,H),lt=T.getImmediate({optional:!0});if(lt){const Kn=yield lt.getHeartbeatsHeader();Kn&&Oe.append("x-firebase-client",Kn)}const nn={method:"POST",headers:Oe,body:JSON.stringify({installation:{sdkVersion:de,appId:w.appId}})},Vn=yield Ie(()=>fetch(me,nn));if(Vn.ok)return wt(yield Vn.json());throw yield St("Generate Auth Token",Vn)})).apply(this,arguments)}function bn(w,{fid:T}){return`${st(w)}/${T}/authTokens:generate`}function Ze(w){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,V.Z)(function*(w,T=!1){let H;const me=yield ur(w.appConfig,lt=>{if(!pn(lt))throw ht.create("not-registered");const kt=lt.authToken;if(!T&&Gn(kt))return lt;if(1===kt.requestStatus)return H=xe(w,T),lt;{if(!navigator.onLine)throw ht.create("app-offline");const nn=er(lt);return H=Tt(w,nn),nn}});return H?yield H:me.authToken})).apply(this,arguments)}function xe(w,T){return Le.apply(this,arguments)}function Le(){return(Le=(0,V.Z)(function*(w,T){let H=yield Ue(w.appConfig);for(;1===H.authToken.requestStatus;)yield pt(100),H=yield Ue(w.appConfig);const me=H.authToken;return 0===me.requestStatus?Ze(w,T):me})).apply(this,arguments)}function Ue(w){return ur(w,T=>{if(!pn(T))throw ht.create("not-registered");return function it(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Tt(w,T){return jt.apply(this,arguments)}function jt(){return(jt=(0,V.Z)(function*(w,T){try{const H=yield Pn(w,T),me=Object.assign(Object.assign({},T),{authToken:H});return yield Fn(w.appConfig,me),H}catch(H){if(!J(H)||401!==H.customData.serverCode&&404!==H.customData.serverCode){const me=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Fn(w.appConfig,me)}else yield nr(w.appConfig);throw H}})).apply(this,arguments)}function pn(w){return void 0!==w&&2===w.registrationStatus}function Gn(w){return 2===w.requestStatus&&!function $n(w){const T=Date.now();return T<w.creationTime||w.creationTime+w.expiresIn<T+36e5}(w)}function er(w){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:T})}function Se(){return(Se=(0,V.Z)(function*(w){const T=w,{installationEntry:H,registrationPromise:me}=yield Jn(T);return me?me.catch(console.error):Ze(T).catch(console.error),H.fid})).apply(this,arguments)}function Bt(){return(Bt=(0,V.Z)(function*(w,T=!1){const H=w;return yield an(H),(yield Ze(H,T)).token})).apply(this,arguments)}function an(w){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,V.Z)(function*(w){const{registrationPromise:T}=yield Jn(w);T&&(yield T)})).apply(this,arguments)}function zn(w){return ht.create("missing-app-config-values",{valueName:w})}const be="installations",Ye=w=>{const T=w.getProvider("app").getImmediate(),H=function mr(w){if(!w||!w.options)throw zn("App Configuration");if(!w.name)throw zn("App Name");const T=["projectId","apiKey","appId"];for(const H of T)if(!w.options[H])throw zn(H);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(T);return{app:T,appConfig:H,heartbeatServiceProvider:(0,ve._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},yt=w=>{const T=w.getProvider("app").getImmediate(),H=(0,ve._getProvider)(T,be).getImmediate();return{getId:()=>function He(w){return Se.apply(this,arguments)}(H),getToken:Oe=>function Rt(w){return Bt.apply(this,arguments)}(H,Oe)}};(function Ct(){(0,ve._registerComponent)(new se.wA(be,Ye,"PUBLIC")),(0,ve._registerComponent)(new se.wA("installations-internal",yt,"PRIVATE"))})(),(0,ve.registerVersion)(ie,te),(0,ve.registerVersion)(ie,te,"esm2017");const _n="@firebase/remote-config",Sn=new _e.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class vn{constructor(T,H,me,Oe){this.client=T,this.storage=H,this.storageCache=me,this.logger=Oe}isCachedDataFresh(T,H){if(!H)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const me=Date.now()-H,Oe=me<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${me}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${Oe}.`),Oe}fetch(T){var H=this;return(0,V.Z)(function*(){const[me,Oe]=yield Promise.all([H.storage.getLastSuccessfulFetchTimestampMillis(),H.storage.getLastSuccessfulFetchResponse()]);if(Oe&&H.isCachedDataFresh(T.cacheMaxAgeMillis,me))return Oe;T.eTag=Oe&&Oe.eTag;const lt=yield H.client.fetch(T),kt=[H.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===lt.status&&kt.push(H.storage.setLastSuccessfulFetchResponse(lt)),yield Promise.all(kt),lt})()}}function jn(w=navigator){return w.languages&&w.languages[0]||w.language}class Ir{constructor(T,H,me,Oe,lt,kt){this.firebaseInstallations=T,this.sdkVersion=H,this.namespace=me,this.projectId=Oe,this.apiKey=lt,this.appId=kt}fetch(T){var H=this;return(0,V.Z)(function*(){var me,Oe,lt;const[kt,nn]=yield Promise.all([H.firebaseInstallations.getId(),H.firebaseInstallations.getToken()]),Kn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${H.projectId}/namespaces/${H.namespace}:fetch?key=${H.apiKey}`,fr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Bn={sdk_version:H.sdkVersion,app_instance_id:kt,app_instance_id_token:nn,app_id:H.appId,language_code:jn()},Ai={method:"POST",headers:fr,body:JSON.stringify(Bn)},Ui=fetch(Kn,Ai),Es=new Promise((as,wo)=>{T.signal.addEventListener(()=>{const ea=new Error("The operation was aborted.");ea.name="AbortError",wo(ea)})});let qs;try{yield Promise.race([Ui,Es]),qs=yield Ui}catch(as){let wo="fetch-client-network";throw"AbortError"===(null===(me=as)||void 0===me?void 0:me.name)&&(wo="fetch-timeout"),Sn.create(wo,{originalErrorMessage:null===(Oe=as)||void 0===Oe?void 0:Oe.message})}let Ss=qs.status;const Ua=qs.headers.get("ETag")||void 0;let Uo,jo;if(200===qs.status){let as;try{as=yield qs.json()}catch(wo){throw Sn.create("fetch-client-parse",{originalErrorMessage:null===(lt=wo)||void 0===lt?void 0:lt.message})}Uo=as.entries,jo=as.state}if("INSTANCE_STATE_UNSPECIFIED"===jo?Ss=500:"NO_CHANGE"===jo?Ss=304:("NO_TEMPLATE"===jo||"EMPTY_CONFIG"===jo)&&(Uo={}),304!==Ss&&200!==Ss)throw Sn.create("fetch-status",{httpStatus:Ss});return{status:Ss,eTag:Ua,config:Uo}})()}}class Ke{constructor(T,H){this.client=T,this.storage=H}fetch(T){var H=this;return(0,V.Z)(function*(){const me=(yield H.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return H.attemptFetch(T,me)})()}attemptFetch(T,{throttleEndTimeMillis:H,backoffCount:me}){var Oe=this;return(0,V.Z)(function*(){yield function Sr(w,T){return new Promise((H,me)=>{const Oe=Math.max(T-Date.now(),0),lt=setTimeout(H,Oe);w.addEventListener(()=>{clearTimeout(lt),me(Sn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,H);try{const lt=yield Oe.client.fetch(T);return yield Oe.storage.deleteThrottleMetadata(),lt}catch(lt){if(!function et(w){if(!(w instanceof _e.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}(lt))throw lt;const kt={throttleEndTimeMillis:Date.now()+(0,_e.$s)(me),backoffCount:me+1};return yield Oe.storage.setThrottleMetadata(kt),Oe.attemptFetch(T,kt)}})()}}class tn{constructor(T,H,me,Oe,lt){this.app=T,this._client=H,this._storageCache=me,this._storage=Oe,this._logger=lt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function un(w,T){var H;const me=w.target.error||void 0;return Sn.create(T,{originalErrorMessage:me&&(null===(H=me)||void 0===H?void 0:H.message)})}const tr="app_namespace_store";class ls{constructor(T,H,me,Oe=function Fi(){return new Promise((w,T)=>{var H;try{const me=indexedDB.open("firebase_remote_config",1);me.onerror=Oe=>{T(un(Oe,"storage-open"))},me.onsuccess=Oe=>{w(Oe.target.result)},me.onupgradeneeded=Oe=>{0===Oe.oldVersion&&Oe.target.result.createObjectStore(tr,{keyPath:"compositeKey"})}}catch(me){T(Sn.create("storage-open",{originalErrorMessage:null===(H=me)||void 0===H?void 0:H.message}))}})}()){this.appId=T,this.appName=H,this.namespace=me,this.openDbPromise=Oe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var H=this;return(0,V.Z)(function*(){const me=yield H.openDbPromise;return new Promise((Oe,lt)=>{var kt;const Vn=me.transaction([tr],"readonly").objectStore(tr),Kn=H.createCompositeKey(T);try{const fr=Vn.get(Kn);fr.onerror=Bn=>{lt(un(Bn,"storage-get"))},fr.onsuccess=Bn=>{const Ai=Bn.target.result;Oe(Ai?Ai.value:void 0)}}catch(fr){lt(Sn.create("storage-get",{originalErrorMessage:null===(kt=fr)||void 0===kt?void 0:kt.message}))}})})()}set(T,H){var me=this;return(0,V.Z)(function*(){const Oe=yield me.openDbPromise;return new Promise((lt,kt)=>{var nn;const Kn=Oe.transaction([tr],"readwrite").objectStore(tr),fr=me.createCompositeKey(T);try{const Bn=Kn.put({compositeKey:fr,value:H});Bn.onerror=Ai=>{kt(un(Ai,"storage-set"))},Bn.onsuccess=()=>{lt()}}catch(Bn){kt(Sn.create("storage-set",{originalErrorMessage:null===(nn=Bn)||void 0===nn?void 0:nn.message}))}})})()}delete(T){var H=this;return(0,V.Z)(function*(){const me=yield H.openDbPromise;return new Promise((Oe,lt)=>{var kt;const Vn=me.transaction([tr],"readwrite").objectStore(tr),Kn=H.createCompositeKey(T);try{const fr=Vn.delete(Kn);fr.onerror=Bn=>{lt(un(Bn,"storage-delete"))},fr.onsuccess=()=>{Oe()}}catch(fr){lt(Sn.create("storage-delete",{originalErrorMessage:null===(kt=fr)||void 0===kt?void 0:kt.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Oi{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,V.Z)(function*(){const H=T.storage.getLastFetchStatus(),me=T.storage.getLastSuccessfulFetchTimestampMillis(),Oe=T.storage.getActiveConfig(),lt=yield H;lt&&(T.lastFetchStatus=lt);const kt=yield me;kt&&(T.lastSuccessfulFetchTimestampMillis=kt);const nn=yield Oe;nn&&(T.activeConfig=nn)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Ms(){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,V.Z)(function*(){if(!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}!function Us(){(0,ve._registerComponent)(new se.wA("remote-config",function w(T,{instanceIdentifier:H}){const me=T.getProvider("app").getImmediate(),Oe=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Sn.create("registration-window");if(!(0,_e.hl)())throw Sn.create("indexed-db-unavailable");const{projectId:lt,apiKey:kt,appId:nn}=me.options;if(!lt)throw Sn.create("registration-project-id");if(!kt)throw Sn.create("registration-api-key");if(!nn)throw Sn.create("registration-app-id");const Vn=new ls(nn,me.name,H=H||"firebase"),Kn=new Oi(Vn),fr=new oe.Yd(_n);fr.logLevel=oe.in.ERROR;const Bn=new Ir(Oe,ve.SDK_VERSION,H,lt,kt,nn),Ai=new Ke(Bn,Vn),Ui=new vn(Ai,Vn,Kn,fr),Es=new tn(me,Ui,Kn,Vn,fr);return function ge(w){const T=(0,_e.m9)(w);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Es),Es},"PUBLIC").setMultipleInstances(!0)),(0,ve.registerVersion)(_n,"0.3.11"),(0,ve.registerVersion)(_n,"0.3.11","esm2017")}();const Li="/firebase-messaging-sw.js",Os="/firebase-cloud-messaging-push-scope",hs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Gi="google.c.a.c_id",Zi="google.c.a.c_l",io="google.c.a.ts",rs="google.c.a.e";var Vr=(()=>{return(w=Vr||(Vr={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",Vr;var w})();function ii(w){const T=new Uint8Array(w);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function js(w){const H=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),me=atob(H),Oe=new Uint8Array(me.length);for(let lt=0;lt<me.length;++lt)Oe[lt]=me.charCodeAt(lt);return Oe}const Vi="fcm_token_details_db",zr="fcm_token_object_Store";function Hs(w){return Gs.apply(this,arguments)}function Gs(){return Gs=(0,V.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(lt=>lt.name).includes(Vi))return null;let T=null;return(yield(0,le.X3)(Vi,5,{upgrade:(me=(0,V.Z)(function*(Oe,lt,kt,nn){var Vn;if(lt<2||!Oe.objectStoreNames.contains(zr))return;const Kn=nn.objectStore(zr),fr=yield Kn.index("fcmSenderId").get(w);if(yield Kn.clear(),fr)if(2===lt){const Bn=fr;if(!Bn.auth||!Bn.p256dh||!Bn.endpoint)return;T={token:Bn.fcmToken,createTime:null!==(Vn=Bn.createTime)&&void 0!==Vn?Vn:Date.now(),subscriptionOptions:{auth:Bn.auth,p256dh:Bn.p256dh,endpoint:Bn.endpoint,swScope:Bn.swScope,vapidKey:"string"==typeof Bn.vapidKey?Bn.vapidKey:ii(Bn.vapidKey)}}}else if(3===lt){const Bn=fr;T={token:Bn.fcmToken,createTime:Bn.createTime,subscriptionOptions:{auth:ii(Bn.auth),p256dh:ii(Bn.p256dh),endpoint:Bn.endpoint,swScope:Bn.swScope,vapidKey:ii(Bn.vapidKey)}}}else if(4===lt){const Bn=fr;T={token:Bn.fcmToken,createTime:Bn.createTime,subscriptionOptions:{auth:ii(Bn.auth),p256dh:ii(Bn.p256dh),endpoint:Bn.endpoint,swScope:Bn.swScope,vapidKey:ii(Bn.vapidKey)}}}}),function(lt,kt,nn,Vn){return me.apply(this,arguments)})})).close(),yield(0,le.Lj)(Vi),yield(0,le.Lj)("fcm_vapid_details_db"),yield(0,le.Lj)("undefined"),Ii(T)?T:null;var me}),Gs.apply(this,arguments)}function Ii(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:T}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Nr="firebase-messaging-store";let Is=null;function Xi(){return Is||(Is=(0,le.X3)("firebase-messaging-database",1,{upgrade:(w,T)=>{0===T&&w.createObjectStore(Nr)}})),Is}function Ei(w){return Br.apply(this,arguments)}function Br(){return(Br=(0,V.Z)(function*(w){const T=is(w),me=yield(yield Xi()).transaction(Nr).objectStore(Nr).get(T);if(me)return me;{const Oe=yield Hs(w.appConfig.senderId);if(Oe)return yield Wr(w,Oe),Oe}})).apply(this,arguments)}function Wr(w,T){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,V.Z)(function*(w,T){const H=is(w),Oe=(yield Xi()).transaction(Nr,"readwrite");return yield Oe.objectStore(Nr).put(T,H),yield Oe.done,T})).apply(this,arguments)}function Ri(w){return vr.apply(this,arguments)}function vr(){return(vr=(0,V.Z)(function*(w){const T=is(w),me=(yield Xi()).transaction(Nr,"readwrite");yield me.objectStore(Nr).delete(T),yield me.done})).apply(this,arguments)}function is({appConfig:w}){return w.appId}const ni=new _e.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zi(w,T){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,V.Z)(function*(w,T){var H;const me=yield Js(w),Oe=ps(T),lt={method:"POST",headers:me,body:JSON.stringify(Oe)};let kt;try{kt=yield(yield fetch(Ps(w.appConfig),lt)).json()}catch(nn){throw ni.create("token-subscribe-failed",{errorInfo:null===(H=nn)||void 0===H?void 0:H.toString()})}if(kt.error)throw ni.create("token-subscribe-failed",{errorInfo:kt.error.message});if(!kt.token)throw ni.create("token-subscribe-no-token");return kt.token})).apply(this,arguments)}function Qs(w,T){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,V.Z)(function*(w,T){var H;const me=yield Js(w),Oe=ps(T.subscriptionOptions),lt={method:"PATCH",headers:me,body:JSON.stringify(Oe)};let kt;try{kt=yield(yield fetch(`${Ps(w.appConfig)}/${T.token}`,lt)).json()}catch(nn){throw ni.create("token-update-failed",{errorInfo:null===(H=nn)||void 0===H?void 0:H.toString()})}if(kt.error)throw ni.create("token-update-failed",{errorInfo:kt.error.message});if(!kt.token)throw ni.create("token-update-no-token");return kt.token})).apply(this,arguments)}function Po(w,T){return mo.apply(this,arguments)}function mo(){return(mo=(0,V.Z)(function*(w,T){var H;const Oe={method:"DELETE",headers:yield Js(w)};try{const kt=yield(yield fetch(`${Ps(w.appConfig)}/${T}`,Oe)).json();if(kt.error)throw ni.create("token-unsubscribe-failed",{errorInfo:kt.error.message})}catch(lt){throw ni.create("token-unsubscribe-failed",{errorInfo:null===(H=lt)||void 0===H?void 0:H.toString()})}})).apply(this,arguments)}function Ps({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function Js(w){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,V.Z)(function*({appConfig:w,installations:T}){const H=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${H}`})})).apply(this,arguments)}function ps({p256dh:w,auth:T,endpoint:H,vapidKey:me}){const Oe={web:{endpoint:H,auth:T,p256dh:w}};return me!==hs&&(Oe.web.applicationPubKey=me),Oe}const y=6048e5;function B(w){return p.apply(this,arguments)}function p(){return(p=(0,V.Z)(function*(w){const T=yield R(w.swRegistration,w.vapidKey),H={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:T.endpoint,auth:ii(T.getKey("auth")),p256dh:ii(T.getKey("p256dh"))},me=yield Ei(w.firebaseDependencies);if(me){if(Z(me.subscriptionOptions,H))return Date.now()>=me.createTime+y?xt(w,{token:me.token,createTime:Date.now(),subscriptionOptions:H}):me.token;try{yield Po(w.firebaseDependencies,me.token)}catch(Oe){console.warn(Oe)}return gn(w.firebaseDependencies,H)}return gn(w.firebaseDependencies,H)})).apply(this,arguments)}function k(w){return re.apply(this,arguments)}function re(){return(re=(0,V.Z)(function*(w){const T=yield Ei(w.firebaseDependencies);T&&(yield Po(w.firebaseDependencies,T.token),yield Ri(w.firebaseDependencies));const H=yield w.swRegistration.pushManager.getSubscription();return!H||H.unsubscribe()})).apply(this,arguments)}function xt(w,T){return qt.apply(this,arguments)}function qt(){return(qt=(0,V.Z)(function*(w,T){try{const H=yield Qs(w.firebaseDependencies,T),me=Object.assign(Object.assign({},T),{token:H,createTime:Date.now()});return yield Wr(w.firebaseDependencies,me),H}catch(H){throw yield k(w),H}})).apply(this,arguments)}function gn(w,T){return F.apply(this,arguments)}function F(){return(F=(0,V.Z)(function*(w,T){const me={token:yield zi(w,T),createTime:Date.now(),subscriptionOptions:T};return yield Wr(w,me),me.token})).apply(this,arguments)}function R(w,T){return O.apply(this,arguments)}function O(){return(O=(0,V.Z)(function*(w,T){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:js(T)})})).apply(this,arguments)}function Z(w,T){return T.vapidKey===w.vapidKey&&T.endpoint===w.endpoint&&T.auth===w.auth&&T.p256dh===w.p256dh}function vt(w){const T={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function En(w,T){if(!T.notification)return;w.notification={};const H=T.notification.title;H&&(w.notification.title=H);const me=T.notification.body;me&&(w.notification.body=me);const Oe=T.notification.image;Oe&&(w.notification.image=Oe)}(T,w),function Pr(w,T){!T.data||(w.data=T.data)}(T,w),function Hr(w,T){var H,me,Oe,lt,kt;if(!(T.fcmOptions||null!==(H=T.notification)&&void 0!==H&&H.click_action))return;w.fcmOptions={};const nn=null!==(Oe=null===(me=T.fcmOptions)||void 0===me?void 0:me.link)&&void 0!==Oe?Oe:null===(lt=T.notification)||void 0===lt?void 0:lt.click_action;nn&&(w.fcmOptions.link=nn);const Vn=null===(kt=T.fcmOptions)||void 0===kt?void 0:kt.analytics_label;Vn&&(w.fcmOptions.analyticsLabel=Vn)}(T,w),T}function kr(w){return"object"==typeof w&&!!w&&Gi in w}function gi(w,T){const H=[];for(let me=0;me<w.length;me++)H.push(w.charAt(me)),me<T.length&&H.push(T.charAt(me));return H.join("")}function ms(w){return ni.create("missing-app-config-values",{valueName:w})}gi("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),gi("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Di{constructor(T,H,me){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Oe=function gs(w){if(!w||!w.options)throw ms("App Configuration Object");if(!w.name)throw ms("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:H}=w;for(const me of T)if(!H[me])throw ms(me);return{appName:w.name,projectId:H.projectId,apiKey:H.apiKey,appId:H.appId,senderId:H.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:Oe,installations:H,analyticsProvider:me}}_delete(){return Promise.resolve()}}function yo(w){return So.apply(this,arguments)}function So(){return(So=(0,V.Z)(function*(w){var T;try{w.swRegistration=yield navigator.serviceWorker.register(Li,{scope:Os}),w.swRegistration.update().catch(()=>{})}catch(H){throw ni.create("failed-service-worker-registration",{browserErrorMessage:null===(T=H)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function No(w,T){return so.apply(this,arguments)}function so(){return(so=(0,V.Z)(function*(w,T){if(!T&&!w.swRegistration&&(yield yo(w)),T||!w.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw ni.create("invalid-sw-registration");w.swRegistration=T}})).apply(this,arguments)}function sa(w,T){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,V.Z)(function*(w,T){T?w.vapidKey=T:w.vapidKey||(w.vapidKey=hs)})).apply(this,arguments)}function ko(){return(ko=(0,V.Z)(function*(w,T){if(!navigator)throw ni.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ni.create("permission-blocked");return yield sa(w,T?.vapidKey),yield No(w,T?.serviceWorkerRegistration),B(w)})).apply(this,arguments)}function Du(w,T,H){return vo.apply(this,arguments)}function vo(){return(vo=(0,V.Z)(function*(w,T,H){const me=Fo(T);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(me,{message_id:H[Gi],message_name:H[Zi],message_time:H[io],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Fo(w){switch(w){case Vr.NOTIFICATION_CLICKED:return"notification_open";case Vr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function G(){return(G=(0,V.Z)(function*(w,T){const H=T.data;if(!H.isFirebaseMessaging)return;w.onMessageHandler&&H.messageType===Vr.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(vt(H)):w.onMessageHandler.next(vt(H)));const me=H.data;kr(me)&&"1"===me[rs]&&(yield Du(w,H.messageType,me))})).apply(this,arguments)}const N="@firebase/messaging",Q="0.9.16",ze=w=>{const T=new Di(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",H=>function M(w,T){return G.apply(this,arguments)}(T,H)),T},At=w=>{const T=w.getProvider("messaging").getImmediate();return{getToken:me=>function oa(w,T){return ko.apply(this,arguments)}(T,me)}};function ln(){return Er.apply(this,arguments)}function Er(){return(Er=(0,V.Z)(function*(){try{yield(0,_e.eu)()}catch{return!1}return typeof window<"u"&&(0,_e.hl)()&&(0,_e.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function zt(){(0,ve._registerComponent)(new se.wA("messaging",ze,"PUBLIC")),(0,ve._registerComponent)(new se.wA("messaging-internal",At,"PRIVATE")),(0,ve.registerVersion)(N,Q),(0,ve.registerVersion)(N,Q,"esm2017")}();const ys="analytics",ss="firebase_id",_o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zs="https://www.googletagmanager.com/gtag/js",ui=new oe.Yd("@firebase/analytics");function To(w){return Promise.all(w.map(T=>T.catch(H=>H)))}function nu(w,T){const H=document.createElement("script");H.src=`${zs}?l=${w}&id=${T}`,H.async=!0,document.head.appendChild(H)}function Ks(w,T,H,me,Oe,lt){return Ma.apply(this,arguments)}function Ma(){return(Ma=(0,V.Z)(function*(w,T,H,me,Oe,lt){const kt=me[Oe];try{if(kt)yield T[kt];else{const Vn=(yield To(H)).find(Kn=>Kn.measurementId===Oe);Vn&&(yield T[Vn.appId])}}catch(nn){ui.error(nn)}w("config",Oe,lt)})).apply(this,arguments)}function aa(w,T,H,me,Oe){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,V.Z)(function*(w,T,H,me,Oe){try{let lt=[];if(Oe&&Oe.send_to){let kt=Oe.send_to;Array.isArray(kt)||(kt=[kt]);const nn=yield To(H);for(const Vn of kt){const Kn=nn.find(Bn=>Bn.measurementId===Vn),fr=Kn&&T[Kn.appId];if(!fr){lt=[];break}lt.push(fr)}}0===lt.length&&(lt=Object.values(T)),yield Promise.all(lt),w("event",me,Oe||{})}catch(lt){ui.error(lt)}})).apply(this,arguments)}function Ji(){const w=window.document.getElementsByTagName("script");for(const T of Object.values(w))if(T.src&&T.src.includes(zs))return T;return null}const Wi=new _e.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Pa=new class qo{constructor(T={},H=1e3){this.throttleMetadata=T,this.intervalMillis=H}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,H){this.throttleMetadata[T]=H}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function oo(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Na(w){return ci.apply(this,arguments)}function ci(){return(ci=(0,V.Z)(function*(w){var T;const{appId:H,apiKey:me}=w,Oe={method:"GET",headers:oo(me)},lt=_o.replace("{app-id}",H),kt=yield fetch(lt,Oe);if(200!==kt.status&&304!==kt.status){let nn="";try{const Vn=yield kt.json();null!==(T=Vn.error)&&void 0!==T&&T.message&&(nn=Vn.error.message)}catch{}throw Wi.create("config-fetch-failed",{httpStatus:kt.status,responseMessage:nn})}return kt.json()})).apply(this,arguments)}function Xu(w){return ao.apply(this,arguments)}function ao(){return(ao=(0,V.Z)(function*(w,T=Pa,H){const{appId:me,apiKey:Oe,measurementId:lt}=w.options;if(!me)throw Wi.create("no-app-id");if(!Oe){if(lt)return{measurementId:lt,appId:me};throw Wi.create("no-api-key")}const kt=T.getThrottleMetadata(me)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nn=new Fs;return setTimeout((0,V.Z)(function*(){nn.abort()}),void 0!==H?H:6e4),ka({appId:me,apiKey:Oe,measurementId:lt},kt,nn,T)})).apply(this,arguments)}function ka(w,T,H){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,V.Z)(function*(w,{throttleEndTimeMillis:T,backoffCount:H},me,Oe=Pa){var lt,kt;const{appId:nn,measurementId:Vn}=w;try{yield qr(me,T)}catch(Kn){if(Vn)return ui.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vn} provided in the "measurementId" field in the local Firebase config. [${null===(lt=Kn)||void 0===lt?void 0:lt.message}]`),{appId:nn,measurementId:Vn};throw Kn}try{const Kn=yield Na(w);return Oe.deleteThrottleMetadata(nn),Kn}catch(Kn){const fr=Kn;if(!Zo(fr)){if(Oe.deleteThrottleMetadata(nn),Vn)return ui.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vn} provided in the "measurementId" field in the local Firebase config. [${fr?.message}]`),{appId:nn,measurementId:Vn};throw Kn}const Bn=503===Number(null===(kt=fr?.customData)||void 0===kt?void 0:kt.httpStatus)?(0,_e.$s)(H,Oe.intervalMillis,30):(0,_e.$s)(H,Oe.intervalMillis),Ai={throttleEndTimeMillis:Date.now()+Bn,backoffCount:H+1};return Oe.setThrottleMetadata(nn,Ai),ui.debug(`Calling attemptFetch again in ${Bn} millis`),ka(w,Ai,me,Oe)}})).apply(this,arguments)}function qr(w,T){return new Promise((H,me)=>{const Oe=Math.max(T-Date.now(),0),lt=setTimeout(H,Oe);w.addEventListener(()=>{clearTimeout(lt),me(Wi.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Zo(w){if(!(w instanceof _e.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Fs{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Bo,Wt;function Xt(){return(Xt=(0,V.Z)(function*(w,T,H,me,Oe){if(Oe&&Oe.global)w("event",H,me);else{const lt=yield T;w("event",H,Object.assign(Object.assign({},me),{send_to:lt}))}})).apply(this,arguments)}function Bi(w){Wt=w}function $o(w){Bo=w}function Su(){return to.apply(this,arguments)}function to(){return(to=(0,V.Z)(function*(){var w;if(!(0,_e.hl)())return ui.warn(Wi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,_e.eu)()}catch(T){return ui.warn(Wi.create("indexeddb-unavailable",{errorInfo:null===(w=T)||void 0===w?void 0:w.toString()}).message),!1}return!0})).apply(this,arguments)}function Fa(){return(Fa=(0,V.Z)(function*(w,T,H,me,Oe,lt,kt){var nn;const Vn=Xu(w);Vn.then(Ui=>{H[Ui.measurementId]=Ui.appId,w.options.measurementId&&Ui.measurementId!==w.options.measurementId&&ui.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${Ui.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ui=>ui.error(Ui)),T.push(Vn);const Kn=Su().then(Ui=>{if(Ui)return me.getId()}),[fr,Bn]=yield Promise.all([Vn,Kn]);Ji()||nu(lt,fr.measurementId),Wt&&(Oe("consent","default",Wt),Bi(void 0)),Oe("js",new Date);const Ai=null!==(nn=kt?.config)&&void 0!==nn?nn:{};return Ai.origin="firebase",Ai.update=!0,null!=Bn&&(Ai[ss]=Bn),Oe("config",fr.measurementId,Ai),Bo&&(Oe("set",Bo),$o(void 0)),fr.measurementId})).apply(this,arguments)}class iu{constructor(T){this.app=T}_delete(){return delete vs[this.app.options.appId],Promise.resolve()}}let vs={},su=[];const La={};let or,$i,uo="dataLayer",mi=!1;function co(w,T,H){!function dr(){const w=[];if((0,_e.ru)()&&w.push("This is a browser extension environment."),(0,_e.zI)()||w.push("Cookies are not available."),w.length>0){const T=w.map((me,Oe)=>`(${Oe+1}) ${me}`).join(" "),H=Wi.create("invalid-analytics-context",{errorInfo:T});ui.warn(H.message)}}();const me=w.options.appId;if(!me)throw Wi.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Wi.create("no-api-key");ui.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vs[me])throw Wi.create("already-exists",{id:me});if(!mi){!function Ws(w){let T=[];Array.isArray(window[w])?T=window[w]:window[w]=T}(uo);const{wrappedGtag:lt,gtagCore:kt}=function Lo(w,T,H,me,Oe){let lt=function(...kt){window[me].push(arguments)};return window[Oe]&&"function"==typeof window[Oe]&&(lt=window[Oe]),window[Oe]=function Zu(w,T,H,me){function lt(){return(lt=(0,V.Z)(function*(kt,nn,Vn){try{"event"===kt?yield aa(w,T,H,nn,Vn):"config"===kt?yield Ks(w,T,H,me,nn,Vn):"consent"===kt?w("consent","update",Vn):w("set",nn)}catch(Kn){ui.error(Kn)}})).apply(this,arguments)}return function Oe(kt,nn,Vn){return lt.apply(this,arguments)}}(lt,w,T,H),{gtagCore:lt,wrappedGtag:window[Oe]}}(vs,su,La,uo,"gtag");$i=lt,or=kt,mi=!0}return vs[me]=function ru(w,T,H,me,Oe,lt,kt){return Fa.apply(this,arguments)}(w,su,La,T,or,uo,H),new iu(w)}function Ci(){return fn.apply(this,arguments)}function fn(){return(fn=(0,V.Z)(function*(){if((0,_e.ru)()||!(0,_e.zI)()||!(0,_e.hl)())return!1;try{return yield(0,_e.eu)()}catch{return!1}})).apply(this,arguments)}const pi="@firebase/analytics";!function Si(){(0,ve._registerComponent)(new se.wA(ys,(T,{options:H})=>co(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),H),"PUBLIC")),(0,ve._registerComponent)(new se.wA("analytics-internal",function w(T){try{const H=T.getProvider(ys).getImmediate();return{logEvent:(me,Oe,lt)=>function la(w,T,H,me){w=(0,_e.m9)(w),function Xo(w,T,H,me,Oe){return Xt.apply(this,arguments)}($i,vs[w.app.options.appId],T,H,me).catch(Oe=>ui.error(Oe))}(H,me,Oe,lt)}}catch(H){throw Wi.create("interop-component-reg-failed",{reason:H})}},"PRIVATE")),(0,ve.registerVersion)(pi,"0.8.0"),(0,ve.registerVersion)(pi,"0.8.0","esm2017")}();var tc=P(341),da=P(353),Ki=P(2994),Ni=P(8915),Va=P(7770);const Dt=new a.GfV("7.4.1"),ho="__angularfire_symbol__analyticsIsSupportedValue",Ti="__angularfire_symbol__analyticsIsSupported",ha="__angularfire_symbol__remoteConfigIsSupportedValue",Jo="__angularfire_symbol__remoteConfigIsSupported",Ys="__angularfire_symbol__messagingIsSupportedValue",nc="__angularfire_symbol__messagingIsSupported";function xu(w,T,H){if(T){if(1===T.length)return T[0];const lt=T.filter(kt=>kt.app===H);if(1===lt.length)return lt[0]}return H.container.getProvider(w).getImmediate({optional:!0})}globalThis[Ti]||(globalThis[Ti]=Ci().then(w=>globalThis[ho]=w).catch(()=>globalThis[ho]=!1)),globalThis[nc]||(globalThis[nc]=ln().then(w=>globalThis[Ys]=w).catch(()=>globalThis[Ys]=!1)),globalThis[Jo]||(globalThis[Jo]=Ms().then(w=>globalThis[ha]=w).catch(()=>globalThis[ha]=!1));const _s=(w,T)=>{const H=T?[T]:(0,U.C6)(),me=[];return H.forEach(Oe=>{Oe.container.getProvider(w).instances.forEach(kt=>{me.includes(kt)||me.push(kt)})}),me};function Eo(){}class Mo{constructor(T,H=tc.N){this.zone=T,this.delegate=H}now(){return this.delegate.now()}schedule(T,H,me){const Oe=this.zone;return this.delegate.schedule(function(kt){Oe.runGuarded(()=>{T.apply(this,[kt])})},H,me)}}class $a{constructor(T){this.zone=T,this.task=null}call(T,H){const me=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eo,{},Eo,Eo)),H.pipe((0,Ki.b)({next:me,complete:me,error:me})).subscribe(T).add(me)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let li=(()=>{class w{constructor(H){this.ngZone=H,this.outsideAngular=H.runOutsideAngular(()=>new Mo(Zone.current)),this.insideAngular=H.run(()=>new Mo(Zone.current,da.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(H){return new(H||w)(a.LFG(a.R0b))},w.\u0275prov=a.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function fo(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function A(w){return fo(),function L(w){return function(H){return(H=H.lift(new $a(w.ngZone))).pipe((0,Ni.R)(w.outsideAngular),(0,Va.QV)(w.insideAngular))}}(fo())(w)}},6457:(Qt,at,P)=>{"use strict";P.d(at,{$:()=>Ps,A:()=>K,B:()=>$e,G:()=>yt,H:()=>Xn,J:()=>Ke,L:()=>Gn,M:()=>Hi,N:()=>qi,P:()=>ho,Q:()=>Gi,R:()=>ec,T:()=>Zi,U:()=>hs,V:()=>Vr,W:()=>ii,X:()=>Hs,Y:()=>fs,Z:()=>zi,_:()=>Qs,a:()=>Ra,a0:()=>B,a1:()=>k,a2:()=>xt,a3:()=>gn,a4:()=>R,a5:()=>Z,a6:()=>En,a7:()=>Pr,a8:()=>kr,a9:()=>gi,aA:()=>Uo,aB:()=>Ui,aC:()=>Te,aD:()=>W,aE:()=>Ce,aI:()=>oo,aL:()=>rs,aa:()=>yo,ab:()=>No,ac:()=>sa,af:()=>Du,ag:()=>Fo,ah:()=>M,ak:()=>Nr,al:()=>Fr,an:()=>zs,ao:()=>Ma,ap:()=>we,aq:()=>Ie,ar:()=>ke,as:()=>an,at:()=>J,au:()=>sc,av:()=>ea,aw:()=>st,ax:()=>Ae,ay:()=>q,az:()=>$n,b:()=>Wi,c:()=>fa,d:()=>Mo,e:()=>_s,f:()=>H,g:()=>Vn,h:()=>lt,i:()=>to,j:()=>Bn,k:()=>zc,l:()=>lo,m:()=>Bd,n:()=>oc,o:()=>le,p:()=>Tr,r:()=>tc,s:()=>Au,u:()=>Va});var a=P(5861),U=P(2090),V=P(9681),ve=P(655),_e=P(1877),se=P(4859);const le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},K={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const $e=function de(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Be=function ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ae=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),De=new _e.Yd("@firebase/auth");function ht(I,...f){De.logLevel<=_e.in.ERROR&&De.error(`Auth (${V.SDK_VERSION}): ${I}`,...f)}function J(I,...f){throw Qe(I,...f)}function st(I,...f){return Qe(I,...f)}function wt(I,f,g){const S=Object.assign(Object.assign({},Be()),{[f]:g});return new U.LL("auth","Firebase",S).create(f,{appName:I.name})}function St(I,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&J(I,"argument-error"),wt(I,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qe(I,...f){if("string"!=typeof I){const g=f[0],S=[...f.slice(1)];return S[0]&&(S[0].appName=I.name),I._errorFactory.create(g,...S)}return ae.create(I,...f)}function Ae(I,f,...g){if(!I)throw Qe(f,...g)}function Re(I){const f="INTERNAL ASSERTION FAILED: "+I;throw ht(f),new Error(f)}function Ie(I,f){I||Re(f)}const ye=new Map;function q(I){Ie(I instanceof Function,"Expected a class definition");let f=ye.get(I);return f?(Ie(f instanceof I,"Instance stored in cache mismatched with class"),f):(f=new I,ye.set(I,f),f)}function ct(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function pt(){return"http:"===Vt()||"https:"===Vt()}function Vt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class qe{constructor(f,g){this.shortDelay=f,this.longDelay=g,Ie(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function ut(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Me(I,f){Ie(I.emulator,"Emulator should always be set here");const{url:g}=I.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Ge{static initialize(f,g,S){this.fetchImpl=f,g&&(this.headersImpl=g),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const je={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ft=new qe(3e4,6e4);function Lt(I,f){return I.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:I.tenantId}):f}function gt(I,f,g,S){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,a.Z)(function*(I,f,g,S,Y={}){return Ln(I,Y,(0,a.Z)(function*(){let pe={},mt={};S&&("GET"===f?mt=S:pe={body:JSON.stringify(S)});const Kt=(0,U.xO)(Object.assign({key:I.config.apiKey},mt)).slice(1),Nn=yield I._getAdditionalHeaders();return Nn["Content-Type"]="application/json",I.languageCode&&(Nn["X-Firebase-Locale"]=I.languageCode),Ge.fetch()(Rn(I,I.config.apiHost,g,Kt),Object.assign({method:f,headers:Nn,referrerPolicy:"no-referrer"},pe))}))})).apply(this,arguments)}function Ln(I,f,g){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,a.Z)(function*(I,f,g){I._canInitEmulator=!1;const S=Object.assign(Object.assign({},je),f);try{const Y=new xr(I),pe=yield Promise.race([g(),Y.promise]);Y.clearNetworkTimeout();const mt=yield pe.json();if("needConfirmation"in mt)throw sn(I,"account-exists-with-different-credential",mt);if(pe.ok&&!("errorMessage"in mt))return mt;{const Kt=pe.ok?mt.errorMessage:mt.error.message,[Nn,Zn]=Kt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Nn)throw sn(I,"credential-already-in-use",mt);if("EMAIL_EXISTS"===Nn)throw sn(I,"email-already-in-use",mt);if("USER_DISABLED"===Nn)throw sn(I,"user-disabled",mt);const Ar=S[Nn]||Nn.toLowerCase().replace(/[_\s]+/g,"-");if(Zn)throw wt(I,Ar,Zn);J(I,Ar)}}catch(Y){if(Y instanceof U.ZR)throw Y;J(I,"network-request-failed")}})).apply(this,arguments)}function wn(I,f,g,S){return yn.apply(this,arguments)}function yn(){return(yn=(0,a.Z)(function*(I,f,g,S,Y={}){const pe=yield gt(I,f,g,S,Y);return"mfaPendingCredential"in pe&&J(I,"multi-factor-auth-required",{_serverResponse:pe}),pe})).apply(this,arguments)}function Rn(I,f,g,S){const Y=`${f}${g}?${S}`;return I.config.emulator?Me(I.config,Y):`${I.config.apiScheme}://${Y}`}class xr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,S)=>{this.timer=setTimeout(()=>S(st(this.auth,"network-request-failed")),ft.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sn(I,f,g){const S={appName:I.name};g.email&&(S.email=g.email),g.phoneNumber&&(S.phoneNumber=g.phoneNumber);const Y=st(I,f,S);return Y.customData._tokenResponse=g,Y}function bt(){return(bt=(0,a.Z)(function*(I,f){return gt(I,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Fn(I,f){return ar.apply(this,arguments)}function ar(){return(ar=(0,a.Z)(function*(I,f){return gt(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function nr(I,f){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,a.Z)(function*(I,f){return gt(I,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function ur(I){if(I)try{const f=new Date(Number(I));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Rr(){return(Rr=(0,a.Z)(function*(I,f=!1){const g=(0,U.m9)(I),S=yield g.getIdToken(f),Y=en(S);Ae(Y&&Y.exp&&Y.auth_time&&Y.iat,g.auth,"internal-error");const pe="object"==typeof Y.firebase?Y.firebase:void 0,mt=pe?.sign_in_provider;return{claims:Y,token:S,authTime:ur(dn(Y.auth_time)),issuedAtTime:ur(dn(Y.iat)),expirationTime:ur(dn(Y.exp)),signInProvider:mt||null,signInSecondFactor:pe?.sign_in_second_factor||null}})).apply(this,arguments)}function dn(I){return 1e3*Number(I)}function en(I){var f;const[g,S,Y]=I.split(".");if(void 0===g||void 0===S||void 0===Y)return ht("JWT malformed, contained fewer than 3 sections"),null;try{const pe=(0,U.tV)(S);return pe?JSON.parse(pe):(ht("Failed to decode base64 JWT payload"),null)}catch(pe){return ht("Caught error parsing JWT payload as JSON",null===(f=pe)||void 0===f?void 0:f.toString()),null}}function hr(I,f){return _r.apply(this,arguments)}function _r(){return(_r=(0,a.Z)(function*(I,f,g=!1){if(g)return f;try{return yield f}catch(S){throw S instanceof U.ZR&&ir(S)&&I.auth.currentUser===I&&(yield I.auth.signOut()),S}})).apply(this,arguments)}function ir({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class xn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const Y=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,Y)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const S=this.getInterval(f);this.timerId=setTimeout((0,a.Z)(function*(){yield g.iteration()}),S)}iteration(){var f=this;return(0,a.Z)(function*(){var g;try{yield f.user.getIdToken(!0)}catch(S){return void("auth/network-request-failed"===(null===(g=S)||void 0===g?void 0:g.code)&&f.schedule(!0))}f.schedule()})()}}class Cr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=ur(this.lastLoginAt),this.creationTime=ur(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lr(I){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,a.Z)(function*(I){var f;const g=I.auth,S=yield I.getIdToken(),Y=yield hr(I,nr(g,{idToken:S}));Ae(Y?.users.length,g,"internal-error");const pe=Y.users[0];I._notifyReloadListener(pe);const mt=null!==(f=pe.providerUserInfo)&&void 0!==f&&f.length?Ne(pe.providerUserInfo):[],Kt=Ze(I.providerData,mt),Ar=!!I.isAnonymous&&!(I.email&&pe.passwordHash||Kt?.length),jr={uid:pe.localId,displayName:pe.displayName||null,photoURL:pe.photoUrl||null,email:pe.email||null,emailVerified:pe.emailVerified||!1,phoneNumber:pe.phoneNumber||null,tenantId:pe.tenantId||null,providerData:Kt,metadata:new Cr(pe.createdAt,pe.lastLoginAt),isAnonymous:Ar};Object.assign(I,jr)})).apply(this,arguments)}function bn(){return(bn=(0,a.Z)(function*(I){const f=(0,U.m9)(I);yield Lr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Ze(I,f){return[...I.filter(S=>!f.some(Y=>Y.providerId===S.providerId)),...f]}function Ne(I){return I.map(f=>{var{providerId:g}=f,S=(0,ve._T)(f,["providerId"]);return{providerId:g,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function Le(){return(Le=(0,a.Z)(function*(I,f){const g=yield Ln(I,{},(0,a.Z)(function*(){const S=(0,U.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:Y,apiKey:pe}=I.config,mt=Rn(I,Y,"/v1/token",`key=${pe}`),Kt=yield I._getAdditionalHeaders();return Kt["Content-Type"]="application/x-www-form-urlencoded",Ge.fetch()(mt,{method:"POST",headers:Kt,body:S})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){Ae(f.idToken,"internal-error"),Ae(typeof f.idToken<"u","internal-error"),Ae(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function hn(I){const f=en(I);return Ae(f,"internal-error"),Ae(typeof f.exp<"u","internal-error"),Ae(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var S=this;return(0,a.Z)(function*(){return Ae(!S.accessToken||S.refreshToken,f,"user-token-expired"),g||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(f,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var S=this;return(0,a.Z)(function*(){const{accessToken:Y,refreshToken:pe,expiresIn:mt}=yield function xe(I,f){return Le.apply(this,arguments)}(f,g);S.updateTokensAndExpiration(Y,pe,Number(mt))})()}updateTokensAndExpiration(f,g,S){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(f,g){const{refreshToken:S,accessToken:Y,expirationTime:pe}=g,mt=new Ue;return S&&(Ae("string"==typeof S,"internal-error",{appName:f}),mt.refreshToken=S),Y&&(Ae("string"==typeof Y,"internal-error",{appName:f}),mt.accessToken=Y),pe&&(Ae("number"==typeof pe,"internal-error",{appName:f}),mt.expirationTime=pe),mt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Ue,this.toJSON())}_performRefresh(){return Re("not implemented")}}function Tt(I,f){Ae("string"==typeof I||typeof I>"u","internal-error",{appName:f})}class jt{constructor(f){var{uid:g,auth:S,stsTokenManager:Y}=f,pe=(0,ve._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=S,this.stsTokenManager=Y,this.accessToken=Y.accessToken,this.displayName=pe.displayName||null,this.email=pe.email||null,this.emailVerified=pe.emailVerified||!1,this.phoneNumber=pe.phoneNumber||null,this.photoURL=pe.photoURL||null,this.isAnonymous=pe.isAnonymous||!1,this.tenantId=pe.tenantId||null,this.providerData=pe.providerData?[...pe.providerData]:[],this.metadata=new Cr(pe.createdAt||void 0,pe.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,a.Z)(function*(){const S=yield hr(g,g.stsTokenManager.getToken(g.auth,f));return Ae(S,g.auth,"internal-error"),g.accessToken!==S&&(g.accessToken=S,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),S})()}getIdTokenResult(f){return function Jn(I){return Rr.apply(this,arguments)}(this,f)}reload(){return function kn(I){return bn.apply(this,arguments)}(this)}_assign(f){this!==f&&(Ae(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new jt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var S=this;return(0,a.Z)(function*(){let Y=!1;f.idToken&&f.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(f),Y=!0),g&&(yield Lr(S)),yield S.auth._persistUserIfCurrent(S),Y&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var f=this;return(0,a.Z)(function*(){const g=yield f.getIdToken();return yield hr(f,function Tn(I,f){return bt.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var S,Y,pe,mt,Kt,Nn,Zn,Ar;const jr=null!==(S=g.displayName)&&void 0!==S?S:void 0,Bs=null!==(Y=g.email)&&void 0!==Y?Y:void 0,va=null!==(pe=g.phoneNumber)&&void 0!==pe?pe:void 0,ac=null!==(mt=g.photoURL)&&void 0!==mt?mt:void 0,Wc=null!==(Kt=g.tenantId)&&void 0!==Kt?Kt:void 0,lu=null!==(Nn=g._redirectEventId)&&void 0!==Nn?Nn:void 0,du=null!==(Zn=g.createdAt)&&void 0!==Zn?Zn:void 0,$d=null!==(Ar=g.lastLoginAt)&&void 0!==Ar?Ar:void 0,{uid:Go,emailVerified:uc,isAnonymous:_a,providerData:Rl,stsTokenManager:Ud}=g;Ae(Go&&Ud,f,"internal-error");const Mu=Ue.fromJSON(this.name,Ud);Ae("string"==typeof Go,f,"internal-error"),Tt(jr,f.name),Tt(Bs,f.name),Ae("boolean"==typeof uc,f,"internal-error"),Ae("boolean"==typeof _a,f,"internal-error"),Tt(va,f.name),Tt(ac,f.name),Tt(Wc,f.name),Tt(lu,f.name),Tt(du,f.name),Tt($d,f.name);const Pl=new jt({uid:Go,auth:f,email:Bs,emailVerified:uc,displayName:jr,isAnonymous:_a,photoURL:ac,phoneNumber:va,tenantId:Wc,stsTokenManager:Mu,createdAt:du,lastLoginAt:$d});return Rl&&Array.isArray(Rl)&&(Pl.providerData=Rl.map(hf=>Object.assign({},hf))),lu&&(Pl._redirectEventId=lu),Pl}static _fromIdTokenResponse(f,g,S=!1){return(0,a.Z)(function*(){const Y=new Ue;Y.updateFromServerResponse(g);const pe=new jt({uid:g.localId,auth:f,stsTokenManager:Y,isAnonymous:S});return yield Lr(pe),pe})()}}const Gn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(g,S){var Y=this;return(0,a.Z)(function*(){Y.storage[g]=S})()}_get(g){var S=this;return(0,a.Z)(function*(){const Y=S.storage[g];return void 0===Y?null:Y})()}_remove(g){var S=this;return(0,a.Z)(function*(){delete S.storage[g]})()}_addListener(g,S){}_removeListener(g,S){}}return I.type="NONE",I})();function $n(I,f,g){return`firebase:${I}:${f}:${g}`}class er{constructor(f,g,S){this.persistence=f,this.auth=g,this.userKey=S;const{config:Y,name:pe}=this.auth;this.fullUserKey=$n(this.userKey,Y.apiKey,pe),this.fullPersistenceKey=$n("persistence",Y.apiKey,pe),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,a.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?jt._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,a.Z)(function*(){if(g.persistence===f)return;const S=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,S?g.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,S="authUser"){return(0,a.Z)(function*(){if(!g.length)return new er(q(Gn),f,S);const Y=(yield Promise.all(g.map(function(){var Zn=(0,a.Z)(function*(Ar){if(yield Ar._isAvailable())return Ar});return function(Ar){return Zn.apply(this,arguments)}}()))).filter(Zn=>Zn);let pe=Y[0]||q(Gn);const mt=$n(S,f.config.apiKey,f.name);let Kt=null;for(const Zn of g)try{const Ar=yield Zn._get(mt);if(Ar){const jr=jt._fromJSON(f,Ar);Zn!==pe&&(Kt=jr),pe=Zn;break}}catch{}const Nn=Y.filter(Zn=>Zn._shouldAllowMigration);return pe._shouldAllowMigration&&Nn.length?(pe=Nn[0],Kt&&(yield pe._set(mt,Kt.toJSON())),yield Promise.all(g.map(function(){var Zn=(0,a.Z)(function*(Ar){if(Ar!==pe)try{yield Ar._remove(mt)}catch{}});return function(Ar){return Zn.apply(this,arguments)}}())),new er(pe,f,S)):new er(pe,f,S)})()}}function it(I){const f=I.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Bt(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(He(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Mn(f))return"Blackberry";if(nt(f))return"Webos";if(Se(f))return"Safari";if((f.includes("chrome/")||Rt(f))&&!f.includes("edge/"))return"Chrome";if(an(f))return"Android";{const S=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===S?.length)return S[1]}return"Other"}function He(I=(0,U.z$)()){return/firefox\//i.test(I)}function Se(I=(0,U.z$)()){const f=I.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Rt(I=(0,U.z$)()){return/crios\//i.test(I)}function Bt(I=(0,U.z$)()){return/iemobile/i.test(I)}function an(I=(0,U.z$)()){return/android/i.test(I)}function Mn(I=(0,U.z$)()){return/blackberry/i.test(I)}function nt(I=(0,U.z$)()){return/webos/i.test(I)}function ke(I=(0,U.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function we(I=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function Zt(I=(0,U.z$)()){return ke(I)||an(I)||nt(I)||Mn(I)||/windows phone/i.test(I)||Bt(I)}function mr(I,f=[]){let g;switch(I){case"Browser":g=it((0,U.z$)());break;case"Worker":g=`${it((0,U.z$)())}-${I}`;break;default:g=I}const S=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${V.SDK_VERSION}/${S}`}class zn{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const S=pe=>new Promise((mt,Kt)=>{try{mt(f(pe))}catch(Nn){Kt(Nn)}});S.onAbort=g,this.queue.push(S);const Y=this.queue.length-1;return()=>{this.queue[Y]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,a.Z)(function*(){var S;if(g.auth.currentUser===f)return;const Y=[];try{for(const pe of g.queue)yield pe(f),pe.onAbort&&Y.push(pe.onAbort)}catch(pe){Y.reverse();for(const mt of Y)try{mt()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(S=pe)||void 0===S?void 0:S.message})}})()}}class be{constructor(f,g,S){this.app=f,this.heartbeatServiceProvider=g,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ye(this),this.idTokenSubscription=new Ye(this),this.beforeStateQueue=new zn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ae,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(f,g){var S=this;return g&&(this._popupRedirectResolver=q(g)),this._initializationPromise=this.queue((0,a.Z)(function*(){var Y,pe;if(!S._deleted&&(S.persistenceManager=yield er.create(S,f),!S._deleted)){if(null!==(Y=S._popupRedirectResolver)&&void 0!==Y&&Y._shouldInitProactively)try{yield S._popupRedirectResolver._initialize(S)}catch{}yield S.initializeCurrentUser(g),S.lastNotifiedUid=(null===(pe=S.currentUser)||void 0===pe?void 0:pe.uid)||null,!S._deleted&&(S._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,a.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,a.Z)(function*(){var S;const Y=yield g.assertedPersistence.getCurrentUser();let pe=Y,mt=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const Kt=null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId,Nn=pe?._redirectEventId,Zn=yield g.tryRedirectSignIn(f);(!Kt||Kt===Nn)&&Zn?.user&&(pe=Zn.user,mt=!0)}if(!pe)return g.directlySetCurrentUser(null);if(!pe._redirectEventId){if(mt)try{yield g.beforeStateQueue.runMiddleware(pe)}catch(Kt){pe=Y,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(Kt))}return pe?g.reloadAndSetCurrentUserOrClear(pe):g.directlySetCurrentUser(null)}return Ae(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===pe._redirectEventId?g.directlySetCurrentUser(pe):g.reloadAndSetCurrentUserOrClear(pe)})()}tryRedirectSignIn(f){var g=this;return(0,a.Z)(function*(){let S=null;try{S=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,a.Z)(function*(){var S;try{yield Lr(f)}catch(Y){if("auth/network-request-failed"!==(null===(S=Y)||void 0===S?void 0:S.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function dt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var f=this;return(0,a.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,a.Z)(function*(){const S=f?(0,U.m9)(f):null;return S&&Ae(S.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(S&&S._clone(g))})()}_updateCurrentUser(f,g=!1){var S=this;return(0,a.Z)(function*(){if(!S._deleted)return f&&Ae(S.tenantId===f.tenantId,S,"tenant-id-mismatch"),g||(yield S.beforeStateQueue.runMiddleware(f)),S.queue((0,a.Z)(function*(){yield S.directlySetCurrentUser(f),S.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,a.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,a.Z)(function*(){yield g.assertedPersistence.setPersistence(q(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new U.LL("auth","Firebase",f())}onAuthStateChanged(f,g,S){return this.registerStateListener(this.authStateSubscription,f,g,S)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,S){return this.registerStateListener(this.idTokenSubscription,f,g,S)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var S=this;return(0,a.Z)(function*(){const Y=yield S.getOrInitRedirectPersistenceManager(g);return null===f?Y.removeCurrentUser():Y.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,a.Z)(function*(){if(!g.redirectPersistenceManager){const S=f&&q(f)||g._popupRedirectResolver;Ae(S,g,"argument-error"),g.redirectPersistenceManager=yield er.create(g,[q(S._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,a.Z)(function*(){var S,Y;return g._isInitialized&&(yield g.queue((0,a.Z)(function*(){}))),(null===(S=g._currentUser)||void 0===S?void 0:S._redirectEventId)===f?g._currentUser:(null===(Y=g.redirectUser)||void 0===Y?void 0:Y._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,a.Z)(function*(){if(f===g.currentUser)return g.queue((0,a.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,S,Y){if(this._deleted)return()=>{};const pe="function"==typeof g?g:g.next.bind(g),mt=this._isInitialized?Promise.resolve():this._initializationPromise;return Ae(mt,this,"internal-error"),mt.then(()=>pe(this.currentUser)),"function"==typeof g?f.addObserver(g,S,Y):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,a.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=mr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,a.Z)(function*(){var g;const S={"X-Client-Version":f.clientVersion};f.app.options.appId&&(S["X-Firebase-gmpid"]=f.app.options.appId);const Y=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return Y&&(S["X-Firebase-Client"]=Y),S})()}}function Ce(I){return(0,U.m9)(I)}class Ye{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,U.ne)(g=>this.observer=g)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yt(I,f,g){const S=Ce(I);Ae(S._canInitEmulator,S,"emulator-config-failed"),Ae(/^https?:\/\//.test(f),S,"invalid-emulator-scheme");const Y=!!g?.disableWarnings,pe=Ct(f),{host:mt,port:Kt}=function _n(I){const f=Ct(I),g=/(\/\/)?([^?#/]+)/.exec(I.substr(f.length));if(!g)return{host:"",port:null};const S=g[2].split("@").pop()||"",Y=/^(\[[^\]]+\])(:|$)/.exec(S);if(Y){const pe=Y[1];return{host:pe,port:rn(S.substr(pe.length+1))}}{const[pe,mt]=S.split(":");return{host:pe,port:rn(mt)}}}(f);S.config.emulator={url:`${pe}//${mt}${null===Kt?"":`:${Kt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:mt,port:Kt,protocol:pe.replace(":",""),options:Object.freeze({disableWarnings:Y})}),Y||function cr(){function I(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function Ct(I){const f=I.indexOf(":");return f<0?"":I.substr(0,f+1)}function rn(I){if(!I)return null;const f=Number(I);return isNaN(f)?null:f}class Xn{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return Re("not implemented")}_getIdTokenResponse(f){return Re("not implemented")}_linkToIdToken(f,g){return Re("not implemented")}_getReauthenticationResolver(f){return Re("not implemented")}}function Qn(I,f){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,a.Z)(function*(I,f){return gt(I,"POST","/v1/accounts:resetPassword",Lt(I,f))})).apply(this,arguments)}function rr(I,f){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,a.Z)(function*(I,f){return gt(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ei(I,f){return ai.apply(this,arguments)}function ai(){return(ai=(0,a.Z)(function*(I,f){return gt(I,"POST","/v1/accounts:update",Lt(I,f))})).apply(this,arguments)}function vi(){return(vi=(0,a.Z)(function*(I,f){return wn(I,"POST","/v1/accounts:signInWithPassword",Lt(I,f))})).apply(this,arguments)}function Mi(I,f){return ti.apply(this,arguments)}function ti(){return(ti=(0,a.Z)(function*(I,f){return gt(I,"POST","/v1/accounts:sendOobCode",Lt(I,f))})).apply(this,arguments)}function X(I,f){return ge.apply(this,arguments)}function ge(){return(ge=(0,a.Z)(function*(I,f){return Mi(I,f)})).apply(this,arguments)}function Xe(I,f){return ot.apply(this,arguments)}function ot(){return(ot=(0,a.Z)(function*(I,f){return Mi(I,f)})).apply(this,arguments)}function fe(I,f){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,a.Z)(function*(I,f){return Mi(I,f)})).apply(this,arguments)}function rt(I,f){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,a.Z)(function*(I,f){return Mi(I,f)})).apply(this,arguments)}function Ft(){return(Ft=(0,a.Z)(function*(I,f){return wn(I,"POST","/v1/accounts:signInWithEmailLink",Lt(I,f))})).apply(this,arguments)}function vn(){return(vn=(0,a.Z)(function*(I,f){return wn(I,"POST","/v1/accounts:signInWithEmailLink",Lt(I,f))})).apply(this,arguments)}class jn extends Xn{constructor(f,g,S,Y=null){super("password",S),this._email=f,this._password=g,this._tenantId=Y}static _fromEmailAndPassword(f,g){return new jn(f,g,"password")}static _fromEmailAndCode(f,g,S=null){return new jn(f,g,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,a.Z)(function*(){switch(g.signInMethod){case"password":return function lr(I,f){return vi.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Pt(I,f){return Ft.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:J(f,"internal-error")}})()}_linkToIdToken(f,g){var S=this;return(0,a.Z)(function*(){switch(S.signInMethod){case"password":return rr(f,{idToken:g,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function cn(I,f){return vn.apply(this,arguments)}(f,{idToken:g,email:S._email,oobCode:S._password});default:J(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ir(I,f){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,a.Z)(function*(I,f){return wn(I,"POST","/v1/accounts:signInWithIdp",Lt(I,f))})).apply(this,arguments)}class Ke extends Xn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new Ke(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):J("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:S,signInMethod:Y}=g,pe=(0,ve._T)(g,["providerId","signInMethod"]);if(!S||!Y)return null;const mt=new Ke(S,Y);return mt.idToken=pe.idToken||void 0,mt.accessToken=pe.accessToken||void 0,mt.secret=pe.secret,mt.nonce=pe.nonce,mt.pendingToken=pe.pendingToken||null,mt}_getIdTokenResponse(f){return Ir(f,this.buildRequest())}_linkToIdToken(f,g){const S=this.buildRequest();return S.idToken=g,Ir(f,S)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Ir(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,U.xO)(g)}return f}}function _t(I,f){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,a.Z)(function*(I,f){return gt(I,"POST","/v1/accounts:sendVerificationCode",Lt(I,f))})).apply(this,arguments)}function un(){return(un=(0,a.Z)(function*(I,f){return wn(I,"POST","/v1/accounts:signInWithPhoneNumber",Lt(I,f))})).apply(this,arguments)}function Ur(){return(Ur=(0,a.Z)(function*(I,f){const g=yield wn(I,"POST","/v1/accounts:signInWithPhoneNumber",Lt(I,f));if(g.temporaryProof)throw sn(I,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const yr={USER_NOT_FOUND:"user-not-found"};function ls(){return(ls=(0,a.Z)(function*(I,f){return wn(I,"POST","/v1/accounts:signInWithPhoneNumber",Lt(I,Object.assign(Object.assign({},f),{operation:"REAUTH"})),yr)})).apply(this,arguments)}class Oi extends Xn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Oi({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Oi({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function tn(I,f){return un.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function tr(I,f){return Ur.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Fi(I,f){return ls.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:S,verificationCode:Y}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:S,code:Y}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:S,phoneNumber:Y,temporaryProof:pe}=f;return S||g||Y||pe?new Oi({verificationId:g,verificationCode:S,phoneNumber:Y,temporaryProof:pe}):null}}class bs{constructor(f){var g,S,Y,pe,mt,Kt;const Nn=(0,U.zd)((0,U.pd)(f)),Zn=null!==(g=Nn.apiKey)&&void 0!==g?g:null,Ar=null!==(S=Nn.oobCode)&&void 0!==S?S:null,jr=function Us(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Y=Nn.mode)&&void 0!==Y?Y:null);Ae(Zn&&Ar&&jr,"argument-error"),this.apiKey=Zn,this.operation=jr,this.code=Ar,this.continueUrl=null!==(pe=Nn.continueUrl)&&void 0!==pe?pe:null,this.languageCode=null!==(mt=Nn.languageCode)&&void 0!==mt?mt:null,this.tenantId=null!==(Kt=Nn.tenantId)&&void 0!==Kt?Kt:null}static parseLink(f){const g=function ds(I){const f=(0,U.zd)((0,U.pd)(I)).link,g=f?(0,U.zd)((0,U.pd)(f)).deep_link_id:null,S=(0,U.zd)((0,U.pd)(I)).deep_link_id;return(S?(0,U.zd)((0,U.pd)(S)).link:null)||S||g||f||I}(f);try{return new bs(g)}catch{return null}}}let Hi=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(g,S){return jn._fromEmailAndPassword(g,S)}static credentialWithLink(g,S){const Y=bs.parseLink(S);return Ae(Y,"argument-error"),jn._fromEmailAndCode(g,Y.code,Y.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Li{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Os extends Li{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class hs extends Os{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return Ae("providerId"in g&&"signInMethod"in g,"argument-error"),Ke._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return Ae(f.idToken||f.accessToken,"argument-error"),Ke._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return hs.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return hs.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:S,oauthTokenSecret:Y,pendingToken:pe,nonce:mt,providerId:Kt}=f;if(!S&&!Y&&!g&&!pe||!Kt)return null;try{return new hs(Kt)._credential({idToken:g,accessToken:S,nonce:mt,pendingToken:pe})}catch{return null}}}let qi=(()=>{class I extends Os{constructor(){super("facebook.com")}static credential(g){return Ke._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return I.credential(g.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Gi=(()=>{class I extends Os{constructor(){super("google.com"),this.addScope("profile")}static credential(g,S){return Ke._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:S})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:S,oauthAccessToken:Y}=g;if(!S&&!Y)return null;try{return I.credential(S,Y)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Zi=(()=>{class I extends Os{constructor(){super("github.com")}static credential(g){return Ke._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return I.credential(g.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class rs extends Xn{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Ir(f,this.buildRequest())}_linkToIdToken(f,g){const S=this.buildRequest();return S.idToken=g,Ir(f,S)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Ir(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:S,signInMethod:Y,pendingToken:pe}=g;return S&&Y&&pe&&S===Y?new rs(S,pe):null}static _create(f,g){return new rs(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vr extends Li{constructor(f){Ae(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return Vr.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return Vr.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=rs.fromJSON(f);return Ae(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:S}=f;if(!g||!S)return null;try{return rs._create(S,g)}catch{return null}}}let ii=(()=>{class I extends Os{constructor(){super("twitter.com")}static credential(g,S){return Ke._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:S})}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:S,oauthTokenSecret:Y}=g;if(!S||!Y)return null;try{return I.credential(S,Y)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function js(I,f){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,a.Z)(function*(I,f){return wn(I,"POST","/v1/accounts:signUp",Lt(I,f))})).apply(this,arguments)}class di{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,S,Y=!1){return(0,a.Z)(function*(){const pe=yield jt._fromIdTokenResponse(f,S,Y),mt=zr(S);return new di({user:pe,providerId:mt,_tokenResponse:S,operationType:g})})()}static _forOperation(f,g,S){return(0,a.Z)(function*(){yield f._updateTokensIfNecessary(S,!0);const Y=zr(S);return new di({user:f,providerId:Y,_tokenResponse:S,operationType:g})})()}}function zr(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Hs(I){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,a.Z)(function*(I){var f;const g=Ce(I);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new di({user:g.currentUser,providerId:null,operationType:"signIn"});const S=yield js(g,{returnSecureToken:!0}),Y=yield di._fromIdTokenResponse(g,"signIn",S,!0);return yield g._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Ii extends U.ZR{constructor(f,g,S,Y){var pe;super(g.code,g.message),this.operationType=S,this.user=Y,Object.setPrototypeOf(this,Ii.prototype),this.customData={appName:f.name,tenantId:null!==(pe=f.tenantId)&&void 0!==pe?pe:void 0,_serverResponse:g.customData._serverResponse,operationType:S}}static _fromErrorAndOperation(f,g,S,Y){return new Ii(f,g,S,Y)}}function Rs(I,f,g,S){return("reauthenticate"===f?g._getReauthenticationResolver(I):g._getIdTokenResponse(I)).catch(pe=>{throw"auth/multi-factor-auth-required"===pe.code?Ii._fromErrorAndOperation(I,pe,f,S):pe})}function _i(I){return new Set(I.map(({providerId:f})=>f).filter(f=>!!f))}function Nr(I,f){return Is.apply(this,arguments)}function Is(){return(Is=(0,a.Z)(function*(I,f){const g=(0,U.m9)(I);yield Br(!0,g,f);const{providerUserInfo:S}=yield Fn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),Y=_i(S||[]);return g.providerData=g.providerData.filter(pe=>Y.has(pe.providerId)),Y.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Xi(I,f){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,a.Z)(function*(I,f,g=!1){const S=yield hr(I,f._linkToIdToken(I.auth,yield I.getIdToken()),g);return di._forOperation(I,"link",S)})).apply(this,arguments)}function Br(I,f,g){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,a.Z)(function*(I,f,g){yield Lr(f);const Y=!1===I?"provider-already-linked":"no-such-provider";Ae(_i(f.providerData).has(g)===I,f.auth,Y)})).apply(this,arguments)}function Qi(I,f){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,a.Z)(function*(I,f,g=!1){var S;const{auth:Y}=I,pe="reauthenticate";try{const mt=yield hr(I,Rs(Y,pe,f,I),g);Ae(mt.idToken,Y,"internal-error");const Kt=en(mt.idToken);Ae(Kt,Y,"internal-error");const{sub:Nn}=Kt;return Ae(I.uid===Nn,Y,"user-mismatch"),di._forOperation(I,pe,mt)}catch(mt){throw"auth/user-not-found"===(null===(S=mt)||void 0===S?void 0:S.code)&&J(Y,"user-mismatch"),mt}})).apply(this,arguments)}function vr(I,f){return is.apply(this,arguments)}function is(){return(is=(0,a.Z)(function*(I,f,g=!1){const S="signIn",Y=yield Rs(I,S,f),pe=yield di._fromIdTokenResponse(I,S,Y);return g||(yield I._updateCurrentUser(pe.user)),pe})).apply(this,arguments)}function fs(I,f){return ni.apply(this,arguments)}function ni(){return(ni=(0,a.Z)(function*(I,f){return vr(Ce(I),f)})).apply(this,arguments)}function zi(I,f){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,a.Z)(function*(I,f){const g=(0,U.m9)(I);return yield Br(!1,g,f.providerId),Xi(g,f)})).apply(this,arguments)}function Qs(I,f){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,a.Z)(function*(I,f){return Qi((0,U.m9)(I),f)})).apply(this,arguments)}function Po(I,f){return mo.apply(this,arguments)}function mo(){return(mo=(0,a.Z)(function*(I,f){return wn(I,"POST","/v1/accounts:signInWithCustomToken",Lt(I,f))})).apply(this,arguments)}function Ps(I,f){return Js.apply(this,arguments)}function Js(){return(Js=(0,a.Z)(function*(I,f){const g=Ce(I),S=yield Po(g,{token:f,returnSecureToken:!0}),Y=yield di._fromIdTokenResponse(g,"signIn",S);return yield g._updateCurrentUser(Y.user),Y})).apply(this,arguments)}class Ds{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?ps._fromServerResponse(f,g):J(f,"internal-error")}}class ps extends Ds{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new ps(g)}}function y(I,f,g){var S;Ae((null===(S=g.url)||void 0===S?void 0:S.length)>0,I,"invalid-continue-uri"),Ae(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Ae(g.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(Ae(g.android.packageName.length>0,I,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function B(I,f,g){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)(function*(I,f,g){const S=(0,U.m9)(I),Y={requestType:"PASSWORD_RESET",email:f};g&&y(S,Y,g),yield Xe(S,Y)})).apply(this,arguments)}function k(I,f,g){return re.apply(this,arguments)}function re(){return(re=(0,a.Z)(function*(I,f,g){yield Qn((0,U.m9)(I),{oobCode:f,newPassword:g})})).apply(this,arguments)}function xt(I,f){return qt.apply(this,arguments)}function qt(){return(qt=(0,a.Z)(function*(I,f){yield ei((0,U.m9)(I),{oobCode:f})})).apply(this,arguments)}function gn(I,f){return F.apply(this,arguments)}function F(){return(F=(0,a.Z)(function*(I,f){const g=(0,U.m9)(I),S=yield Qn(g,{oobCode:f}),Y=S.requestType;switch(Ae(Y,g,"internal-error"),Y){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ae(S.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ae(S.mfaInfo,g,"internal-error");default:Ae(S.email,g,"internal-error")}let pe=null;return S.mfaInfo&&(pe=Ds._fromServerResponse(Ce(g),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:pe},operation:Y}})).apply(this,arguments)}function R(I,f){return O.apply(this,arguments)}function O(){return(O=(0,a.Z)(function*(I,f){const{data:g}=yield gn((0,U.m9)(I),f);return g.email})).apply(this,arguments)}function Z(I,f,g){return vt.apply(this,arguments)}function vt(){return(vt=(0,a.Z)(function*(I,f,g){const S=Ce(I),Y=yield js(S,{returnSecureToken:!0,email:f,password:g}),pe=yield di._fromIdTokenResponse(S,"signIn",Y);return yield S._updateCurrentUser(pe.user),pe})).apply(this,arguments)}function En(I,f,g){return fs((0,U.m9)(I),Hi.credential(f,g))}function Pr(I,f,g){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,a.Z)(function*(I,f,g){const S=(0,U.m9)(I),Y={requestType:"EMAIL_SIGNIN",email:f};Ae(g.handleCodeInApp,S,"argument-error"),g&&y(S,Y,g),yield fe(S,Y)})).apply(this,arguments)}function kr(I,f){return"EMAIL_SIGNIN"===bs.parseLink(f)?.operation}function gi(I,f,g){return gs.apply(this,arguments)}function gs(){return(gs=(0,a.Z)(function*(I,f,g){const S=(0,U.m9)(I),Y=Hi.credentialWithLink(f,g||ct());return Ae(Y._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),fs(S,Y)})).apply(this,arguments)}function ms(I,f){return Di.apply(this,arguments)}function Di(){return(Di=(0,a.Z)(function*(I,f){return gt(I,"POST","/v1/accounts:createAuthUri",Lt(I,f))})).apply(this,arguments)}function yo(I,f){return So.apply(this,arguments)}function So(){return(So=(0,a.Z)(function*(I,f){const S={identifier:f,continueUri:pt()?ct():"http://localhost"},{signinMethods:Y}=yield ms((0,U.m9)(I),S);return Y||[]})).apply(this,arguments)}function No(I,f){return so.apply(this,arguments)}function so(){return(so=(0,a.Z)(function*(I,f){const g=(0,U.m9)(I),Y={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};f&&y(g.auth,Y,f);const{email:pe}=yield X(g.auth,Y);pe!==I.email&&(yield I.reload())})).apply(this,arguments)}function sa(I,f,g){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,a.Z)(function*(I,f,g){const S=(0,U.m9)(I),pe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:f};g&&y(S.auth,pe,g);const{email:mt}=yield rt(S.auth,pe);mt!==I.email&&(yield I.reload())})).apply(this,arguments)}function oa(I,f){return ko.apply(this,arguments)}function ko(){return(ko=(0,a.Z)(function*(I,f){return gt(I,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Du(I,f){return vo.apply(this,arguments)}function vo(){return(vo=(0,a.Z)(function*(I,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const S=(0,U.m9)(I),pe={idToken:yield S.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},mt=yield hr(S,oa(S.auth,pe));S.displayName=mt.displayName||null,S.photoURL=mt.photoUrl||null;const Kt=S.providerData.find(({providerId:Nn})=>"password"===Nn);Kt&&(Kt.displayName=S.displayName,Kt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(mt)})).apply(this,arguments)}function Fo(I,f){return G((0,U.m9)(I),f,null)}function M(I,f){return G((0,U.m9)(I),null,f)}function G(I,f,g){return N.apply(this,arguments)}function N(){return(N=(0,a.Z)(function*(I,f,g){const{auth:S}=I,pe={idToken:yield I.getIdToken(),returnSecureToken:!0};f&&(pe.email=f),g&&(pe.password=g);const mt=yield hr(I,rr(S,pe));yield I._updateTokensIfNecessary(mt,!0)})).apply(this,arguments)}class ze{constructor(f,g,S={}){this.isNewUser=f,this.providerId=g,this.profile=S}}class At extends ze{constructor(f,g,S,Y){super(f,g,S),this.username=Y}}class zt extends ze{constructor(f,g){super(f,"facebook.com",g)}}class ln extends At{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Er extends ze{constructor(f,g){super(f,"google.com",g)}}class Yn extends At{constructor(f,g,S){super(f,"twitter.com",g,S)}}function Fr(I){const{user:f,_tokenResponse:g}=I;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Q(I){var f,g;if(!I)return null;const{providerId:S}=I,Y=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},pe=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!S&&I?.idToken){const mt=null===(g=null===(f=en(I.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(mt)return new ze(pe,"anonymous"!==mt&&"custom"!==mt?mt:null)}if(!S)return null;switch(S){case"facebook.com":return new zt(pe,Y);case"github.com":return new ln(pe,Y);case"google.com":return new Er(pe,Y);case"twitter.com":return new Yn(pe,Y,I.screenName||null);case"custom":case"anonymous":return new ze(pe,null);default:return new ze(pe,S,Y)}}(g)}function Tr(I,f){return(0,U.m9)(I).setPersistence(f)}class os{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new os("enroll",f)}static _fromMfaPendingCredential(f){return new os("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,S;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return os._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(S=f.multiFactorSession)&&void 0!==S&&S.idToken)return os._fromIdtoken(f.multiFactorSession.idToken)}return null}}class _o{constructor(f,g,S){this.session=f,this.hints=g,this.signInResolver=S}static _fromError(f,g){const S=Ce(f),Y=g.customData._serverResponse,pe=(Y.mfaInfo||[]).map(Kt=>Ds._fromServerResponse(S,Kt));Ae(Y.mfaPendingCredential,S,"internal-error");const mt=os._fromMfaPendingCredential(Y.mfaPendingCredential);return new _o(mt,pe,function(){var Kt=(0,a.Z)(function*(Nn){const Zn=yield Nn._process(S,mt);delete Y.mfaInfo,delete Y.mfaPendingCredential;const Ar=Object.assign(Object.assign({},Y),{idToken:Zn.idToken,refreshToken:Zn.refreshToken});switch(g.operationType){case"signIn":const jr=yield di._fromIdTokenResponse(S,g.operationType,Ar);return yield S._updateCurrentUser(jr.user),jr;case"reauthenticate":return Ae(g.user,S,"internal-error"),di._forOperation(g.user,g.operationType,Ar);default:J(S,"internal-error")}});return function(Nn){return Kt.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,a.Z)(function*(){return g.signInResolver(f)})()}}function zs(I,f){var g;const S=(0,U.m9)(I),Y=f;return Ae(f.customData.operationType,S,"argument-error"),Ae(null===(g=Y.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,S,"argument-error"),_o._fromError(S,Y)}function ui(I,f){return gt(I,"POST","/v2/accounts/mfaEnrollment:start",Lt(I,f))}class Ws{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(S=>Ds._fromServerResponse(f.auth,S)))})}static _fromUser(f){return new Ws(f)}getSession(){var f=this;return(0,a.Z)(function*(){return os._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var S=this;return(0,a.Z)(function*(){const Y=f,pe=yield S.getSession(),mt=yield hr(S.user,Y._process(S.user.auth,pe,g));return yield S.user._updateTokensIfNecessary(mt),S.user.reload()})()}unenroll(f){var g=this;return(0,a.Z)(function*(){var S;const Y="string"==typeof f?f:f.uid,pe=yield g.user.getIdToken(),mt=yield hr(g.user,function nu(I,f){return gt(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Lt(I,f))}(g.user.auth,{idToken:pe,mfaEnrollmentId:Y}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Kt})=>Kt!==Y),yield g.user._updateTokensIfNecessary(mt);try{yield g.user.reload()}catch(Kt){if("auth/user-token-expired"!==(null===(S=Kt)||void 0===S?void 0:S.code))throw Kt}})()}}const Ks=new WeakMap;function Ma(I){const f=(0,U.m9)(I);return Ks.has(f)||Ks.set(f,Ws._fromUser(f)),Ks.get(f)}const aa="__sak";class Oa{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(aa,"1"),this.storage.removeItem(aa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Wi=(()=>{class I extends Oa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,S)=>this.onStorageEvent(g,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Zu(){const I=(0,U.z$)();return Se(I)||ke(I)}()&&function Cn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Zt(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const S of Object.keys(this.listeners)){const Y=this.storage.getItem(S),pe=this.localCache[S];Y!==pe&&g(S,pe,Y)}}onStorageEvent(g,S=!1){if(!g.key)return void this.forAllChangedKeys((Kt,Nn,Zn)=>{this.notifyListeners(Kt,Zn)});const Y=g.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Kt=this.storage.getItem(Y);if(g.newValue!==Kt)null!==g.newValue?this.storage.setItem(Y,g.newValue):this.storage.removeItem(Y);else if(this.localCache[Y]===g.newValue&&!S)return}const pe=()=>{const Kt=this.storage.getItem(Y);!S&&this.localCache[Y]===Kt||this.notifyListeners(Y,Kt)},mt=this.storage.getItem(Y);!function Je(){return(0,U.w1)()&&10===document.documentMode}()||mt===g.newValue||g.newValue===g.oldValue?pe():setTimeout(pe,10)}notifyListeners(g,S){this.localCache[g]=S;const Y=this.listeners[g];if(Y)for(const pe of Array.from(Y))pe(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,S,Y)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:S,newValue:Y}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(S)}_removeListener(g,S){this.listeners[g]&&(this.listeners[g].delete(S),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,S){var Y=()=>super._set,pe=this;return(0,a.Z)(function*(){yield Y().call(pe,g,S),pe.localCache[g]=JSON.stringify(S)})()}_get(g){var S=()=>super._get,Y=this;return(0,a.Z)(function*(){const pe=yield S().call(Y,g);return Y.localCache[g]=JSON.stringify(pe),pe})()}_remove(g){var S=()=>super._remove,Y=this;return(0,a.Z)(function*(){yield S().call(Y,g),delete Y.localCache[g]})()}}return I.type="LOCAL",I})(),Ra=(()=>{class I extends Oa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,S){}_removeListener(g,S){}}return I.type="SESSION",I})();let Pa=(()=>{class I{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const S=this.receivers.find(pe=>pe.isListeningto(g));if(S)return S;const Y=new I(g);return this.receivers.push(Y),Y}isListeningto(g){return this.eventTarget===g}handleEvent(g){var S=this;return(0,a.Z)(function*(){const Y=g,{eventId:pe,eventType:mt,data:Kt}=Y.data,Nn=S.handlersMap[mt];if(!Nn?.size)return;Y.ports[0].postMessage({status:"ack",eventId:pe,eventType:mt});const Zn=Array.from(Nn).map(function(){var jr=(0,a.Z)(function*(Bs){return Bs(Y.origin,Kt)});return function(Bs){return jr.apply(this,arguments)}}()),Ar=yield function qo(I){return Promise.all(I.map(function(){var f=(0,a.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(S){return{fulfilled:!1,reason:S}}});return function(g){return f.apply(this,arguments)}}()))}(Zn);Y.ports[0].postMessage({status:"done",eventId:pe,eventType:mt,response:Ar})})()}_subscribe(g,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(S)}_unsubscribe(g,S){this.handlersMap[g]&&S&&this.handlersMap[g].delete(S),(!S||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function oo(I="",f=10){let g="";for(let S=0;S<f;S++)g+=Math.floor(10*Math.random());return I+g}class Na{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,S=50){var Y=this;return(0,a.Z)(function*(){const pe=typeof MessageChannel<"u"?new MessageChannel:null;if(!pe)throw new Error("connection_unavailable");let mt,Kt;return new Promise((Nn,Zn)=>{const Ar=oo("",20);pe.port1.start();const jr=setTimeout(()=>{Zn(new Error("unsupported_event"))},S);Kt={messageChannel:pe,onMessage(Bs){const va=Bs;if(va.data.eventId===Ar)switch(va.data.status){case"ack":clearTimeout(jr),mt=setTimeout(()=>{Zn(new Error("timeout"))},3e3);break;case"done":clearTimeout(mt),Nn(va.data.response);break;default:clearTimeout(jr),clearTimeout(mt),Zn(new Error("invalid_response"))}}},Y.handlers.add(Kt),pe.port1.addEventListener("message",Kt.onMessage),Y.target.postMessage({eventType:f,eventId:Ar,data:g},[pe.port2])}).finally(()=>{Kt&&Y.removeMessageHandler(Kt)})})()}}function ci(){return window}function ao(){return typeof ci().WorkerGlobalScope<"u"&&"function"==typeof ci().importScripts}function Vo(){return(Vo=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Fs="firebaseLocalStorageDb",Xo="firebaseLocalStorage",Xt="fbase_key";class Zr{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ls(I,f){return I.transaction([Xo],f?"readwrite":"readonly").objectStore(Xo)}function An(){const I=indexedDB.open(Fs,1);return new Promise((f,g)=>{I.addEventListener("error",()=>{g(I.error)}),I.addEventListener("upgradeneeded",()=>{const S=I.result;try{S.createObjectStore(Xo,{keyPath:Xt})}catch(Y){g(Y)}}),I.addEventListener("success",(0,a.Z)(function*(){const S=I.result;S.objectStoreNames.contains(Xo)?f(S):(S.close(),yield function Qo(){const I=indexedDB.deleteDatabase(Fs);return new Zr(I).toPromise()}(),f(yield An()))}))})}function sr(I,f,g){return ua.apply(this,arguments)}function ua(){return(ua=(0,a.Z)(function*(I,f,g){const S=Ls(I,!0).put({[Xt]:f,value:g});return new Zr(S).toPromise()})).apply(this,arguments)}function Mt(){return(Mt=(0,a.Z)(function*(I,f){const g=Ls(I,!1).get(f),S=yield new Zr(g).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function Wt(I,f){const g=Ls(I,!0).delete(f);return new Zr(g).toPromise()}const to=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,a.Z)(function*(){return g.db||(g.db=yield An()),g.db})()}_withRetries(g){var S=this;return(0,a.Z)(function*(){let Y=0;for(;;)try{const pe=yield S._openDb();return yield g(pe)}catch(pe){if(Y++>3)throw pe;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,a.Z)(function*(){return ao()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,a.Z)(function*(){g.receiver=Pa._getInstance(function Zo(){return ao()?self:null}()),g.receiver._subscribe("keyChanged",function(){var S=(0,a.Z)(function*(Y,pe){return{keyProcessed:(yield g._poll()).includes(pe.key)}});return function(Y,pe){return S.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var S=(0,a.Z)(function*(Y,pe){return["keyChanged"]});return function(Y,pe){return S.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,a.Z)(function*(){var S,Y;if(g.activeServiceWorker=yield function ka(){return Vo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Na(g.activeServiceWorker);const pe=yield g.sender._send("ping",{},800);!pe||(null===(S=pe[0])||void 0===S?void 0:S.fulfilled)&&(null===(Y=pe[0])||void 0===Y?void 0:Y.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var S=this;return(0,a.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function qr(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:g},S.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const g=yield An();return yield sr(g,aa,"1"),yield Wt(g,aa),!0}catch{}return!1})()}_withPendingWrite(g){var S=this;return(0,a.Z)(function*(){S.pendingWrites++;try{yield g()}finally{S.pendingWrites--}})()}_set(g,S){var Y=this;return(0,a.Z)(function*(){return Y._withPendingWrite((0,a.Z)(function*(){return yield Y._withRetries(pe=>sr(pe,g,S)),Y.localCache[g]=S,Y.notifyServiceWorker(g)}))})()}_get(g){var S=this;return(0,a.Z)(function*(){const Y=yield S._withRetries(pe=>function mn(I,f){return Mt.apply(this,arguments)}(pe,g));return S.localCache[g]=Y,Y})()}_remove(g){var S=this;return(0,a.Z)(function*(){return S._withPendingWrite((0,a.Z)(function*(){return yield S._withRetries(Y=>Wt(Y,g)),delete S.localCache[g],S.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,a.Z)(function*(){const S=yield g._withRetries(mt=>{const Kt=Ls(mt,!1).getAll();return new Zr(Kt).toPromise()});if(!S)return[];if(0!==g.pendingWrites)return[];const Y=[],pe=new Set;for(const{fbase_key:mt,value:Kt}of S)pe.add(mt),JSON.stringify(g.localCache[mt])!==JSON.stringify(Kt)&&(g.notifyListeners(mt,Kt),Y.push(mt));for(const mt of Object.keys(g.localCache))g.localCache[mt]&&!pe.has(mt)&&(g.notifyListeners(mt,null),Y.push(mt));return Y})()}notifyListeners(g,S){this.localCache[g]=S;const Y=this.listeners[g];if(Y)for(const pe of Array.from(Y))pe(S)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(S)}_removeListener(g,S){this.listeners[g]&&(this.listeners[g].delete(S),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function ru(I,f){return gt(I,"POST","/v2/accounts/mfaSignIn:start",Lt(I,f))}function vs(){return(vs=(0,a.Z)(function*(I){return(yield gt(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function La(I){return new Promise((f,g)=>{const S=document.createElement("script");S.setAttribute("src",I),S.onload=f,S.onerror=Y=>{const pe=st("internal-error");pe.customData=Y,g(pe)},S.type="text/javascript",S.charset="UTF-8",function su(){var I,f;return null!==(f=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==f?f:document}().appendChild(S)})}function uo(I){return`__${I}${Math.floor(1e6*Math.random())}`}const $i=1e12;class mi{constructor(f){this.auth=f,this.counter=$i,this._widgets=new Map}render(f,g){const S=this.counter;return this._widgets.set(S,new Xr(f,this.auth.name,g||{})),this.counter++,S}reset(f){var g;const S=f||$i;null===(g=this._widgets.get(S))||void 0===g||g.delete(),this._widgets.delete(S)}getResponse(f){var g;return(null===(g=this._widgets.get(f||$i))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,a.Z)(function*(){var S;return null===(S=g._widgets.get(f||$i))||void 0===S||S.execute(),""})()}}class Xr{constructor(f,g,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Y="string"==typeof f?document.getElementById(f):f;Ae(Y,"argument-error",{appName:g}),this.container=Y,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function dr(I){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<I;S++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const co=uo("rcb"),Un=new qe(3e4,6e4);class Ci{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=ci().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return Ae(function fn(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(ci().grecaptcha):new Promise((S,Y)=>{const pe=ci().setTimeout(()=>{Y(st(f,"network-request-failed"))},Un.get());ci()[co]=()=>{ci().clearTimeout(pe),delete ci()[co];const Kt=ci().grecaptcha;if(!Kt)return void Y(st(f,"internal-error"));const Nn=Kt.render;Kt.render=(Zn,Ar)=>{const jr=Nn(Zn,Ar);return this.counter++,jr},this.hostLanguage=g,S(Kt)},La(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:co,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(pe),Y(st(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=ci().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Tu{load(f){return(0,a.Z)(function*(){return new mi(f)})()}clearedOneInstance(){}}const Ju="recaptcha",ca={theme:"light",type:"image"};class ec{constructor(f,g=Object.assign({},ca),S){this.parameters=g,this.type=Ju,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ce(S),this.isInvisible="invisible"===this.parameters.size,Ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Y="string"==typeof f?document.getElementById(f):f;Ae(Y,this.auth,"argument-error"),this.container=Y,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Tu:new Ci,this.validateStartingState()}verify(){var f=this;return(0,a.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),S=f.getAssertedRecaptcha();return S.getResponse(g)||new Promise(pe=>{const mt=Kt=>{!Kt||(f.tokenChangeListeners.delete(mt),pe(Kt))};f.tokenChangeListeners.add(mt),f.isInvisible&&S.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){Ae(!this.parameters.sitekey,this.auth,"argument-error"),Ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(S=>S(g)),"function"==typeof f)f(g);else if("string"==typeof f){const S=ci()[f];"function"==typeof S&&S(g)}}}assertNotDestroyed(){Ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,a.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const S=document.createElement("div");g.appendChild(S),g=S}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,a.Z)(function*(){Ae(pt()&&!ao(),f.auth,"internal-error"),yield function xo(){let I=null;return new Promise(f=>{"complete"!==document.readyState?(I=()=>f(),window.addEventListener("load",I)):f()}).catch(f=>{throw I&&window.removeEventListener("load",I),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function iu(I){return vs.apply(this,arguments)}(f.auth);Ae(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return Ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class la{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Oi._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Au(I,f,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,a.Z)(function*(I,f,g){const S=Ce(I),Y=yield Ki(S,f,(0,U.m9)(g));return new la(Y,pe=>fs(S,pe))})).apply(this,arguments)}function lo(I,f,g){return Si.apply(this,arguments)}function Si(){return(Si=(0,a.Z)(function*(I,f,g){const S=(0,U.m9)(I);yield Br(!1,S,"phone");const Y=yield Ki(S.auth,f,(0,U.m9)(g));return new la(Y,pe=>zi(S,pe))})).apply(this,arguments)}function tc(I,f,g){return da.apply(this,arguments)}function da(){return(da=(0,a.Z)(function*(I,f,g){const S=(0,U.m9)(I),Y=yield Ki(S.auth,f,(0,U.m9)(g));return new la(Y,pe=>Qs(S,pe))})).apply(this,arguments)}function Ki(I,f,g){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,a.Z)(function*(I,f,g){var S;const Y=yield g.verify();try{let pe;if(Ae("string"==typeof Y,I,"argument-error"),Ae(g.type===Ju,I,"argument-error"),pe="string"==typeof f?{phoneNumber:f}:f,"session"in pe){const mt=pe.session;if("phoneNumber"in pe)return Ae("enroll"===mt.type,I,"internal-error"),(yield ui(I,{idToken:mt.credential,phoneEnrollmentInfo:{phoneNumber:pe.phoneNumber,recaptchaToken:Y}})).phoneSessionInfo.sessionInfo;{Ae("signin"===mt.type,I,"internal-error");const Kt=(null===(S=pe.multiFactorHint)||void 0===S?void 0:S.uid)||pe.multiFactorUid;return Ae(Kt,I,"missing-multi-factor-info"),(yield ru(I,{mfaPendingCredential:mt.credential,mfaEnrollmentId:Kt,phoneSignInInfo:{recaptchaToken:Y}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:mt}=yield _t(I,{phoneNumber:pe.phoneNumber,recaptchaToken:Y});return mt}}finally{g._reset()}})).apply(this,arguments)}function Va(I,f){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,a.Z)(function*(I,f){yield Xi((0,U.m9)(I),f)})).apply(this,arguments)}let ho=(()=>{class I{constructor(g){this.providerId=I.PROVIDER_ID,this.auth=Ce(g)}verifyPhoneNumber(g,S){return Ki(this.auth,g,(0,U.m9)(S))}static credential(g,S){return Oi._fromVerification(g,S)}static credentialFromResult(g){return I.credentialFromTaggedObject(g)}static credentialFromError(g){return I.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:S,temporaryProof:Y}=g;return S&&Y?Oi._fromTokenResponse(S,Y):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function Ti(I,f){return f?q(f):(Ae(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class ha extends Xn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ir(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Ir(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Ir(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Jo(I){return vr(I.auth,new ha(I),I.bypassAuthState)}function Ys(I){const{auth:f,user:g}=I;return Ae(g,f,"internal-error"),Qi(g,new ha(I),I.bypassAuthState)}function nc(I){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,a.Z)(function*(I){const{auth:f,user:g}=I;return Ae(g,f,"internal-error"),Xi(g,new ha(I),I.bypassAuthState)})).apply(this,arguments)}class Cs{constructor(f,g,S,Y,pe=!1){this.auth=f,this.resolver=S,this.user=Y,this.bypassAuthState=pe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,a.Z)(function*(S,Y){f.pendingPromise={resolve:S,reject:Y};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(pe){f.reject(pe)}});return function(S,Y){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,a.Z)(function*(){const{urlResponse:S,sessionId:Y,postBody:pe,tenantId:mt,error:Kt,type:Nn}=f;if(Kt)return void g.reject(Kt);const Zn={auth:g.auth,requestUri:S,sessionId:Y,tenantId:mt||void 0,postBody:pe||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Nn)(Zn))}catch(Ar){g.reject(Ar)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Jo;case"linkViaPopup":case"linkViaRedirect":return nc;case"reauthViaPopup":case"reauthViaRedirect":return Ys;default:J(this.auth,"internal-error")}}resolve(f){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Ie(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ba=new qe(2e3,1e4);function fa(I,f,g){return xu.apply(this,arguments)}function xu(){return(xu=(0,a.Z)(function*(I,f,g){const S=Ce(I);St(I,f,Li);const Y=Ti(S,g);return new li(S,"signInViaPopup",f,Y).executeNotNull()})).apply(this,arguments)}function _s(I,f,g){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,a.Z)(function*(I,f,g){const S=(0,U.m9)(I);St(S.auth,f,Li);const Y=Ti(S.auth,g);return new li(S.auth,"reauthViaPopup",f,Y,S).executeNotNull()})).apply(this,arguments)}function Mo(I,f,g){return $a.apply(this,arguments)}function $a(){return($a=(0,a.Z)(function*(I,f,g){const S=(0,U.m9)(I);St(S.auth,f,Li);const Y=Ti(S.auth,g);return new li(S.auth,"linkViaPopup",f,Y,S).executeNotNull()})).apply(this,arguments)}let li=(()=>{class I extends Cs{constructor(g,S,Y,pe,mt){super(g,S,pe,mt),this.provider=Y,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var g=this;return(0,a.Z)(function*(){const S=yield g.execute();return Ae(S,g.auth,"internal-error"),S})()}onExecution(){var g=this;return(0,a.Z)(function*(){Ie(1===g.filter.length,"Popup operations only handle one event");const S=oo();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],S),g.authWindow.associatedEvent=S,g.resolver._originValidation(g.auth).catch(Y=>{g.reject(Y)}),g.resolver._isIframeWebStorageSupported(g.auth,Y=>{Y||g.reject(st(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(st(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const g=()=>{var S,Y;this.pollId=null!==(Y=null===(S=this.authWindow)||void 0===S?void 0:S.window)&&void 0!==Y&&Y.closed?window.setTimeout(()=>{this.pollId=null,this.reject(st(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Ba.get())};g()}}return I.currentPopupAction=null,I})();const ki=new Map;class E extends Cs{constructor(f,g,S=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,S),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,a.Z)(function*(){let S=ki.get(g.auth._key());if(!S){try{const pe=(yield function b(I,f){return v.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;S=()=>Promise.resolve(pe)}catch(Y){S=()=>Promise.reject(Y)}ki.set(g.auth._key(),S)}return g.bypassAuthState||ki.set(g.auth._key(),()=>Promise.resolve(null)),S()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,S=this;return(0,a.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(S,f);if("unknown"!==f.type){if(f.eventId){const Y=yield S.auth._redirectUserForId(f.eventId);if(Y)return S.user=Y,g().call(S,f);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function v(){return(v=(0,a.Z)(function*(I,f){const g=T(f),S=w(I);if(!(yield S._isAvailable()))return!1;const Y="true"===(yield S._get(g));return yield S._remove(g),Y})).apply(this,arguments)}function A(I,f){return L.apply(this,arguments)}function L(){return(L=(0,a.Z)(function*(I,f){return w(I)._set(T(f),"true")})).apply(this,arguments)}function W(){ki.clear()}function Te(I,f){ki.set(I._key(),f)}function w(I){return q(I._redirectPersistence)}function T(I){return $n("pendingRedirect",I.config.apiKey,I.name)}function H(I,f,g){return function me(I,f,g){return Oe.apply(this,arguments)}(I,f,g)}function Oe(){return(Oe=(0,a.Z)(function*(I,f,g){const S=Ce(I);St(I,f,Li);const Y=Ti(S,g);return yield A(Y,S),Y._openRedirect(S,f,"signInViaRedirect")})).apply(this,arguments)}function lt(I,f,g){return function kt(I,f,g){return nn.apply(this,arguments)}(I,f,g)}function nn(){return(nn=(0,a.Z)(function*(I,f,g){const S=(0,U.m9)(I);St(S.auth,f,Li);const Y=Ti(S.auth,g);yield A(Y,S.auth);const pe=yield qs(S);return Y._openRedirect(S.auth,f,"reauthViaRedirect",pe)})).apply(this,arguments)}function Vn(I,f,g){return function Kn(I,f,g){return fr.apply(this,arguments)}(I,f,g)}function fr(){return(fr=(0,a.Z)(function*(I,f,g){const S=(0,U.m9)(I);St(S.auth,f,Li);const Y=Ti(S.auth,g);yield Br(!1,S,f.providerId),yield A(Y,S.auth);const pe=yield qs(S);return Y._openRedirect(S.auth,f,"linkViaRedirect",pe)})).apply(this,arguments)}function Bn(I,f){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,a.Z)(function*(I,f){return yield Ce(I)._initializationPromise,Ui(I,f,!1)})).apply(this,arguments)}function Ui(I,f){return Es.apply(this,arguments)}function Es(){return(Es=(0,a.Z)(function*(I,f,g=!1){const S=Ce(I),Y=Ti(S,f),mt=yield new E(S,Y,g).execute();return mt&&!g&&(delete mt.user._redirectEventId,yield S._persistUserIfCurrent(mt.user),yield S._setRedirectUser(null,f)),mt})).apply(this,arguments)}function qs(I){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,a.Z)(function*(I){const f=oo(`${I.uid}:::`);return I._redirectEventId=f,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),f})).apply(this,arguments)}class Uo{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(f,S)&&(g=!0,this.sendToConsumer(f,S),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function wo(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return as(I);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var S;if(f.error&&!as(f)){const Y=(null===(S=f.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";g.onError(st(this.auth,Y))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const S=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&S}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jo(f))}saveEventToCache(f){this.cachedEventUids.add(jo(f)),this.lastProcessedEventTime=Date.now()}}function jo(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(f=>f).join("-")}function as({type:I,error:f}){return"unknown"===I&&"auth/no-auth-event"===f?.code}function ea(I){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,a.Z)(function*(I,f={}){return gt(I,"GET","/v1/projects",f)})).apply(this,arguments)}const Od=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pa=/^https?/;function Bc(){return(Bc=(0,a.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:f}=yield ea(I);for(const g of f)try{if(tg(g))return}catch{}J(I,"unauthorized-domain")})).apply(this,arguments)}function tg(I){const f=ct(),{protocol:g,hostname:S}=new URL(f);if(I.startsWith("chrome-extension://")){const mt=new URL(I);return""===mt.hostname&&""===S?"chrome-extension:"===g&&I.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&mt.hostname===S}if(!pa.test(g))return!1;if(Od.test(I))return S===I;const Y=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Y+"|"+Y+")$","i").test(S)}const Rd=new qe(3e4,6e4);function Tl(){const I=ci().___jsl;if(I?.H)for(const f of Object.keys(I.H))if(I.H[f].r=I.H[f].r||[],I.H[f].L=I.H[f].L||[],I.H[f].r=[...I.H[f].L],I.CP)for(let g=0;g<I.CP.length;g++)I.CP[g]=null}let us=null;function Pd(I){return us=us||function lf(I){return new Promise((f,g)=>{var S,Y,pe;function mt(){Tl(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Tl(),g(st(I,"network-request-failed"))},timeout:Rd.get()})}if(null!==(Y=null===(S=ci().gapi)||void 0===S?void 0:S.iframes)&&void 0!==Y&&Y.Iframe)f(gapi.iframes.getContext());else{if(null===(pe=ci().gapi)||void 0===pe||!pe.load){const Kt=uo("iframefcb");return ci()[Kt]=()=>{gapi.load?mt():g(st(I,"network-request-failed"))},La(`https://apis.google.com/js/api.js?onload=${Kt}`).catch(Nn=>g(Nn))}mt()}}).catch(f=>{throw us=null,f})}(I),us}const wi=new qe(5e3,15e3),ou={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Uc(I){const f=I.config;Ae(f.authDomain,I,"auth-domain-config-required");const g=f.emulator?Me(f,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,S={apiKey:f.apiKey,appName:I.name,v:V.SDK_VERSION},Y=Nd.get(I.config.apiHost);Y&&(S.eid=Y);const pe=I._getFrameworks();return pe.length&&(S.fw=pe.join(",")),`${g}?${(0,U.xO)(S).slice(1)}`}function ic(){return ic=(0,a.Z)(function*(I){const f=yield Pd(I),g=ci().gapi;return Ae(g,I,"internal-error"),f.open({where:document.body,url:Uc(I),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ou,dontclear:!0},S=>new Promise(function(){var Y=(0,a.Z)(function*(pe,mt){yield S.restyle({setHideOnLeave:!1});const Kt=st(I,"network-request-failed"),Nn=ci().setTimeout(()=>{mt(Kt)},wi.get());function Zn(){ci().clearTimeout(Nn),pe(S)}S.ping(Zn).then(Zn,()=>{mt(Kt)})});return function(pe,mt){return Y.apply(this,arguments)}}()))}),ic.apply(this,arguments)}const jc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class au{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sc(I,f,g,S,Y,pe){Ae(I.config.authDomain,I,"auth-domain-config-required"),Ae(I.config.apiKey,I,"invalid-api-key");const mt={apiKey:I.config.apiKey,appName:I.name,authType:g,redirectUrl:S,v:V.SDK_VERSION,eventId:Y};if(f instanceof Li){f.setDefaultLanguage(I.languageCode),mt.providerId=f.providerId||"",(0,U.xb)(f.getCustomParameters())||(mt.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Nn,Zn]of Object.entries(pe||{}))mt[Nn]=Zn}if(f instanceof Os){const Nn=f.getScopes().filter(Zn=>""!==Zn);Nn.length>0&&(mt.scopes=Nn.join(","))}I.tenantId&&(mt.tid=I.tenantId);const Kt=mt;for(const Nn of Object.keys(Kt))void 0===Kt[Nn]&&delete Kt[Nn];return`${function ma({config:I}){return I.emulator?Me(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,U.xO)(Kt).slice(1)}`}const ya="webStorageSupport",zc=class Ld{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ra,this._completeRedirectFn=Ui,this._overrideRedirectResult=Te}_openPopup(f,g,S,Y){var pe=this;return(0,a.Z)(function*(){var mt;Ie(null===(mt=pe.eventManagers[f._key()])||void 0===mt?void 0:mt.manager,"_initialize() not called before _openPopup()");const Kt=sc(f,g,S,ct(),Y);return function Fd(I,f,g,S=500,Y=600){const pe=Math.max((window.screen.availHeight-Y)/2,0).toString(),mt=Math.max((window.screen.availWidth-S)/2,0).toString();let Kt="";const Nn=Object.assign(Object.assign({},jc),{width:S.toString(),height:Y.toString(),top:pe,left:mt}),Zn=(0,U.z$)().toLowerCase();g&&(Kt=Rt(Zn)?"_blank":g),He(Zn)&&(f=f||"http://localhost",Nn.scrollbars="yes");const Ar=Object.entries(Nn).reduce((Bs,[va,ac])=>`${Bs}${va}=${ac},`,"");if(function Fe(I=(0,U.z$)()){var f;return ke(I)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(Zn)&&"_self"!==Kt)return function df(I,f){const g=document.createElement("a");g.href=I,g.target=f;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(S)}(f||"",Kt),new au(null);const jr=window.open(f||"",Kt,Ar);Ae(jr,I,"popup-blocked");try{jr.focus()}catch{}return new au(jr)}(f,Kt,oo())})()}_openRedirect(f,g,S,Y){var pe=this;return(0,a.Z)(function*(){return yield pe._originValidation(f),function Xu(I){ci().location.href=I}(sc(f,g,S,ct(),Y)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:Y,promise:pe}=this.eventManagers[g];return Y?Promise.resolve(Y):(Ie(pe,"If manager is not set, promise should be"),pe)}const S=this.initAndGetManager(f);return this.eventManagers[g]={promise:S},S.catch(()=>{delete this.eventManagers[g]}),S}initAndGetManager(f){var g=this;return(0,a.Z)(function*(){const S=yield function rc(I){return ic.apply(this,arguments)}(f),Y=new Uo(f);return S.register("authEvent",pe=>(Ae(pe?.authEvent,f,"invalid-auth-event"),{status:Y.onEvent(pe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:Y},g.iframes[f._key()]=S,Y})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(ya,{type:ya},Y=>{var pe;const mt=null===(pe=Y?.[0])||void 0===pe?void 0:pe[ya];void 0!==mt&&g(!!mt),J(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function ga(I){return Bc.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Zt()||Se()||ke()}};class Ho extends class Vd{constructor(f){this.factorId=f}_process(f,g,S){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,S);case"signin":return this._finalizeSignIn(f,g.credential);default:return Re("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ho(f)}_finalizeEnroll(f,g,S){return function To(I,f){return gt(I,"POST","/v2/accounts/mfaEnrollment:finalize",Lt(I,f))}(f,{idToken:g,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Fa(I,f){return gt(I,"POST","/v2/accounts/mfaSignIn:finalize",Lt(I,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Bd=(()=>{class I{constructor(){}static assertion(g){return Ho._fromCredential(g)}}return I.FACTOR_ID="phone",I})();var uu="@firebase/auth";class ta{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,a.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(S=>{var Y;f((null===(Y=S)||void 0===Y?void 0:Y.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oc(I=(0,V.getApp)()){const f=(0,V._getProvider)(I,"auth");return f.isInitialized()?f.getImmediate():function he(I,f){const g=(0,V._getProvider)(I,"auth");if(g.isInitialized()){const Y=g.getImmediate(),pe=g.getOptions();if((0,U.vZ)(pe,f??{}))return Y;J(Y,"already-initialized")}return g.initialize({options:f})}(I,{popupRedirectResolver:zc,persistence:[to,Wi,Ra]})}!function Ol(I){(0,V._registerComponent)(new se.wA("auth",(f,{options:g})=>{const S=f.getProvider("app").getImmediate(),Y=f.getProvider("heartbeat"),{apiKey:pe,authDomain:mt}=S.options;return((Kt,Nn)=>{Ae(pe&&!pe.includes(":"),"invalid-api-key",{appName:Kt.name}),Ae(!mt?.includes(":"),"argument-error",{appName:Kt.name});const Zn={apiKey:pe,authDomain:mt,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mr(I)},Ar=new be(Kt,Nn,Zn);return function ne(I,f){const g=f?.persistence||[],S=(Array.isArray(g)?g:[g]).map(q);f?.errorMap&&I._updateErrorMap(f.errorMap),I._initializeWithPersistence(S,f?.popupRedirectResolver)}(Ar,g),Ar})(S,Y)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,S)=>{f.getProvider("auth-internal").initialize()})),(0,V._registerComponent)(new se.wA("auth-internal",f=>{const g=Ce(f.getProvider("auth").getImmediate());return new ta(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,V.registerVersion)(uu,"0.20.5",function cu(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,V.registerVersion)(uu,"0.20.5","esm2017")}("Browser")},2090:(Qt,at,P)=>{"use strict";P.d(at,{$s:()=>Lr,BH:()=>ue,G6:()=>Ae,L:()=>le,LL:()=>ct,Mn:()=>St,Sg:()=>$e,UG:()=>Ve,US:()=>se,ZB:()=>K,ZR:()=>ne,b$:()=>J,d:()=>st,eu:()=>Ie,hl:()=>Re,jU:()=>De,m9:()=>bn,ne:()=>bt,pd:()=>sn,r3:()=>Lt,ru:()=>ht,tV:()=>ie,uI:()=>ae,vZ:()=>Dn,w1:()=>wt,xO:()=>Rn,xb:()=>Yt,z$:()=>Be,zI:()=>ye,zd:()=>xr});const ve=function(Ze){const Ne=[];let xe=0;for(let Le=0;Le<Ze.length;Le++){let Ue=Ze.charCodeAt(Le);Ue<128?Ne[xe++]=Ue:Ue<2048?(Ne[xe++]=Ue>>6|192,Ne[xe++]=63&Ue|128):55296==(64512&Ue)&&Le+1<Ze.length&&56320==(64512&Ze.charCodeAt(Le+1))?(Ue=65536+((1023&Ue)<<10)+(1023&Ze.charCodeAt(++Le)),Ne[xe++]=Ue>>18|240,Ne[xe++]=Ue>>12&63|128,Ne[xe++]=Ue>>6&63|128,Ne[xe++]=63&Ue|128):(Ne[xe++]=Ue>>12|224,Ne[xe++]=Ue>>6&63|128,Ne[xe++]=63&Ue|128)}return Ne},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ze,Ne){if(!Array.isArray(Ze))throw Error("encodeByteArray takes an array as a parameter");this.init_();const xe=Ne?this.byteToCharMapWebSafe_:this.byteToCharMap_,Le=[];for(let Ue=0;Ue<Ze.length;Ue+=3){const Tt=Ze[Ue],jt=Ue+1<Ze.length,pn=jt?Ze[Ue+1]:0,Gn=Ue+2<Ze.length,$n=Gn?Ze[Ue+2]:0;let He=(15&pn)<<2|$n>>6,Se=63&$n;Gn||(Se=64,jt||(He=64)),Le.push(xe[Tt>>2],xe[(3&Tt)<<4|pn>>4],xe[He],xe[Se])}return Le.join("")},encodeString(Ze,Ne){return this.HAS_NATIVE_SUPPORT&&!Ne?btoa(Ze):this.encodeByteArray(ve(Ze),Ne)},decodeString(Ze,Ne){return this.HAS_NATIVE_SUPPORT&&!Ne?atob(Ze):function(Ze){const Ne=[];let xe=0,Le=0;for(;xe<Ze.length;){const Ue=Ze[xe++];if(Ue<128)Ne[Le++]=String.fromCharCode(Ue);else if(Ue>191&&Ue<224){const Tt=Ze[xe++];Ne[Le++]=String.fromCharCode((31&Ue)<<6|63&Tt)}else if(Ue>239&&Ue<365){const Gn=((7&Ue)<<18|(63&Ze[xe++])<<12|(63&Ze[xe++])<<6|63&Ze[xe++])-65536;Ne[Le++]=String.fromCharCode(55296+(Gn>>10)),Ne[Le++]=String.fromCharCode(56320+(1023&Gn))}else{const Tt=Ze[xe++],jt=Ze[xe++];Ne[Le++]=String.fromCharCode((15&Ue)<<12|(63&Tt)<<6|63&jt)}}return Ne.join("")}(this.decodeStringToByteArray(Ze,Ne))},decodeStringToByteArray(Ze,Ne){this.init_();const xe=Ne?this.charToByteMapWebSafe_:this.charToByteMap_,Le=[];for(let Ue=0;Ue<Ze.length;){const Tt=xe[Ze.charAt(Ue++)],pn=Ue<Ze.length?xe[Ze.charAt(Ue)]:0;++Ue;const $n=Ue<Ze.length?xe[Ze.charAt(Ue)]:64;++Ue;const it=Ue<Ze.length?xe[Ze.charAt(Ue)]:64;if(++Ue,null==Tt||null==pn||null==$n||null==it)throw Error();Le.push(Tt<<2|pn>>4),64!==$n&&(Le.push(pn<<4&240|$n>>2),64!==it&&Le.push($n<<6&192|it))}return Le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ze=0;Ze<this.ENCODED_VALS.length;Ze++)this.byteToCharMap_[Ze]=this.ENCODED_VALS.charAt(Ze),this.charToByteMap_[this.byteToCharMap_[Ze]]=Ze,this.byteToCharMapWebSafe_[Ze]=this.ENCODED_VALS_WEBSAFE.charAt(Ze),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ze]]=Ze,Ze>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ze)]=Ze,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ze)]=Ze)}}},le=function(Ze){return function(Ze){const Ne=ve(Ze);return se.encodeByteArray(Ne,!0)}(Ze).replace(/\./g,"")},ie=function(Ze){try{return se.decodeString(Ze,!0)}catch(Ne){console.error("base64Decode failed: ",Ne)}return null};function K(Ze,Ne){if(!(Ne instanceof Object))return Ne;switch(Ne.constructor){case Date:return new Date(Ne.getTime());case Object:void 0===Ze&&(Ze={});break;case Array:Ze=[];break;default:return Ne}for(const xe in Ne)!Ne.hasOwnProperty(xe)||!de(xe)||(Ze[xe]=K(Ze[xe],Ne[xe]));return Ze}function de(Ze){return"__proto__"!==Ze}class ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ne,xe)=>{this.resolve=Ne,this.reject=xe})}wrapCallback(Ne){return(xe,Le)=>{xe?this.reject(xe):this.resolve(Le),"function"==typeof Ne&&(this.promise.catch(()=>{}),1===Ne.length?Ne(xe):Ne(xe,Le))}}}function $e(Ze,Ne){if(Ze.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Le=Ne||"demo-project",Ue=Ze.iat||0,Tt=Ze.sub||Ze.user_id;if(!Tt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const jt=Object.assign({iss:`https://securetoken.google.com/${Le}`,aud:Le,iat:Ue,exp:Ue+3600,auth_time:Ue,sub:Tt,user_id:Tt,firebase:{sign_in_provider:"custom",identities:{}}},Ze);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(jt)),""].join(".")}function Be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ae(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function Ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function De(){return"object"==typeof self&&self.self===self}function ht(){const Ze="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ze&&void 0!==Ze.id}function J(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function st(){return Be().indexOf("Electron/")>=0}function wt(){const Ze=Be();return Ze.indexOf("MSIE ")>=0||Ze.indexOf("Trident/")>=0}function St(){return Be().indexOf("MSAppHost/")>=0}function Ae(){return!Ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Re(){return"object"==typeof indexedDB}function Ie(){return new Promise((Ze,Ne)=>{try{let xe=!0;const Le="validate-browser-context-for-indexeddb-analytics-module",Ue=self.indexedDB.open(Le);Ue.onsuccess=()=>{Ue.result.close(),xe||self.indexedDB.deleteDatabase(Le),Ze(!0)},Ue.onupgradeneeded=()=>{xe=!1},Ue.onerror=()=>{var Tt;Ne((null===(Tt=Ue.error)||void 0===Tt?void 0:Tt.message)||"")}}catch(xe){Ne(xe)}})}function ye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ne extends Error{constructor(Ne,xe,Le){super(xe),this.code=Ne,this.customData=Le,this.name="FirebaseError",Object.setPrototypeOf(this,ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ct.prototype.create)}}class ct{constructor(Ne,xe,Le){this.service=Ne,this.serviceName=xe,this.errors=Le}create(Ne,...xe){const Le=xe[0]||{},Ue=`${this.service}/${Ne}`,Tt=this.errors[Ne],jt=Tt?function pt(Ze,Ne){return Ze.replace(Vt,(xe,Le)=>{const Ue=Ne[Le];return null!=Ue?String(Ue):`<${Le}?>`})}(Tt,Le):"Error";return new ne(Ue,`${this.serviceName}: ${jt} (${Ue}).`,Le)}}const Vt=/\{\$([^}]+)}/g;function Lt(Ze,Ne){return Object.prototype.hasOwnProperty.call(Ze,Ne)}function Yt(Ze){for(const Ne in Ze)if(Object.prototype.hasOwnProperty.call(Ze,Ne))return!1;return!0}function Dn(Ze,Ne){if(Ze===Ne)return!0;const xe=Object.keys(Ze),Le=Object.keys(Ne);for(const Ue of xe){if(!Le.includes(Ue))return!1;const Tt=Ze[Ue],jt=Ne[Ue];if(wn(Tt)&&wn(jt)){if(!Dn(Tt,jt))return!1}else if(Tt!==jt)return!1}for(const Ue of Le)if(!xe.includes(Ue))return!1;return!0}function wn(Ze){return null!==Ze&&"object"==typeof Ze}function Rn(Ze){const Ne=[];for(const[xe,Le]of Object.entries(Ze))Array.isArray(Le)?Le.forEach(Ue=>{Ne.push(encodeURIComponent(xe)+"="+encodeURIComponent(Ue))}):Ne.push(encodeURIComponent(xe)+"="+encodeURIComponent(Le));return Ne.length?"&"+Ne.join("&"):""}function xr(Ze){const Ne={};return Ze.replace(/^\?/,"").split("&").forEach(Le=>{if(Le){const[Ue,Tt]=Le.split("=");Ne[decodeURIComponent(Ue)]=decodeURIComponent(Tt)}}),Ne}function sn(Ze){const Ne=Ze.indexOf("?");if(!Ne)return"";const xe=Ze.indexOf("#",Ne);return Ze.substring(Ne,xe>0?xe:void 0)}function bt(Ze,Ne){const xe=new Fn(Ze,Ne);return xe.subscribe.bind(xe)}class Fn{constructor(Ne,xe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=xe,this.task.then(()=>{Ne(this)}).catch(Le=>{this.error(Le)})}next(Ne){this.forEachObserver(xe=>{xe.next(Ne)})}error(Ne){this.forEachObserver(xe=>{xe.error(Ne)}),this.close(Ne)}complete(){this.forEachObserver(Ne=>{Ne.complete()}),this.close()}subscribe(Ne,xe,Le){let Ue;if(void 0===Ne&&void 0===xe&&void 0===Le)throw new Error("Missing Observer.");Ue=function nr(Ze,Ne){if("object"!=typeof Ze||null===Ze)return!1;for(const xe of Ne)if(xe in Ze&&"function"==typeof Ze[xe])return!0;return!1}(Ne,["next","error","complete"])?Ne:{next:Ne,error:xe,complete:Le},void 0===Ue.next&&(Ue.next=Ut),void 0===Ue.error&&(Ue.error=Ut),void 0===Ue.complete&&(Ue.complete=Ut);const Tt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ue.error(this.finalError):Ue.complete()}catch{}}),this.observers.push(Ue),Tt}unsubscribeOne(Ne){void 0===this.observers||void 0===this.observers[Ne]||(delete this.observers[Ne],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ne){if(!this.finalized)for(let xe=0;xe<this.observers.length;xe++)this.sendOne(xe,Ne)}sendOne(Ne,xe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ne])try{xe(this.observers[Ne])}catch(Le){typeof console<"u"&&console.error&&console.error(Le)}})}close(Ne){this.finalized||(this.finalized=!0,void 0!==Ne&&(this.finalError=Ne),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ut(){}function Lr(Ze,Ne=1e3,xe=2){const Le=Ne*Math.pow(xe,Ze),Ue=Math.round(.5*Le*(Math.random()-.5)*2);return Math.min(144e5,Le+Ue)}function bn(Ze){return Ze&&Ze._delegate?Ze._delegate:Ze}},9928:(Qt,at,P)=>{"use strict";P.d(at,{Br:()=>Qi,dr:()=>nr,YG:()=>en,Sm:()=>hn,PM:()=>hr,FN:()=>_r,Zi:()=>ir,wI:()=>kn,W2:()=>bn,IJ:()=>xe,W4:()=>Le,jY:()=>jt,Gu:()=>pn,gu:()=>Gn,Xz:()=>$n,pK:()=>He,Ie:()=>Se,Q$:()=>ke,q_:()=>we,yh:()=>Fe,z0:()=>Je,fG:()=>Zt,zc:()=>Cn,jP:()=>ii,Nd:()=>Sn,t9:()=>ai,n0:()=>lr,jI:()=>ge,wd:()=>Ot,sr:()=>Ft,Pc:()=>ps,r4:()=>mo,HT:()=>Ri,IN:()=>fs,as:()=>Ln,YI:()=>Hs,QI:()=>wn,j9:()=>yn,yF:()=>zi});var a=P(6353),U=P(4719),V=P(655),ve=P(3753),_e=P(8929),se=P(591),oe=P(1519),K=(P(4181),P(5980),P(3139),P(5729)),de=P(3756),ue=P(9753),Be=(P(97),P(3280)),Ve=(P(3509),P(7205)),St=P(2198),Qe=P(7545),Ae=P(5778),Re=P(6895);const ye=K.i,ne=["*"],qe=y=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(y):"function"==typeof requestAnimationFrame?requestAnimationFrame(y):setTimeout(y),Me=y=>!!y.resolveComponentFactory;let Ge=(()=>{class y{constructor(p,k){this.injector=p,this.el=k,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(p){this.el.nativeElement.value=this.lastValue=p??"",je(this.el)}handleChangeEvent(p,k){p===this.el.nativeElement&&(k!==this.lastValue&&(this.lastValue=k,this.onChange(k)),je(this.el))}_handleBlurEvent(p){p===this.el.nativeElement&&(this.onTouched(),je(this.el))}registerOnChange(p){this.onChange=p}registerOnTouched(p){this.onTouched=p}setDisabledState(p){this.el.nativeElement.disabled=p}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let p;try{p=this.injector.get(U.a5)}catch{}if(!p)return;p.statusChanges&&(this.statusChanges=p.statusChanges.subscribe(()=>je(this.el)));const k=p.control;k&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(xt=>{if(typeof k[xt]<"u"){const qt=k[xt].bind(k);k[xt]=(...gn)=>{qt(...gn),je(this.el)}}})}}return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.zs3),a.Y36(a.SBq))},y.\u0275dir=a.lG2({type:y,hostBindings:function(p,k){1&p&&a.NdJ("ionBlur",function(xt){return k._handleBlurEvent(xt.target)})}}),y})();const je=y=>{qe(()=>{const B=y.nativeElement,p=null!=B.value&&B.value.toString().length>0,k=ft(B);Lt(B,k);const re=B.closest("ion-item");re&&Lt(re,p?[...k,"item-has-value"]:k)})},ft=y=>{const B=y.classList,p=[];for(let k=0;k<B.length;k++){const re=B.item(k);null!==re&&gt(re,"ng-")&&p.push(`ion-${re.substring(3)}`)}return p},Lt=(y,B)=>{const p=y.classList;p.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),p.add(...B)},gt=(y,B)=>y.substring(0,B.length)===B;let Ln=(()=>{class y extends Ge{constructor(p,k){super(p,k)}_handleIonChange(p){this.handleChangeEvent(p,p.value)}registerOnChange(p){super.registerOnChange(k=>{p(""===k?null:parseFloat(k))})}}return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.zs3),a.Y36(a.SBq))},y.\u0275dir=a.lG2({type:y,selectors:[["ion-input","type","number"]],hostBindings:function(p,k){1&p&&a.NdJ("ionChange",function(xt){return k._handleIonChange(xt.target)})},features:[a._Bn([{provide:U.JU,useExisting:y,multi:!0}]),a.qOj]}),y})(),wn=(()=>{class y extends Ge{constructor(p,k){super(p,k)}_handleChangeEvent(p){this.handleChangeEvent(p,p.value)}}return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.zs3),a.Y36(a.SBq))},y.\u0275dir=a.lG2({type:y,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(p,k){1&p&&a.NdJ("ionChange",function(xt){return k._handleChangeEvent(xt.target)})},features:[a._Bn([{provide:U.JU,useExisting:y,multi:!0}]),a.qOj]}),y})(),yn=(()=>{class y extends Ge{constructor(p,k){super(p,k)}_handleInputEvent(p){this.handleChangeEvent(p,p.value)}}return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.zs3),a.Y36(a.SBq))},y.\u0275dir=a.lG2({type:y,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(p,k){1&p&&a.NdJ("ionChange",function(xt){return k._handleInputEvent(xt.target)})},features:[a._Bn([{provide:U.JU,useExisting:y,multi:!0}]),a.qOj]}),y})();const Rn=(y,B)=>{const p=y.prototype;B.forEach(k=>{Object.defineProperty(p,k,{get(){return this.el[k]},set(re){this.z.runOutsideAngular(()=>this.el[k]=re)}})})},xr=(y,B)=>{const p=y.prototype;B.forEach(k=>{p[k]=function(){const re=arguments;return this.z.runOutsideAngular(()=>this.el[k].apply(this.el,re))}})},sn=(y,B,p)=>{p.forEach(k=>y[k]=(0,ve.R)(B,k))};function bt(y){return function(p){const{defineCustomElementFn:k,inputs:re,methods:xt}=y;return void 0!==k&&k(),re&&Rn(p,re),xt&&xr(p,xt),p}}let nr=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-app"]],ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0})],y),y})(),en=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement,sn(this,this.el,["ionFocus","ionBlur"])}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],y),y})(),hn=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["collapse"]})],y),y})(),hr=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],y),y})(),_r=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["mode"]})],y),y})(),ir=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],y),y})(),kn=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],y),y})(),bn=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement,sn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],y),y})(),xe=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-fab"]],inputs:{activated:"activated",edge:"edge",horizontal:"horizontal",vertical:"vertical"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["activated","edge","horizontal","vertical"],methods:["close"]})],y),y})(),Le=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement,sn(this,this.el,["ionFocus","ionBlur"])}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],y),y})(),jt=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["fixed"]})],y),y})(),pn=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],y),y})(),Gn=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],y),y})(),$n=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement,sn(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["alt","src"]})],y),y})(),He=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement,sn(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],y),y})(),Se=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],y),y})(),ke=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],y),y})(),we=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],y),y})(),Fe=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-list-header"]],inputs:{color:"color",lines:"lines",mode:"mode"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["color","lines","mode"]})],y),y})(),Je=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement,sn(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],y),y})(),Zt=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["autoHide","color","disabled","menu","mode","type"]})],y),y})(),Cn=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["autoHide","menu"]})],y),y})(),Sn=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-row"]],ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0})],y),y})(),ai=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement,sn(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],y),y})(),lr=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],y),y})(),ge=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement,sn(this,this.el,["ionSplitPaneVisible"])}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-split-pane"]],inputs:{contentId:"contentId",disabled:"disabled",when:"when"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["contentId","disabled","when"]})],y),y})(),Ot=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["color","size"]})],y),y})(),Ft=(()=>{let y=class{constructor(p,k,re){this.z=re,p.detach(),this.el=k.nativeElement}};return y.\u0275fac=function(p){return new(p||y)(a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(a.R0b))},y.\u0275cmp=a.Xpm({type:y,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:ne,decls:1,vars:0,template:function(p,k){1&p&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),y=(0,V.gn)([bt({defineCustomElementFn:void 0,inputs:["color","mode"]})],y),y})();class cn{constructor(B={}){this.data=B}get(B){return this.data[B]}}let vn=(()=>{class y{constructor(p,k){this.zone=p,this.appRef=k}create(p,k,re){return new jn(p,k,re,this.appRef,this.zone)}}return y.\u0275fac=function(p){return new(p||y)(a.LFG(a.R0b),a.LFG(a.z2F))},y.\u0275prov=a.Yz7({token:y,factory:y.\u0275fac}),y})();class jn{constructor(B,p,k,re,xt){this.resolverOrInjector=B,this.injector=p,this.location=k,this.appRef=re,this.zone=xt,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(B,p,k,re){return this.zone.run(()=>new Promise(xt=>{xt(Ir(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,B,p,k,re))}))}removeViewFromDom(B,p){return this.zone.run(()=>new Promise(k=>{const re=this.elRefMap.get(p);if(re){re.destroy(),this.elRefMap.delete(p);const xt=this.elEventsMap.get(p);xt&&(xt(),this.elEventsMap.delete(p))}k()}))}}const Ir=(y,B,p,k,re,xt,qt,gn,F,R,O)=>{let Z;const vt=a.zs3.create({providers:_t(R),parent:p});if(B&&Me(B)){const kr=B.resolveComponentFactory(F);Z=k?k.createComponent(kr,k.length,vt):kr.create(vt)}else{if(!k)return null;Z=k.createComponent(F,{index:k.indexOf,injector:vt,environmentInjector:B})}const En=Z.instance,Pr=Z.location.nativeElement;if(R&&Object.assign(En,R),O)for(const kr of O)Pr.classList.add(kr);const Hr=et(y,En,Pr);return gn.appendChild(Pr),k||re.attachView(Z.hostView),Z.changeDetectorRef.reattach(),xt.set(Pr,Z),qt.set(Pr,Hr),Pr},Sr=[ue.L,ue.a,ue.b,ue.c,ue.d],et=(y,B,p)=>y.run(()=>{const k=Sr.filter(re=>"function"==typeof B[re]).map(re=>{const xt=qt=>B[re](qt.detail);return p.addEventListener(re,xt),()=>p.removeEventListener(re,xt)});return()=>k.forEach(re=>re())}),Ke=new a.OlP("NavParamsToken"),_t=y=>[{provide:Ke,useValue:y},{provide:cn,useFactory:Nt,deps:[Ke]}],Nt=y=>new cn(y),un=(y,B)=>((y=y.filter(p=>p.stackId!==B.stackId)).push(B),y),yr=(y,B)=>{const p=y.createUrlTree(["."],{relativeTo:B});return y.serializeUrl(p)},ls=(y,B)=>{if(!y)return;const p=Oi(B);for(let k=0;k<p.length;k++){if(k>=y.length)return p[k];if(p[k]!==y[k])return}},Oi=y=>y.split("/").map(B=>B.trim()).filter(B=>""!==B),Us=y=>{y&&(y.ref.destroy(),y.unlistenEvents())};class ds{constructor(B,p,k,re,xt,qt){this.containerEl=p,this.router=k,this.navCtrl=re,this.zone=xt,this.location=qt,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==B?Oi(B):void 0}createView(B,p){var k;const re=yr(this.router,p),xt=null===(k=B?.location)||void 0===k?void 0:k.nativeElement,qt=et(this.zone,B.instance,xt);return{id:this.nextId++,stackId:ls(this.tabsPrefix,re),unlistenEvents:qt,element:xt,ref:B,url:re}}getExistingView(B){const p=yr(this.router,B),k=this.views.find(re=>re.url===p);return k&&k.ref.changeDetectorRef.reattach(),k}setActive(B){var p,k;const re=this.navCtrl.consumeTransition();let{direction:xt,animation:qt,animationBuilder:gn}=re;const F=this.activeView,R=((y,B)=>!B||y.stackId!==B.stackId)(B,F);R&&(xt="back",qt=void 0);const O=this.views.slice();let Z;const vt=this.router;vt.getCurrentNavigation?Z=vt.getCurrentNavigation():!(null===(p=vt.navigations)||void 0===p)&&p.value&&(Z=vt.navigations.value),null!==(k=Z?.extras)&&void 0!==k&&k.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const En=this.views.includes(B),Pr=this.insertView(B,xt);En||B.ref.changeDetectorRef.detectChanges();const Hr=B.animationBuilder;return void 0===gn&&"back"===xt&&!R&&void 0!==Hr&&(gn=Hr),F&&(F.animationBuilder=gn),this.zone.runOutsideAngular(()=>this.wait(()=>(F&&F.ref.changeDetectorRef.detach(),B.ref.changeDetectorRef.reattach(),this.transition(B,F,qt,this.canGoBack(1),!1,gn).then(()=>bs(B,Pr,O,this.location,this.zone)).then(()=>({enteringView:B,direction:xt,animation:qt,tabSwitch:R})))))}canGoBack(B,p=this.getActiveStackId()){return this.getStack(p).length>B}pop(B,p=this.getActiveStackId()){return this.zone.run(()=>{var k,re;const xt=this.getStack(p);if(xt.length<=B)return Promise.resolve(!1);const qt=xt[xt.length-B-1];let gn=qt.url;const F=qt.savedData;if(F){const O=F.get("primary");null!==(re=null===(k=O?.route)||void 0===k?void 0:k._routerState)&&void 0!==re&&re.snapshot.url&&(gn=O.route._routerState.snapshot.url)}const{animationBuilder:R}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(gn,Object.assign(Object.assign({},qt.savedExtras),{animation:R})).then(()=>!0)})}startBackTransition(){const B=this.activeView;if(B){const p=this.getStack(B.stackId),k=p[p.length-2],re=k.animationBuilder;return this.wait(()=>this.transition(k,B,"back",this.canGoBack(2),!0,re))}return Promise.resolve()}endBackTransition(B){B?(this.skipTransition=!0,this.pop(1)):this.activeView&&Ms(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(B){const p=this.getStack(B);return p.length>0?p[p.length-1]:void 0}getRootUrl(B){const p=this.getStack(B);return p.length>0?p[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Us),this.activeView=void 0,this.views=[]}getStack(B){return this.views.filter(p=>p.stackId===B)}insertView(B,p){return this.activeView=B,this.views=((y,B,p)=>"root"===p?un(y,B):"forward"===p?((y,B)=>(y.indexOf(B)>=0?y=y.filter(k=>k.stackId!==B.stackId||k.id<=B.id):y.push(B),y))(y,B):((y,B)=>y.indexOf(B)>=0?y.filter(k=>k.stackId!==B.stackId||k.id<=B.id):un(y,B))(y,B))(this.views,B,p),this.views.slice()}transition(B,p,k,re,xt,qt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(p===B)return Promise.resolve(!1);const gn=B?B.element:void 0,F=p?p.element:void 0,R=this.containerEl;return gn&&gn!==F&&(gn.classList.add("ion-page"),gn.classList.add("ion-page-invisible"),gn.parentElement!==R&&R.appendChild(gn),R.commit)?R.commit(gn,F,{deepWait:!0,duration:void 0===k?0:void 0,direction:k,showGoBack:re,progressAnimation:xt,animationBuilder:qt}):Promise.resolve(!1)}wait(B){return(0,V.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const p=this.runningTask=B();return p.finally(()=>this.runningTask=void 0),p})}}const bs=(y,B,p,k,re)=>"function"==typeof requestAnimationFrame?new Promise(xt=>{requestAnimationFrame(()=>{Ms(y,B,p,k,re),xt()})}):Promise.resolve(),Ms=(y,B,p,k,re)=>{re.run(()=>p.filter(xt=>!B.includes(xt)).forEach(Us)),B.forEach(xt=>{const gn=k.path().split("?")[0].split("#")[0];if(xt!==y&&xt.url!==gn){const F=xt.element;F.setAttribute("aria-hidden","true"),F.classList.add("ion-page-hidden"),xt.ref.changeDetectorRef.detach()}})};let Hi=(()=>{class y{get(p,k){const re=Os();return re?re.get(p,k):null}getBoolean(p,k){const re=Os();return!!re&&re.getBoolean(p,k)}getNumber(p,k){const re=Os();return re?re.getNumber(p,k):0}}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=a.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const Li=new a.OlP("USERCONFIG"),Os=()=>{if(typeof window<"u"){const y=window.Ionic;if(y?.config)return y.config}return null};let hs=(()=>{class y{constructor(p,k){this.doc=p,this.backButton=new _e.xQ,this.keyboardDidShow=new _e.xQ,this.keyboardDidHide=new _e.xQ,this.pause=new _e.xQ,this.resume=new _e.xQ,this.resize=new _e.xQ,k.run(()=>{var re;let xt;this.win=p.defaultView,this.backButton.subscribeWithPriority=function(qt,gn){return this.subscribe(F=>F.register(qt,R=>k.run(()=>gn(R))))},Gi(this.pause,p,"pause"),Gi(this.resume,p,"resume"),Gi(this.backButton,p,"ionBackButton"),Gi(this.resize,this.win,"resize"),Gi(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Gi(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(qt=>{xt=qt}),null!==(re=this.win)&&void 0!==re&&re.cordova?p.addEventListener("deviceready",()=>{xt("cordova")},{once:!0}):xt("dom")})}is(p){return(0,K.a)(this.win,p)}platforms(){return(0,K.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(p){return qi(this.win.location.href,p)}isLandscape(){return!this.isPortrait()}isPortrait(){var p,k;return null===(k=(p=this.win).matchMedia)||void 0===k?void 0:k.call(p,"(orientation: portrait)").matches}testUserAgent(p){const k=this.win.navigator;return!!(k?.userAgent&&k.userAgent.indexOf(p)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return y.\u0275fac=function(p){return new(p||y)(a.LFG(Re.K0),a.LFG(a.R0b))},y.\u0275prov=a.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const qi=(y,B)=>{B=B.replace(/[[\]\\]/g,"\\$&");const k=new RegExp("[\\?&]"+B+"=([^&#]*)").exec(y);return k?decodeURIComponent(k[1].replace(/\+/g," ")):null},Gi=(y,B,p)=>{B&&B.addEventListener(p,k=>{y.next(k?.detail)})};let Zi=(()=>{class y{constructor(p,k,re,xt){this.location=k,this.serializer=re,this.router=xt,this.direction=rs,this.animated=go,this.guessDirection="forward",this.lastNavId=-1,xt&&xt.events.subscribe(qt=>{if(qt instanceof oe.OD){const gn=qt.restoredState?qt.restoredState.navigationId:qt.id;this.guessDirection=gn<this.lastNavId?"back":"forward",this.guessAnimation=qt.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?qt.id:gn}}),p.backButton.subscribeWithPriority(0,qt=>{this.pop(),qt()})}navigateForward(p,k={}){return this.setDirection("forward",k.animated,k.animationDirection,k.animation),this.navigate(p,k)}navigateBack(p,k={}){return this.setDirection("back",k.animated,k.animationDirection,k.animation),this.navigate(p,k)}navigateRoot(p,k={}){return this.setDirection("root",k.animated,k.animationDirection,k.animation),this.navigate(p,k)}back(p={animated:!0,animationDirection:"back"}){return this.setDirection("back",p.animated,p.animationDirection,p.animation),this.location.back()}pop(){return(0,V.mG)(this,void 0,void 0,function*(){let p=this.topOutlet;for(;p&&!(yield p.pop());)p=p.parentOutlet})}setDirection(p,k,re,xt){this.direction=p,this.animated=io(p,k,re),this.animationBuilder=xt}setTopOutlet(p){this.topOutlet=p}consumeTransition(){let k,p="root";const re=this.animationBuilder;return"auto"===this.direction?(p=this.guessDirection,k=this.guessAnimation):(k=this.animated,p=this.direction),this.direction=rs,this.animated=go,this.animationBuilder=void 0,{direction:p,animation:k,animationBuilder:re}}navigate(p,k){if(Array.isArray(p))return this.router.navigate(p,k);{const re=this.serializer.parse(p.toString());return void 0!==k.queryParams&&(re.queryParams=Object.assign({},k.queryParams)),void 0!==k.fragment&&(re.fragment=k.fragment),this.router.navigateByUrl(re,k)}}}return y.\u0275fac=function(p){return new(p||y)(a.LFG(hs),a.LFG(Re.Ye),a.LFG(oe.Hx),a.LFG(oe.F0,8))},y.\u0275prov=a.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const io=(y,B,p)=>{if(!1!==B){if(void 0!==p)return p;if("forward"===y||"back"===y)return y;if("root"===y&&!0===B)return"forward"}},rs="auto",go=void 0;class Vr{}let ii=(()=>{class y{constructor(p,k,re,xt,qt,gn,F,R,O,Z,vt,En,Pr,Hr){this.parentContexts=p,this.location=k,this.config=qt,this.navCtrl=gn,this.environmentInjector=F,this.componentFactoryResolver=R,this.parentOutlet=Hr,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new se.X(null),this.stackEvents=new a.vpe,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.nativeEl=Z.nativeElement,this.name=re||oe.eC,this.tabsPrefix="true"===xt?yr(vt,Pr):void 0,this.stackCtrl=new ds(this.tabsPrefix,this.nativeEl,vt,gn,En,O),p.onChildOutletCreated(this.name,this)}set animation(p){this.nativeEl.animation=p}set animated(p){this.nativeEl.animated=p}set swipeGesture(p){this._swipeGesture=p,this.nativeEl.swipeHandler=p?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:k=>this.stackCtrl.endBackTransition(k)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const p=this.getContext();p?.route&&this.activateWith(p.route,p.resolver||null)}new Promise(p=>(0,de.c)(this.nativeEl,p)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(p,k){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const k=this.getContext();this.activatedView.savedData=new Map(k.children.contexts);const re=this.activatedView.savedData.get("primary");if(re&&k.route&&(re.route=Object.assign({},k.route)),this.activatedView.savedExtras={},k.route){const xt=k.route.snapshot;this.activatedView.savedExtras.queryParams=xt.queryParams,this.activatedView.savedExtras.fragment=xt.fragment}}const p=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(p)}}activateWith(p,k){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=p;let re,xt=this.stackCtrl.getExistingView(p);if(xt){re=this.activated=xt.ref;const qt=xt.savedData;qt&&(this.getContext().children.contexts=qt),this.updateActivatedRouteProxy(re.instance,p)}else{const qt=p._futureSnapshot,gn=qt.routeConfig.component;if(null==gn&&qt.component)return void console.warn("[Ionic Warning]: Standalone components are not currently supported with ion-router-outlet. You can track this feature request at https://github.com/ionic-team/ionic-framework/issues/25404");const F=this.parentContexts.getOrCreateContext(this.name).children,R=new se.X(null),O=this.createActivatedRouteProxy(R,p),Z=new js(O,F,this.location.injector);if((k=k||this.componentFactoryResolver)&&Me(k)){const vt=k.resolveComponentFactory(gn);re=this.activated=this.location.createComponent(vt,this.location.length,Z)}else re=this.activated=this.location.createComponent(gn,{index:this.location.length,injector:Z,environmentInjector:k??this.environmentInjector});R.next(re.instance),xt=this.stackCtrl.createView(this.activated,p),this.proxyMap.set(re.instance,O),this.currentActivatedRoute$.next({component:re.instance,activatedRoute:p})}this.activatedView=xt,this.stackCtrl.setActive(xt).then(qt=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(re.instance),this.stackEvents.emit(qt)})}canGoBack(p=1,k){return this.stackCtrl.canGoBack(p,k)}pop(p=1,k){return this.stackCtrl.pop(p,k)}getLastUrl(p){const k=this.stackCtrl.getLastUrl(p);return k?k.url:void 0}getLastRouteView(p){return this.stackCtrl.getLastUrl(p)}getRootView(p){return this.stackCtrl.getRootUrl(p)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(p,k){const re=new oe.gz;return re._futureSnapshot=k._futureSnapshot,re._routerState=k._routerState,re.snapshot=k.snapshot,re.outlet=k.outlet,re.component=k.component,re._paramMap=this.proxyObservable(p,"paramMap"),re._queryParamMap=this.proxyObservable(p,"queryParamMap"),re.url=this.proxyObservable(p,"url"),re.params=this.proxyObservable(p,"params"),re.queryParams=this.proxyObservable(p,"queryParams"),re.fragment=this.proxyObservable(p,"fragment"),re.data=this.proxyObservable(p,"data"),re}proxyObservable(p,k){return p.pipe((0,St.h)(re=>!!re),(0,Qe.w)(re=>this.currentActivatedRoute$.pipe((0,St.h)(xt=>null!==xt&&xt.component===re),(0,Qe.w)(xt=>xt&&xt.activatedRoute[k]),(0,Ae.x)())))}updateActivatedRouteProxy(p,k){const re=this.proxyMap.get(p);if(!re)throw new Error("Could not find activated route proxy for view");re._futureSnapshot=k._futureSnapshot,re._routerState=k._routerState,re.snapshot=k.snapshot,re.outlet=k.outlet,re.component=k.component,this.currentActivatedRoute$.next({component:p,activatedRoute:k})}}return y.\u0275fac=function(p){return new(p||y)(a.Y36(oe.y6),a.Y36(a.s_b),a.$8M("name"),a.$8M("tabs"),a.Y36(Hi),a.Y36(Zi),a.Y36(Vr,8),a.Y36(a._Vd,8),a.Y36(Re.Ye),a.Y36(a.SBq),a.Y36(oe.F0),a.Y36(a.R0b),a.Y36(oe.gz),a.Y36(y,12))},y.\u0275dir=a.lG2({type:y,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),y})();class js{constructor(B,p,k){this.route=B,this.childContexts=p,this.parent=k}get(B,p){return B===oe.gz?this.route:B===oe.y6?this.childContexts:this.parent.get(B,p)}}let Hs=(()=>{class y{constructor(p,k,re,xt,qt){this.locationStrategy=p,this.navCtrl=k,this.elementRef=re,this.router=xt,this.routerLink=qt,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var p;if(null!==(p=this.routerLink)&&void 0!==p&&p.urlTree){const k=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=k}}onClick(p){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),p.preventDefault()}}return y.\u0275fac=function(p){return new(p||y)(a.Y36(Re.S$),a.Y36(Zi),a.Y36(a.SBq),a.Y36(oe.F0),a.Y36(oe.rH,8))},y.\u0275dir=a.lG2({type:y,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(p,k){1&p&&a.NdJ("click",function(xt){return k.onClick(xt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[a.TTD]}),y})();class Br{constructor(B){this.ctrl=B}create(B){return this.ctrl.create(B||{})}dismiss(B,p,k){return this.ctrl.dismiss(B,p,k)}getTop(){return this.ctrl.getTop()}}let Qi=(()=>{class y extends Br{constructor(){super(Be.a)}}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=a.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),Ri=(()=>{class y extends Br{constructor(){super(Be.l)}}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=a.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),fs=(()=>{class y extends Br{constructor(p,k,re,xt){super(Be.m),this.angularDelegate=p,this.resolver=k,this.injector=re,this.environmentInjector=xt}create(p){var k;return super.create(Object.assign(Object.assign({},p),{delegate:this.angularDelegate.create(null!==(k=this.resolver)&&void 0!==k?k:this.environmentInjector,this.injector)}))}}return y.\u0275fac=function(p){return new(p||y)(a.LFG(vn),a.LFG(a._Vd),a.LFG(a.zs3),a.LFG(Vr,8))},y.\u0275prov=a.Yz7({token:y,factory:y.\u0275fac}),y})(),ni=(()=>{class y extends Br{constructor(p,k,re,xt){super(Be.c),this.angularDelegate=p,this.resolver=k,this.injector=re,this.environmentInjector=xt}create(p){var k;return super.create(Object.assign(Object.assign({},p),{delegate:this.angularDelegate.create(null!==(k=this.resolver)&&void 0!==k?k:this.environmentInjector,this.injector)}))}}return y.\u0275fac=function(p){return new(p||y)(a.LFG(vn),a.LFG(a._Vd),a.LFG(a.zs3),a.LFG(Vr,8))},y.\u0275prov=a.Yz7({token:y,factory:y.\u0275fac}),y})(),zi=(()=>{class y extends Br{constructor(){super(Be.t)}}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=a.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class mo{shouldDetach(B){return!1}shouldAttach(B){return!1}store(B,p){}retrieve(B){return null}shouldReuseRoute(B,p){if(B.routeConfig!==p.routeConfig)return!1;const k=B.params,re=p.params,xt=Object.keys(k),qt=Object.keys(re);if(xt.length!==qt.length)return!1;for(const gn of xt)if(re[gn]!==k[gn])return!1;return!0}}const Ps=(y,B,p)=>()=>{if(B.defaultView&&typeof window<"u"){(y=>{const B=window,p=B.Ionic;p&&p.config&&"Object"!==p.config.constructor.name||(B.Ionic=B.Ionic||{},B.Ionic.config=Object.assign(Object.assign({},B.Ionic.config),y))})(Object.assign(Object.assign({},y),{_zoneGate:xt=>p.run(xt)}));const re="__zone_symbol__addEventListener"in B.body?"__zone_symbol__addEventListener":"addEventListener";return function Ie(){var y=[];if(typeof window<"u"){var B=window;(!B.customElements||B.Element&&(!B.Element.prototype.closest||!B.Element.prototype.matches||!B.Element.prototype.remove||!B.Element.prototype.getRootNode))&&y.push(P.e(6748).then(P.t.bind(P,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||B.NodeList&&!B.NodeList.prototype.forEach||!B.fetch||!function(){try{var k=new URL("b","http://a");return k.pathname="c%20d","http://a/c%20d"===k.href&&k.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&y.push(P.e(2214).then(P.t.bind(P,4144,23)))}return Promise.all(y)}().then(()=>((y,B)=>typeof window>"u"?Promise.resolve():(0,Ve.p)().then(()=>(ye(),(0,Ve.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"multiple":[4],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),B))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:qe,jmp:xt=>p.runOutsideAngular(xt),ael(xt,qt,gn,F){xt[re](qt,gn,F)},rel(xt,qt,gn,F){xt.removeEventListener(qt,gn,F)}}))}};let ps=(()=>{class y{static forRoot(p){return{ngModule:y,providers:[{provide:Li,useValue:p},{provide:a.ip1,useFactory:Ps,multi:!0,deps:[Li,Re.K0,a.R0b]}]}}}return y.\u0275fac=function(p){return new(p||y)},y.\u0275mod=a.oAB({type:y}),y.\u0275inj=a.cJS({providers:[vn,fs,ni],imports:[[Re.ez]]}),y})()},9442:(Qt,at,P)=>{"use strict";P.d(at,{c:()=>Be});var a=P(3756);let U;const ve=ae=>ae.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_e=ae=>{if(void 0===U){const De=void 0!==ae.style.webkitAnimationName;U=void 0===ae.style.animationName&&De?"-webkit-":""}return U},se=(ae,Ve,De)=>{const ht=Ve.startsWith("animation")?_e(ae):"";ae.style.setProperty(ht+Ve,De)},oe=(ae,Ve)=>{const De=Ve.startsWith("animation")?_e(ae):"";ae.style.removeProperty(De+Ve)},te=[],$e=(ae=[],Ve)=>{if(void 0!==Ve){const De=Array.isArray(Ve)?Ve:[Ve];return[...ae,...De]}return ae},Be=ae=>{let Ve,De,ht,J,st,wt,Ie,ut,dt,qe,Me,Lt,gt,St=[],Qe=[],Ae=[],Re=!1,ye={},q=[],he=[],ne={},ct=0,pt=!1,Vt=!1,Ge=!0,je=!1,ft=!0,Yt=!1;const Ln=ae,Dn=[],wn=[],yn=[],Rn=[],xr=[],sn=[],Tn=[],bt=[],Fn=[],ar=[],nr="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,Ut="function"==typeof Element&&"function"==typeof Element.prototype.animate&&nr,Dr=()=>ar,hn=(fe,Pe)=>((Pe?.oneTimeCallback?wn:Dn).push({c:fe,o:Pe}),gt),_r=()=>{if(Ut)ar.forEach(fe=>{fe.cancel()}),ar.length=0;else{const fe=yn.slice();(0,a.r)(()=>{fe.forEach(Pe=>{oe(Pe,"animation-name"),oe(Pe,"animation-duration"),oe(Pe,"animation-timing-function"),oe(Pe,"animation-iteration-count"),oe(Pe,"animation-delay"),oe(Pe,"animation-play-state"),oe(Pe,"animation-fill-mode"),oe(Pe,"animation-direction")})})}},ir=()=>{xr.forEach(fe=>{fe?.parentNode&&fe.parentNode.removeChild(fe)}),xr.length=0},jt=()=>void 0!==st?st:Ie?Ie.getFill():"both",pn=()=>void 0!==dt?dt:void 0!==wt?wt:Ie?Ie.getDirection():"normal",Gn=()=>pt?"linear":void 0!==ht?ht:Ie?Ie.getEasing():"linear",$n=()=>Vt?0:void 0!==qe?qe:void 0!==De?De:Ie?Ie.getDuration():0,er=()=>void 0!==J?J:Ie?Ie.getIterations():1,it=()=>void 0!==Me?Me:void 0!==Ve?Ve:Ie?Ie.getDelay():0,zn=()=>{0!==ct&&(ct--,0===ct&&((()=>{ei(),bt.forEach(Pt=>Pt()),Fn.forEach(Pt=>Pt());const fe=Ge?1:0,Pe=q,rt=he,Ot=ne;yn.forEach(Pt=>{const Ft=Pt.classList;Pe.forEach(cn=>Ft.add(cn)),rt.forEach(cn=>Ft.remove(cn));for(const cn in Ot)Ot.hasOwnProperty(cn)&&se(Pt,cn,Ot[cn])}),Dn.forEach(Pt=>Pt.c(fe,gt)),wn.forEach(Pt=>Pt.c(fe,gt)),wn.length=0,ft=!0,Ge&&(je=!0),Ge=!0})(),Ie&&Ie.animationFinish()))},be=(fe=!0)=>{ir();const Pe=(ae=>(ae.forEach(Ve=>{for(const De in Ve)if(Ve.hasOwnProperty(De)){const ht=Ve[De];if("easing"===De)Ve["animation-timing-function"]=ht,delete Ve[De];else{const J=ve(De);J!==De&&(Ve[J]=ht,delete Ve[De])}}}),ae))(St);yn.forEach(rt=>{if(Pe.length>0){const Ot=((ae=[])=>ae.map(Ve=>{const De=Ve.offset,ht=[];for(const J in Ve)Ve.hasOwnProperty(J)&&"offset"!==J&&ht.push(`${J}: ${Ve[J]};`);return`${100*De}% { ${ht.join(" ")} }`}).join(" "))(Pe);Lt=void 0!==ae?ae:(ae=>{let Ve=te.indexOf(ae);return Ve<0&&(Ve=te.push(ae)-1),`ion-animation-${Ve}`})(Ot);const Pt=((ae,Ve,De)=>{const ht=(ae=>{const Ve=ae.getRootNode();return Ve.head||Ve})(De),J=_e(De),st=ht.querySelector("#"+ae);if(st)return st;const wt=(De.ownerDocument||document).createElement("style");return wt.id=ae,wt.textContent=`@${J}keyframes ${ae} { ${Ve} } @${J}keyframes ${ae}-alt { ${Ve} }`,ht.appendChild(wt),wt})(Lt,Ot,rt);xr.push(Pt),se(rt,"animation-duration",`${$n()}ms`),se(rt,"animation-timing-function",Gn()),se(rt,"animation-delay",`${it()}ms`),se(rt,"animation-fill-mode",jt()),se(rt,"animation-direction",pn());const Ft=er()===1/0?"infinite":er().toString();se(rt,"animation-iteration-count",Ft),se(rt,"animation-play-state","paused"),fe&&se(rt,"animation-name",`${Pt.id}-alt`),(0,a.r)(()=>{se(rt,"animation-name",Pt.id||null)})}})},Ye=(fe=!0)=>{(()=>{sn.forEach(Ot=>Ot()),Tn.forEach(Ot=>Ot());const fe=Qe,Pe=Ae,rt=ye;yn.forEach(Ot=>{const Pt=Ot.classList;fe.forEach(Ft=>Pt.add(Ft)),Pe.forEach(Ft=>Pt.remove(Ft));for(const Ft in rt)rt.hasOwnProperty(Ft)&&se(Ot,Ft,rt[Ft])})})(),St.length>0&&(Ut?(yn.forEach(fe=>{const Pe=fe.animate(St,{id:Ln,delay:it(),duration:$n(),easing:Gn(),iterations:er(),fill:jt(),direction:pn()});Pe.pause(),ar.push(Pe)}),ar.length>0&&(ar[0].onfinish=()=>{zn()})):be(fe)),Re=!0},yt=fe=>{if(fe=Math.min(Math.max(fe,0),.9999),Ut)ar.forEach(Pe=>{Pe.currentTime=Pe.effect.getComputedTiming().delay+$n()*fe,Pe.pause()});else{const Pe=`-${$n()*fe}ms`;yn.forEach(rt=>{St.length>0&&(se(rt,"animation-delay",Pe),se(rt,"animation-play-state","paused"))})}},Ct=fe=>{ar.forEach(Pe=>{Pe.effect.updateTiming({delay:it(),duration:$n(),easing:Gn(),iterations:er(),fill:jt(),direction:pn()})}),void 0!==fe&&yt(fe)},_n=(fe=!0,Pe)=>{(0,a.r)(()=>{yn.forEach(rt=>{se(rt,"animation-name",Lt||null),se(rt,"animation-duration",`${$n()}ms`),se(rt,"animation-timing-function",Gn()),se(rt,"animation-delay",void 0!==Pe?`-${Pe*$n()}ms`:`${it()}ms`),se(rt,"animation-fill-mode",jt()||null),se(rt,"animation-direction",pn()||null);const Ot=er()===1/0?"infinite":er().toString();se(rt,"animation-iteration-count",Ot),fe&&se(rt,"animation-name",`${Lt}-alt`),(0,a.r)(()=>{se(rt,"animation-name",Lt||null)})})})},rn=(fe=!1,Pe=!0,rt)=>(fe&&Rn.forEach(Ot=>{Ot.update(fe,Pe,rt)}),Ut?Ct(rt):_n(Pe,rt),gt),Sn=()=>{Re&&(Ut?ar.forEach(fe=>{fe.pause()}):yn.forEach(fe=>{se(fe,"animation-play-state","paused")}),Yt=!0)},Mr=()=>{ut=void 0,zn()},ei=()=>{ut&&clearTimeout(ut)},ti=fe=>new Promise(Pe=>{fe?.sync&&(Vt=!0,hn(()=>Vt=!1,{oneTimeCallback:!0})),Re||Ye(),je&&(Ut?(yt(0),Ct()):_n(),je=!1),ft&&(ct=Rn.length+1,ft=!1),hn(()=>Pe(),{oneTimeCallback:!0}),Rn.forEach(rt=>{rt.play()}),Ut?(ar.forEach(fe=>{fe.play()}),(0===St.length||0===yn.length)&&zn()):(()=>{if(ei(),(0,a.r)(()=>{yn.forEach(fe=>{St.length>0&&se(fe,"animation-play-state","running")})}),0===St.length||0===yn.length)zn();else{const fe=it()||0,Pe=$n()||0,rt=er()||1;isFinite(rt)&&(ut=setTimeout(Mr,fe+Pe*rt+100)),((ae,Ve)=>{let De;const ht={passive:!0},st=wt=>{ae===wt.target&&(De&&De(),ei(),(0,a.r)(()=>{yn.forEach(fe=>{oe(fe,"animation-duration"),oe(fe,"animation-delay"),oe(fe,"animation-play-state")}),(0,a.r)(zn)}))};ae&&(ae.addEventListener("webkitAnimationEnd",st,ht),ae.addEventListener("animationend",st,ht),De=()=>{ae.removeEventListener("webkitAnimationEnd",st,ht),ae.removeEventListener("animationend",st,ht)})})(yn[0])}})(),Yt=!1}),ge=(fe,Pe)=>{const rt=St[0];return void 0===rt||void 0!==rt.offset&&0!==rt.offset?St=[{offset:0,[fe]:Pe},...St]:rt[fe]=Pe,gt};return gt={parentAnimation:Ie,elements:yn,childAnimations:Rn,id:Ln,animationFinish:zn,from:ge,to:(fe,Pe)=>{const rt=St[St.length-1];return void 0===rt||void 0!==rt.offset&&1!==rt.offset?St=[...St,{offset:1,[fe]:Pe}]:rt[fe]=Pe,gt},fromTo:(fe,Pe,rt)=>ge(fe,Pe).to(fe,rt),parent:fe=>(Ie=fe,gt),play:ti,pause:()=>(Rn.forEach(fe=>{fe.pause()}),Sn(),gt),stop:()=>{Rn.forEach(fe=>{fe.stop()}),Re&&(_r(),Re=!1),pt=!1,Vt=!1,ft=!0,dt=void 0,qe=void 0,Me=void 0,ct=0,je=!1,Ge=!0,Yt=!1},destroy:fe=>(Rn.forEach(Pe=>{Pe.destroy(fe)}),(fe=>{_r(),fe&&ir()})(fe),yn.length=0,Rn.length=0,St.length=0,Dn.length=0,wn.length=0,Re=!1,ft=!0,gt),keyframes:fe=>{const Pe=St!==fe;return St=fe,Pe&&(fe=>{Ut?Dr().forEach(Pe=>{if(Pe.effect.setKeyframes)Pe.effect.setKeyframes(fe);else{const rt=new KeyframeEffect(Pe.effect.target,fe,Pe.effect.getTiming());Pe.effect=rt}}):be()})(St),gt},addAnimation:fe=>{if(null!=fe)if(Array.isArray(fe))for(const Pe of fe)Pe.parent(gt),Rn.push(Pe);else fe.parent(gt),Rn.push(fe);return gt},addElement:fe=>{if(null!=fe)if(1===fe.nodeType)yn.push(fe);else if(fe.length>=0)for(let Pe=0;Pe<fe.length;Pe++)yn.push(fe[Pe]);else console.error("Invalid addElement value");return gt},update:rn,fill:fe=>(st=fe,rn(!0),gt),direction:fe=>(wt=fe,rn(!0),gt),iterations:fe=>(J=fe,rn(!0),gt),duration:fe=>(!Ut&&0===fe&&(fe=1),De=fe,rn(!0),gt),easing:fe=>(ht=fe,rn(!0),gt),delay:fe=>(Ve=fe,rn(!0),gt),getWebAnimations:Dr,getKeyframes:()=>St,getFill:jt,getDirection:pn,getDelay:it,getIterations:er,getEasing:Gn,getDuration:$n,afterAddRead:fe=>(bt.push(fe),gt),afterAddWrite:fe=>(Fn.push(fe),gt),afterClearStyles:(fe=[])=>{for(const Pe of fe)ne[Pe]="";return gt},afterStyles:(fe={})=>(ne=fe,gt),afterRemoveClass:fe=>(he=$e(he,fe),gt),afterAddClass:fe=>(q=$e(q,fe),gt),beforeAddRead:fe=>(sn.push(fe),gt),beforeAddWrite:fe=>(Tn.push(fe),gt),beforeClearStyles:(fe=[])=>{for(const Pe of fe)ye[Pe]="";return gt},beforeStyles:(fe={})=>(ye=fe,gt),beforeRemoveClass:fe=>(Ae=$e(Ae,fe),gt),beforeAddClass:fe=>(Qe=$e(Qe,fe),gt),onFinish:hn,isRunning:()=>0!==ct&&!Yt,progressStart:(fe=!1,Pe)=>(Rn.forEach(rt=>{rt.progressStart(fe,Pe)}),Sn(),pt=fe,Re||Ye(),rn(!1,!0,Pe),gt),progressStep:fe=>(Rn.forEach(Pe=>{Pe.progressStep(fe)}),yt(fe),gt),progressEnd:(fe,Pe,rt)=>(pt=!1,Rn.forEach(Ot=>{Ot.progressEnd(fe,Pe,rt)}),void 0!==rt&&(qe=rt),je=!1,Ge=!0,0===fe?(dt="reverse"===pn()?"normal":"reverse","reverse"===dt&&(Ge=!1),Ut?(rn(),yt(1-Pe)):(Me=(1-Pe)*$n()*-1,rn(!1,!1))):1===fe&&(Ut?(rn(),yt(Pe)):(Me=Pe*$n()*-1,rn(!1,!1))),void 0!==fe&&(hn(()=>{qe=void 0,dt=void 0,Me=void 0},{oneTimeCallback:!0}),Ie||ti()),gt)}}},3509:(Qt,at,P)=>{"use strict";P.d(at,{G:()=>_e});class U{constructor(oe,le,ie,te,K){this.id=le,this.name=ie,this.disableScroll=K,this.priority=1e6*te+le,this.ctrl=oe}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const oe=this.ctrl.capture(this.name,this.id,this.priority);return oe&&this.disableScroll&&this.ctrl.disableScroll(this.id),oe}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class V{constructor(oe,le,ie,te){this.id=le,this.disable=ie,this.disableScroll=te,this.ctrl=oe}block(){if(this.ctrl){if(this.disable)for(const oe of this.disable)this.ctrl.disableGesture(oe,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const oe of this.disable)this.ctrl.enableGesture(oe,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ve="backdrop-no-scroll",_e=new class a{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(oe){return new U(this,this.newID(),oe.name,oe.priority||0,!!oe.disableScroll)}createBlocker(oe={}){return new V(this,this.newID(),oe.disable,!!oe.disableScroll)}start(oe,le,ie){return this.canStart(oe)?(this.requestedStart.set(le,ie),!0):(this.requestedStart.delete(le),!1)}capture(oe,le,ie){if(!this.start(oe,le,ie))return!1;const te=this.requestedStart;let K=-1e4;if(te.forEach(de=>{K=Math.max(K,de)}),K===ie){this.capturedId=le,te.clear();const de=new CustomEvent("ionGestureCaptured",{detail:{gestureName:oe}});return document.dispatchEvent(de),!0}return te.delete(le),!1}release(oe){this.requestedStart.delete(oe),this.capturedId===oe&&(this.capturedId=void 0)}disableGesture(oe,le){let ie=this.disabledGestures.get(oe);void 0===ie&&(ie=new Set,this.disabledGestures.set(oe,ie)),ie.add(le)}enableGesture(oe,le){const ie=this.disabledGestures.get(oe);void 0!==ie&&ie.delete(le)}disableScroll(oe){this.disabledScroll.add(oe),1===this.disabledScroll.size&&document.body.classList.add(ve)}enableScroll(oe){this.disabledScroll.delete(oe),0===this.disabledScroll.size&&document.body.classList.remove(ve)}canStart(oe){return!(void 0!==this.capturedId||this.isDisabled(oe))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(oe){const le=this.disabledGestures.get(oe);return!!(le&&le.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(Qt,at,P)=>{"use strict";P.r(at),P.d(at,{MENU_BACK_BUTTON_PRIORITY:()=>_e,OVERLAY_BACK_BUTTON_PRIORITY:()=>ve,blockHardwareBackButton:()=>U,startHardwareBackButton:()=>V});var a=P(5861);const U=()=>{document.addEventListener("backbutton",()=>{})},V=()=>{const se=document;let oe=!1;se.addEventListener("backbutton",()=>{if(oe)return;let le=0,ie=[];const te=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(ue,$e){ie.push({priority:ue,handler:$e,id:le++})}}});se.dispatchEvent(te);const K=function(){var ue=(0,a.Z)(function*($e){try{if($e?.handler){const Be=$e.handler(de);null!=Be&&(yield Be)}}catch(Be){console.error(Be)}});return function(Be){return ue.apply(this,arguments)}}(),de=()=>{if(ie.length>0){let ue={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ie.forEach($e=>{$e.priority>=ue.priority&&(ue=$e)}),oe=!0,ie=ie.filter($e=>$e.id!==ue.id),K(ue).then(()=>oe=!1)}};de()})},ve=100,_e=99},3756:(Qt,at,P)=>{"use strict";P.d(at,{a:()=>oe,b:()=>le,c:()=>V,d:()=>$e,e:()=>Be,f:()=>ue,g:()=>ie,h:()=>st,i:()=>se,j:()=>ve,k:()=>de,l:()=>ae,m:()=>K,n:()=>Ve,o:()=>J,p:()=>ht,q:()=>wt,r:()=>te,s:()=>St,t:()=>a,u:()=>De});const a=(Qe,Ae=0)=>new Promise(Re=>{U(Qe,Ae,Re)}),U=(Qe,Ae=0,Re)=>{let Ie,ye;const q={passive:!0},ne=()=>{Ie&&Ie()},ct=pt=>{(void 0===pt||Qe===pt.target)&&(ne(),Re(pt))};return Qe&&(Qe.addEventListener("webkitTransitionEnd",ct,q),Qe.addEventListener("transitionend",ct,q),ye=setTimeout(ct,Ae+500),Ie=()=>{ye&&(clearTimeout(ye),ye=void 0),Qe.removeEventListener("webkitTransitionEnd",ct,q),Qe.removeEventListener("transitionend",ct,q)}),ne},V=(Qe,Ae)=>{Qe.componentOnReady?Qe.componentOnReady().then(Re=>Ae(Re)):te(()=>Ae(Qe))},ve=(Qe,Ae=[])=>{const Re={};return Ae.forEach(Ie=>{Qe.hasAttribute(Ie)&&(null!==Qe.getAttribute(Ie)&&(Re[Ie]=Qe.getAttribute(Ie)),Qe.removeAttribute(Ie))}),Re},_e=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],se=Qe=>ve(Qe,_e),oe=(Qe,Ae,Re,Ie)=>{var ye;if(typeof window<"u"){const he=null===(ye=window?.Ionic)||void 0===ye?void 0:ye.config;if(he){const ne=he.get("_ael");if(ne)return ne(Qe,Ae,Re,Ie);if(he._ael)return he._ael(Qe,Ae,Re,Ie)}}return Qe.addEventListener(Ae,Re,Ie)},le=(Qe,Ae,Re,Ie)=>{var ye;if(typeof window<"u"){const he=null===(ye=window?.Ionic)||void 0===ye?void 0:ye.config;if(he){const ne=he.get("_rel");if(ne)return ne(Qe,Ae,Re,Ie);if(he._rel)return he._rel(Qe,Ae,Re,Ie)}}return Qe.removeEventListener(Ae,Re,Ie)},ie=(Qe,Ae=Qe)=>Qe.shadowRoot||Ae,te=Qe=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Qe):"function"==typeof requestAnimationFrame?requestAnimationFrame(Qe):setTimeout(Qe),K=Qe=>!!Qe.shadowRoot&&!!Qe.attachShadow,de=Qe=>{const Ae=Qe.closest("ion-item");return Ae?Ae.querySelector("ion-label"):null},ue=Qe=>{if(Qe.focus(),Qe.classList.contains("ion-focusable")){const Ae=Qe.closest("ion-app");Ae&&Ae.setFocus([Qe])}},$e=(Qe,Ae)=>{let Re;const Ie=Qe.getAttribute("aria-labelledby"),ye=Qe.id;let q=null!==Ie&&""!==Ie.trim()?Ie:Ae+"-lbl",he=null!==Ie&&""!==Ie.trim()?document.getElementById(Ie):de(Qe);return he?(null===Ie&&(he.id=q),Re=he.textContent,he.setAttribute("aria-hidden","true")):""!==ye.trim()&&(he=document.querySelector(`label[for="${ye}"]`),he&&(""!==he.id?q=he.id:he.id=q=`${ye}-lbl`,Re=he.textContent)),{label:he,labelId:q,labelText:Re}},Be=(Qe,Ae,Re,Ie,ye)=>{if(Qe||K(Ae)){let q=Ae.querySelector("input.aux-input");q||(q=Ae.ownerDocument.createElement("input"),q.type="hidden",q.classList.add("aux-input"),Ae.appendChild(q)),q.disabled=ye,q.name=Re,q.value=Ie||""}},ae=(Qe,Ae,Re)=>Math.max(Qe,Math.min(Ae,Re)),Ve=(Qe,Ae)=>{if(!Qe){const Re="ASSERT: "+Ae;throw console.error(Re),new Error(Re)}},De=Qe=>Qe.timeStamp||Date.now(),ht=Qe=>{if(Qe){const Ae=Qe.changedTouches;if(Ae&&Ae.length>0){const Re=Ae[0];return{x:Re.clientX,y:Re.clientY}}if(void 0!==Qe.pageX)return{x:Qe.pageX,y:Qe.pageY}}return{x:0,y:0}},J=Qe=>{const Ae="rtl"===document.dir;switch(Qe){case"start":return Ae;case"end":return!Ae;default:throw new Error(`"${Qe}" is not a valid value for [side]. Use "start" or "end" instead.`)}},st=(Qe,Ae)=>{const Re=Qe._original||Qe;return{_original:Qe,emit:wt(Re.emit.bind(Re),Ae)}},wt=(Qe,Ae=0)=>{let Re;return(...Ie)=>{clearTimeout(Re),Re=setTimeout(Qe,Ae,...Ie)}},St=(Qe,Ae)=>{if(Qe??(Qe={}),Ae??(Ae={}),Qe===Ae)return!0;const Re=Object.keys(Qe);if(Re.length!==Object.keys(Ae).length)return!1;for(const Ie of Re)if(!(Ie in Ae)||Qe[Ie]!==Ae[Ie])return!1;return!0}},3139:(Qt,at,P)=>{"use strict";P.r(at),P.d(at,{GESTURE_CONTROLLER:()=>a.G,createGesture:()=>ie});var a=P(3509);const U=(ue,$e,Be,ae)=>{const Ve=V(ue)?{capture:!!ae.capture,passive:!!ae.passive}:!!ae.capture;let De,ht;return ue.__zone_symbol__addEventListener?(De="__zone_symbol__addEventListener",ht="__zone_symbol__removeEventListener"):(De="addEventListener",ht="removeEventListener"),ue[De]($e,Be,Ve),()=>{ue[ht]($e,Be,Ve)}},V=ue=>{if(void 0===ve)try{const $e=Object.defineProperty({},"passive",{get:()=>{ve=!0}});ue.addEventListener("optsTest",()=>{},$e)}catch{ve=!1}return!!ve};let ve;const oe=ue=>ue instanceof Document?ue:ue.ownerDocument,ie=ue=>{let $e=!1,Be=!1,ae=!0,Ve=!1;const De=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},ue),ht=De.canStart,J=De.onWillStart,st=De.onStart,wt=De.onEnd,St=De.notCaptured,Qe=De.onMove,Ae=De.threshold,Re=De.passive,Ie=De.blurOnStart,ye={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},q=((ue,$e,Be)=>{const ae=Be*(Math.PI/180),Ve="x"===ue,De=Math.cos(ae),ht=$e*$e;let J=0,st=0,wt=!1,St=0;return{start(Qe,Ae){J=Qe,st=Ae,St=0,wt=!0},detect(Qe,Ae){if(!wt)return!1;const Re=Qe-J,Ie=Ae-st,ye=Re*Re+Ie*Ie;if(ye<ht)return!1;const q=Math.sqrt(ye),he=(Ve?Re:Ie)/q;return St=he>De?1:he<-De?-1:0,wt=!1,!0},isGesture:()=>0!==St,getDirection:()=>St}})(De.direction,De.threshold,De.maxAngle),he=a.G.createGesture({name:ue.gestureName,priority:ue.gesturePriority,disableScroll:ue.disableScroll}),pt=()=>{!$e||(Ve=!1,Qe&&Qe(ye))},Vt=()=>!(he&&!he.capture()||($e=!0,ae=!1,ye.startX=ye.currentX,ye.startY=ye.currentY,ye.startTime=ye.currentTime,J?J(ye).then(dt):dt(),0)),dt=()=>{Ie&&(()=>{if(typeof document<"u"){const ft=document.activeElement;ft?.blur&&ft.blur()}})(),st&&st(ye),ae=!0},qe=()=>{$e=!1,Be=!1,Ve=!1,ae=!0,he.release()},Me=ft=>{const Lt=$e,gt=ae;if(qe(),gt){if(te(ye,ft),Lt)return void(wt&&wt(ye));St&&St(ye)}},Ge=((ue,$e,Be,ae,Ve)=>{let De,ht,J,st,wt,St,Qe,Ae=0;const Re=ut=>{Ae=Date.now()+2e3,$e(ut)&&(!ht&&Be&&(ht=U(ue,"touchmove",Be,Ve)),J||(J=U(ut.target,"touchend",ye,Ve)),st||(st=U(ut.target,"touchcancel",ye,Ve)))},Ie=ut=>{Ae>Date.now()||!$e(ut)||(!St&&Be&&(St=U(oe(ue),"mousemove",Be,Ve)),Qe||(Qe=U(oe(ue),"mouseup",q,Ve)))},ye=ut=>{he(),ae&&ae(ut)},q=ut=>{ne(),ae&&ae(ut)},he=()=>{ht&&ht(),J&&J(),st&&st(),ht=J=st=void 0},ne=()=>{St&&St(),Qe&&Qe(),St=Qe=void 0},ct=()=>{he(),ne()},pt=(ut=!0)=>{ut?(De||(De=U(ue,"touchstart",Re,Ve)),wt||(wt=U(ue,"mousedown",Ie,Ve))):(De&&De(),wt&&wt(),De=wt=void 0,ct())};return{enable:pt,stop:ct,destroy:()=>{pt(!1),ae=Be=$e=void 0}}})(De.el,ft=>{const Lt=de(ft);return!(Be||!ae||(K(ft,ye),ye.startX=ye.currentX,ye.startY=ye.currentY,ye.startTime=ye.currentTime=Lt,ye.velocityX=ye.velocityY=ye.deltaX=ye.deltaY=0,ye.event=ft,ht&&!1===ht(ye))||(he.release(),!he.start()))&&(Be=!0,0===Ae?Vt():(q.start(ye.startX,ye.startY),!0))},ft=>{$e?!Ve&&ae&&(Ve=!0,te(ye,ft),requestAnimationFrame(pt)):(te(ye,ft),q.detect(ye.currentX,ye.currentY)&&(!q.isGesture()||!Vt())&&je())},Me,{capture:!1,passive:Re}),je=()=>{qe(),Ge.stop(),St&&St(ye)};return{enable(ft=!0){ft||($e&&Me(void 0),qe()),Ge.enable(ft)},destroy(){he.destroy(),Ge.destroy()}}},te=(ue,$e)=>{if(!$e)return;const Be=ue.currentX,ae=ue.currentY,Ve=ue.currentTime;K($e,ue);const De=ue.currentX,ht=ue.currentY,st=(ue.currentTime=de($e))-Ve;if(st>0&&st<100){const St=(ht-ae)/st;ue.velocityX=(De-Be)/st*.7+.3*ue.velocityX,ue.velocityY=.7*St+.3*ue.velocityY}ue.deltaX=De-ue.startX,ue.deltaY=ht-ue.startY,ue.event=$e},K=(ue,$e)=>{let Be=0,ae=0;if(ue){const Ve=ue.changedTouches;if(Ve&&Ve.length>0){const De=Ve[0];Be=De.clientX,ae=De.clientY}else void 0!==ue.pageX&&(Be=ue.pageX,ae=ue.pageY)}$e.currentX=Be,$e.currentY=ae},de=ue=>ue.timeStamp||Date.now()},9753:(Qt,at,P)=>{"use strict";P.d(at,{L:()=>ve,a:()=>_e,b:()=>se,c:()=>oe,d:()=>le,e:()=>Ae,g:()=>ye,l:()=>St,s:()=>Re,t:()=>K});var a=P(5861),U=P(7205),V=P(3756);const ve="ionViewWillEnter",_e="ionViewDidEnter",se="ionViewWillLeave",oe="ionViewDidLeave",le="ionViewWillUnload",K=q=>new Promise((he,ne)=>{(0,U.c)(()=>{de(q),ue(q).then(ct=>{ct.animation&&ct.animation.destroy(),$e(q),he(ct)},ct=>{$e(q),ne(ct)})})}),de=q=>{const he=q.enteringEl,ne=q.leavingEl;Ie(he,ne,q.direction),q.showGoBack?he.classList.add("can-go-back"):he.classList.remove("can-go-back"),Re(he,!1),he.style.setProperty("pointer-events","none"),ne&&(Re(ne,!1),ne.style.setProperty("pointer-events","none"))},ue=function(){var q=(0,a.Z)(function*(he){const ne=yield Be(he);return ne&&U.B.isBrowser?ae(ne,he):Ve(he)});return function(ne){return q.apply(this,arguments)}}(),$e=q=>{const he=q.enteringEl,ne=q.leavingEl;he.classList.remove("ion-page-invisible"),he.style.removeProperty("pointer-events"),void 0!==ne&&(ne.classList.remove("ion-page-invisible"),ne.style.removeProperty("pointer-events"))},Be=function(){var q=(0,a.Z)(function*(he){return he.leavingEl&&he.animated&&0!==he.duration?he.animationBuilder?he.animationBuilder:"ios"===he.mode?(yield Promise.resolve().then(P.bind(P,4181))).iosTransitionAnimation:(yield Promise.resolve().then(P.bind(P,5980))).mdTransitionAnimation:void 0});return function(ne){return q.apply(this,arguments)}}(),ae=function(){var q=(0,a.Z)(function*(he,ne){yield De(ne,!0);const ct=he(ne.baseEl,ne);st(ne.enteringEl,ne.leavingEl);const pt=yield J(ct,ne);return ne.progressCallback&&ne.progressCallback(void 0),pt&&wt(ne.enteringEl,ne.leavingEl),{hasCompleted:pt,animation:ct}});return function(ne,ct){return q.apply(this,arguments)}}(),Ve=function(){var q=(0,a.Z)(function*(he){const ne=he.enteringEl,ct=he.leavingEl;return yield De(he,!1),st(ne,ct),wt(ne,ct),{hasCompleted:!0}});return function(ne){return q.apply(this,arguments)}}(),De=function(){var q=(0,a.Z)(function*(he,ne){const pt=(void 0!==he.deepWait?he.deepWait:ne)?[Ae(he.enteringEl),Ae(he.leavingEl)]:[Qe(he.enteringEl),Qe(he.leavingEl)];yield Promise.all(pt),yield ht(he.viewIsReady,he.enteringEl)});return function(ne,ct){return q.apply(this,arguments)}}(),ht=function(){var q=(0,a.Z)(function*(he,ne){he&&(yield he(ne))});return function(ne,ct){return q.apply(this,arguments)}}(),J=(q,he)=>{const ne=he.progressCallback,ct=new Promise(pt=>{q.onFinish(Vt=>pt(1===Vt))});return ne?(q.progressStart(!0),ne(q)):q.play(),ct},st=(q,he)=>{St(he,se),St(q,ve)},wt=(q,he)=>{St(q,_e),St(he,oe)},St=(q,he)=>{if(q){const ne=new CustomEvent(he,{bubbles:!1,cancelable:!1});q.dispatchEvent(ne)}},Qe=q=>q?new Promise(he=>(0,V.c)(q,he)):Promise.resolve(),Ae=function(){var q=(0,a.Z)(function*(he){const ne=he;if(ne){if(null!=ne.componentOnReady){if(null!=(yield ne.componentOnReady()))return}else if(null!=ne.__registerHost)return void(yield new Promise(pt=>(0,V.r)(pt)));yield Promise.all(Array.from(ne.children).map(Ae))}});return function(ne){return q.apply(this,arguments)}}(),Re=(q,he)=>{he?(q.setAttribute("aria-hidden","true"),q.classList.add("ion-page-hidden")):(q.hidden=!1,q.removeAttribute("aria-hidden"),q.classList.remove("ion-page-hidden"))},Ie=(q,he,ne)=>{void 0!==q&&(q.style.zIndex="back"===ne?"99":"101"),void 0!==he&&(he.style.zIndex="100")},ye=q=>q.classList.contains("ion-page")?q:q.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||q},7205:(Qt,at,P)=>{"use strict";P.d(at,{B:()=>ti,H:()=>Rn,a:()=>je,b:()=>mr,c:()=>Mi,e:()=>Ze,f:()=>vi,g:()=>ft,h:()=>wn,i:()=>bn,j:()=>Gn,k:()=>zn,p:()=>ae,r:()=>Ye,s:()=>$e});var a=P(5861);let V,ve,_e,se=!1,oe=!1,le=!1,ie=!1,te=!1;const K=typeof window<"u"?window:{},de=K.document||{head:{}},ue={$flags$:0,$resourcesUrl$:"",jmp:X=>X(),raf:X=>requestAnimationFrame(X),ael:(X,ge,Xe,ot)=>X.addEventListener(ge,Xe,ot),rel:(X,ge,Xe,ot)=>X.removeEventListener(ge,Xe,ot),ce:(X,ge)=>new CustomEvent(X,ge)},$e=X=>{Object.assign(ue,X)},ae=X=>Promise.resolve(X),Ve=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch{}return!1})(),De=(X,ge,Xe,ot)=>{Xe&&Xe.map(([fe,Pe,rt])=>{const Ot=J(X,fe),Pt=ht(ge,rt),Ft=st(fe);ue.ael(Ot,Pe,Pt,Ft),(ge.$rmListeners$=ge.$rmListeners$||[]).push(()=>ue.rel(Ot,Pe,Pt,Ft))})},ht=(X,ge)=>Xe=>{try{256&X.$flags$?X.$lazyInstance$[ge](Xe):(X.$queuedListeners$=X.$queuedListeners$||[]).push([ge,Xe])}catch(ot){_n(ot)}},J=(X,ge)=>4&ge?de:8&ge?K:16&ge?de.body:X,st=X=>0!=(2&X),Re="s-id",Ie="sty-id",he="http://www.w3.org/1999/xlink",pt=new WeakMap,Vt=(X,ge,Xe)=>{let ot=Xn.get(X);Ve&&Xe?(ot=ot||new CSSStyleSheet,ot.replace(ge)):ot=ge,Xn.set(X,ot)},ut=(X,ge,Xe,ot)=>{let fe=qe(ge,Xe);const Pe=Xn.get(fe);if(X=11===X.nodeType?X:de,Pe)if("string"==typeof Pe){let Ot,rt=pt.get(X=X.head||X);rt||pt.set(X,rt=new Set),rt.has(fe)||(X.host&&(Ot=X.querySelector(`[${Ie}="${fe}"]`))?Ot.innerHTML=Pe:(Ot=de.createElement("style"),Ot.innerHTML=Pe,X.insertBefore(Ot,X.querySelector("link"))),rt&&rt.add(fe))}else X.adoptedStyleSheets.includes(Pe)||(X.adoptedStyleSheets=[...X.adoptedStyleSheets,Pe]);return fe},qe=(X,ge)=>"sc-"+(ge&&32&X.$flags$?X.$tagName$+"-"+ge:X.$tagName$),Me=X=>X.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),je=X=>Qn.push(X),ft=X=>Ce(X).$modeName$,Lt={},Dn=X=>"object"==(X=typeof X)||"function"===X,wn=(X,ge,...Xe)=>{let ot=null,fe=null,Pe=null,rt=!1,Ot=!1;const Pt=[],Ft=vn=>{for(let jn=0;jn<vn.length;jn++)ot=vn[jn],Array.isArray(ot)?Ft(ot):null!=ot&&"boolean"!=typeof ot&&((rt="function"!=typeof X&&!Dn(ot))&&(ot=String(ot)),rt&&Ot?Pt[Pt.length-1].$text$+=ot:Pt.push(rt?yn(null,ot):ot),Ot=rt)};if(Ft(Xe),ge){ge.key&&(fe=ge.key),ge.name&&(Pe=ge.name);{const vn=ge.className||ge.class;vn&&(ge.class="object"!=typeof vn?vn:Object.keys(vn).filter(jn=>vn[jn]).join(" "))}}if("function"==typeof X)return X(null===ge?{}:ge,Pt,sn);const cn=yn(X,null);return cn.$attrs$=ge,Pt.length>0&&(cn.$children$=Pt),cn.$key$=fe,cn.$name$=Pe,cn},yn=(X,ge)=>({$flags$:0,$tag$:X,$text$:ge,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Rn={},sn={forEach:(X,ge)=>X.map(Tn).forEach(ge),map:(X,ge)=>X.map(Tn).map(ge).map(bt)},Tn=X=>({vattrs:X.$attrs$,vchildren:X.$children$,vkey:X.$key$,vname:X.$name$,vtag:X.$tag$,vtext:X.$text$}),bt=X=>{if("function"==typeof X.vtag){const Xe=Object.assign({},X.vattrs);return X.vkey&&(Xe.key=X.vkey),X.vname&&(Xe.name=X.vname),wn(X.vtag,Xe,...X.vchildren||[])}const ge=yn(X.vtag,X.vtext);return ge.$attrs$=X.vattrs,ge.$children$=X.vchildren,ge.$key$=X.vkey,ge.$name$=X.vname,ge},Fn=(X,ge,Xe,ot,fe,Pe)=>{if(Xe!==ot){let rt=Ct(X,ge),Ot=ge.toLowerCase();if("class"===ge){const Pt=X.classList,Ft=nr(Xe),cn=nr(ot);Pt.remove(...Ft.filter(vn=>vn&&!cn.includes(vn))),Pt.add(...cn.filter(vn=>vn&&!Ft.includes(vn)))}else if("style"===ge){for(const Pt in Xe)(!ot||null==ot[Pt])&&(Pt.includes("-")?X.style.removeProperty(Pt):X.style[Pt]="");for(const Pt in ot)(!Xe||ot[Pt]!==Xe[Pt])&&(Pt.includes("-")?X.style.setProperty(Pt,ot[Pt]):X.style[Pt]=ot[Pt])}else if("key"!==ge)if("ref"===ge)ot&&ot(X);else if(rt||"o"!==ge[0]||"n"!==ge[1]){const Pt=Dn(ot);if((rt||Pt&&null!==ot)&&!fe)try{if(X.tagName.includes("-"))X[ge]=ot;else{const cn=ot??"";"list"===ge?rt=!1:(null==Xe||X[ge]!=cn)&&(X[ge]=cn)}}catch{}let Ft=!1;Ot!==(Ot=Ot.replace(/^xlink\:?/,""))&&(ge=Ot,Ft=!0),null==ot||!1===ot?(!1!==ot||""===X.getAttribute(ge))&&(Ft?X.removeAttributeNS(he,ge):X.removeAttribute(ge)):(!rt||4&Pe||fe)&&!Pt&&(ot=!0===ot?"":ot,Ft?X.setAttributeNS(he,ge,ot):X.setAttribute(ge,ot))}else ge="-"===ge[2]?ge.slice(3):Ct(K,Ot)?Ot.slice(2):Ot[2]+ge.slice(3),Xe&&ue.rel(X,ge,Xe,!1),ot&&ue.ael(X,ge,ot,!1)}},ar=/\s/,nr=X=>X?X.split(ar):[],Ut=(X,ge,Xe,ot)=>{const fe=11===ge.$elm$.nodeType&&ge.$elm$.host?ge.$elm$.host:ge.$elm$,Pe=X&&X.$attrs$||Lt,rt=ge.$attrs$||Lt;for(ot in Pe)ot in rt||Fn(fe,ot,Pe[ot],void 0,Xe,ge.$flags$);for(ot in rt)Fn(fe,ot,Pe[ot],rt[ot],Xe,ge.$flags$)},ur=(X,ge,Xe,ot)=>{const fe=ge.$children$[Xe];let rt,Ot,Pt,Pe=0;if(se||(le=!0,"slot"===fe.$tag$&&(V&&ot.classList.add(V+"-s"),fe.$flags$|=fe.$children$?2:1)),null!==fe.$text$)rt=fe.$elm$=de.createTextNode(fe.$text$);else if(1&fe.$flags$)rt=fe.$elm$=de.createTextNode("");else{if(ie||(ie="svg"===fe.$tag$),rt=fe.$elm$=de.createElementNS(ie?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&fe.$flags$?"slot-fb":fe.$tag$),ie&&"foreignObject"===fe.$tag$&&(ie=!1),Ut(null,fe,ie),(X=>null!=X)(V)&&rt["s-si"]!==V&&rt.classList.add(rt["s-si"]=V),fe.$children$)for(Pe=0;Pe<fe.$children$.length;++Pe)Ot=ur(X,fe,Pe,rt),Ot&&rt.appendChild(Ot);"svg"===fe.$tag$?ie=!1:"foreignObject"===rt.tagName&&(ie=!0)}return rt["s-hn"]=_e,3&fe.$flags$&&(rt["s-sr"]=!0,rt["s-cr"]=ve,rt["s-sn"]=fe.$name$||"",Pt=X&&X.$children$&&X.$children$[Xe],Pt&&Pt.$tag$===fe.$tag$&&X.$elm$&&Dr(X.$elm$,!1)),rt},Dr=(X,ge)=>{ue.$flags$|=1;const Xe=X.childNodes;for(let ot=Xe.length-1;ot>=0;ot--){const fe=Xe[ot];fe["s-hn"]!==_e&&fe["s-ol"]&&(hr(fe).insertBefore(fe,hn(fe)),fe["s-ol"].remove(),fe["s-ol"]=void 0,le=!0),ge&&Dr(fe,ge)}ue.$flags$&=-2},Jn=(X,ge,Xe,ot,fe,Pe)=>{let Ot,rt=X["s-cr"]&&X["s-cr"].parentNode||X;for(rt.shadowRoot&&rt.tagName===_e&&(rt=rt.shadowRoot);fe<=Pe;++fe)ot[fe]&&(Ot=ur(null,Xe,fe,X),Ot&&(ot[fe].$elm$=Ot,rt.insertBefore(Ot,hn(ge))))},Rr=(X,ge,Xe,ot,fe)=>{for(;ge<=Xe;++ge)(ot=X[ge])&&(fe=ot.$elm$,Pn(ot),oe=!0,fe["s-ol"]?fe["s-ol"].remove():Dr(fe,!0),fe.remove())},en=(X,ge)=>X.$tag$===ge.$tag$&&("slot"===X.$tag$?X.$name$===ge.$name$:X.$key$===ge.$key$),hn=X=>X&&X["s-ol"]||X,hr=X=>(X["s-ol"]?X["s-ol"]:X).parentNode,_r=(X,ge)=>{const Xe=ge.$elm$=X.$elm$,ot=X.$children$,fe=ge.$children$,Pe=ge.$tag$,rt=ge.$text$;let Ot;null===rt?(ie="svg"===Pe||"foreignObject"!==Pe&&ie,"slot"===Pe||Ut(X,ge,ie),null!==ot&&null!==fe?((X,ge,Xe,ot)=>{let Sr,et,fe=0,Pe=0,rt=0,Ot=0,Pt=ge.length-1,Ft=ge[0],cn=ge[Pt],vn=ot.length-1,jn=ot[0],Ir=ot[vn];for(;fe<=Pt&&Pe<=vn;)if(null==Ft)Ft=ge[++fe];else if(null==cn)cn=ge[--Pt];else if(null==jn)jn=ot[++Pe];else if(null==Ir)Ir=ot[--vn];else if(en(Ft,jn))_r(Ft,jn),Ft=ge[++fe],jn=ot[++Pe];else if(en(cn,Ir))_r(cn,Ir),cn=ge[--Pt],Ir=ot[--vn];else if(en(Ft,Ir))("slot"===Ft.$tag$||"slot"===Ir.$tag$)&&Dr(Ft.$elm$.parentNode,!1),_r(Ft,Ir),X.insertBefore(Ft.$elm$,cn.$elm$.nextSibling),Ft=ge[++fe],Ir=ot[--vn];else if(en(cn,jn))("slot"===Ft.$tag$||"slot"===Ir.$tag$)&&Dr(cn.$elm$.parentNode,!1),_r(cn,jn),X.insertBefore(cn.$elm$,Ft.$elm$),cn=ge[--Pt],jn=ot[++Pe];else{for(rt=-1,Ot=fe;Ot<=Pt;++Ot)if(ge[Ot]&&null!==ge[Ot].$key$&&ge[Ot].$key$===jn.$key$){rt=Ot;break}rt>=0?(et=ge[rt],et.$tag$!==jn.$tag$?Sr=ur(ge&&ge[Pe],Xe,rt,X):(_r(et,jn),ge[rt]=void 0,Sr=et.$elm$),jn=ot[++Pe]):(Sr=ur(ge&&ge[Pe],Xe,Pe,X),jn=ot[++Pe]),Sr&&hr(Ft.$elm$).insertBefore(Sr,hn(Ft.$elm$))}fe>Pt?Jn(X,null==ot[vn+1]?null:ot[vn+1].$elm$,Xe,ot,Pe,vn):Pe>vn&&Rr(ge,fe,Pt)})(Xe,ot,ge,fe):null!==fe?(null!==X.$text$&&(Xe.textContent=""),Jn(Xe,null,ge,fe,0,fe.length-1)):null!==ot&&Rr(ot,0,ot.length-1),ie&&"svg"===Pe&&(ie=!1)):(Ot=Xe["s-cr"])?Ot.parentNode.textContent=rt:X.$text$!==rt&&(Xe.data=rt)},ir=X=>{const ge=X.childNodes;let Xe,ot,fe,Pe,rt,Ot;for(ot=0,fe=ge.length;ot<fe;ot++)if(Xe=ge[ot],1===Xe.nodeType){if(Xe["s-sr"])for(rt=Xe["s-sn"],Xe.hidden=!1,Pe=0;Pe<fe;Pe++)if(Ot=ge[Pe].nodeType,ge[Pe]["s-hn"]!==Xe["s-hn"]||""!==rt){if(1===Ot&&rt===ge[Pe].getAttribute("slot")){Xe.hidden=!0;break}}else if(1===Ot||3===Ot&&""!==ge[Pe].textContent.trim()){Xe.hidden=!0;break}ir(Xe)}},xn=[],Cr=X=>{let ge,Xe,ot,fe,Pe,rt,Ot=0;const Pt=X.childNodes,Ft=Pt.length;for(;Ot<Ft;Ot++){if(ge=Pt[Ot],ge["s-sr"]&&(Xe=ge["s-cr"])&&Xe.parentNode)for(ot=Xe.parentNode.childNodes,fe=ge["s-sn"],rt=ot.length-1;rt>=0;rt--)Xe=ot[rt],!Xe["s-cn"]&&!Xe["s-nr"]&&Xe["s-hn"]!==ge["s-hn"]&&(Lr(Xe,fe)?(Pe=xn.find(cn=>cn.$nodeToRelocate$===Xe),oe=!0,Xe["s-sn"]=Xe["s-sn"]||fe,Pe?Pe.$slotRefNode$=ge:xn.push({$slotRefNode$:ge,$nodeToRelocate$:Xe}),Xe["s-sr"]&&xn.map(cn=>{Lr(cn.$nodeToRelocate$,Xe["s-sn"])&&(Pe=xn.find(vn=>vn.$nodeToRelocate$===Xe),Pe&&!cn.$slotRefNode$&&(cn.$slotRefNode$=Pe.$slotRefNode$))})):xn.some(cn=>cn.$nodeToRelocate$===Xe)||xn.push({$nodeToRelocate$:Xe}));1===ge.nodeType&&Cr(ge)}},Lr=(X,ge)=>1===X.nodeType?null===X.getAttribute("slot")&&""===ge||X.getAttribute("slot")===ge:X["s-sn"]===ge||""===ge,Pn=X=>{X.$attrs$&&X.$attrs$.ref&&X.$attrs$.ref(null),X.$children$&&X.$children$.map(Pn)},bn=X=>Ce(X).$hostElement$,Ze=(X,ge,Xe)=>{const ot=bn(X);return{emit:fe=>Ne(ot,ge,{bubbles:!!(4&Xe),composed:!!(2&Xe),cancelable:!!(1&Xe),detail:fe})}},Ne=(X,ge,Xe)=>{const ot=ue.ce(ge,Xe);return X.dispatchEvent(ot),ot},xe=(X,ge)=>{ge&&!X.$onRenderResolve$&&ge["s-p"]&&ge["s-p"].push(new Promise(Xe=>X.$onRenderResolve$=Xe))},Le=(X,ge)=>{if(X.$flags$|=16,!(4&X.$flags$))return xe(X,X.$ancestorComponent$),Mi(()=>Ue(X,ge));X.$flags$|=512},Ue=(X,ge)=>{const ot=X.$lazyInstance$;let fe;return ge&&(X.$flags$|=256,X.$queuedListeners$&&(X.$queuedListeners$.map(([Pe,rt])=>er(ot,Pe,rt)),X.$queuedListeners$=null),fe=er(ot,"componentWillLoad")),fe=it(fe,()=>er(ot,"componentWillRender")),it(fe,()=>Tt(X,ot,ge))},Tt=function(){var X=(0,a.Z)(function*(ge,Xe,ot){const fe=ge.$hostElement$,rt=fe["s-rc"];ot&&(X=>{const ge=X.$cmpMeta$,Xe=X.$hostElement$,ot=ge.$flags$,Pe=ut(Xe.shadowRoot?Xe.shadowRoot:Xe.getRootNode(),ge,X.$modeName$);10&ot&&(Xe["s-sc"]=Pe,Xe.classList.add(Pe+"-h"),2&ot&&Xe.classList.add(Pe+"-s"))})(ge);jt(ge,Xe),rt&&(rt.map(Pt=>Pt()),fe["s-rc"]=void 0);{const Pt=fe["s-p"],Ft=()=>pn(ge);0===Pt.length?Ft():(Promise.all(Pt).then(Ft),ge.$flags$|=4,Pt.length=0)}});return function(Xe,ot,fe){return X.apply(this,arguments)}}(),jt=(X,ge,Xe)=>{try{ge=ge.render&&ge.render(),X.$flags$&=-17,X.$flags$|=2,((X,ge)=>{const Xe=X.$hostElement$,ot=X.$cmpMeta$,fe=X.$vnode$||yn(null,null),Pe=(X=>X&&X.$tag$===Rn)(ge)?ge:wn(null,null,ge);if(_e=Xe.tagName,ot.$attrsToReflect$&&(Pe.$attrs$=Pe.$attrs$||{},ot.$attrsToReflect$.map(([rt,Ot])=>Pe.$attrs$[Ot]=Xe[rt])),Pe.$tag$=null,Pe.$flags$|=4,X.$vnode$=Pe,Pe.$elm$=fe.$elm$=Xe.shadowRoot||Xe,V=Xe["s-sc"],ve=Xe["s-cr"],se=0!=(1&ot.$flags$),oe=!1,_r(fe,Pe),ue.$flags$|=1,le){Cr(Pe.$elm$);let rt,Ot,Pt,Ft,cn,vn,jn=0;for(;jn<xn.length;jn++)rt=xn[jn],Ot=rt.$nodeToRelocate$,Ot["s-ol"]||(Pt=de.createTextNode(""),Pt["s-nr"]=Ot,Ot.parentNode.insertBefore(Ot["s-ol"]=Pt,Ot));for(jn=0;jn<xn.length;jn++)if(rt=xn[jn],Ot=rt.$nodeToRelocate$,rt.$slotRefNode$){for(Ft=rt.$slotRefNode$.parentNode,cn=rt.$slotRefNode$.nextSibling,Pt=Ot["s-ol"];Pt=Pt.previousSibling;)if(vn=Pt["s-nr"],vn&&vn["s-sn"]===Ot["s-sn"]&&Ft===vn.parentNode&&(vn=vn.nextSibling,!vn||!vn["s-nr"])){cn=vn;break}(!cn&&Ft!==Ot.parentNode||Ot.nextSibling!==cn)&&Ot!==cn&&(!Ot["s-hn"]&&Ot["s-ol"]&&(Ot["s-hn"]=Ot["s-ol"].parentNode.nodeName),Ft.insertBefore(Ot,cn))}else 1===Ot.nodeType&&(Ot.hidden=!0)}oe&&ir(Pe.$elm$),ue.$flags$&=-2,xn.length=0})(X,ge)}catch(ot){_n(ot,X.$hostElement$)}return null},pn=X=>{const Xe=X.$hostElement$,fe=X.$lazyInstance$,Pe=X.$ancestorComponent$;er(fe,"componentDidRender"),64&X.$flags$?er(fe,"componentDidUpdate"):(X.$flags$|=64,He(Xe),er(fe,"componentDidLoad"),X.$onReadyResolve$(Xe),Pe||$n()),X.$onInstanceResolve$(Xe),X.$onRenderResolve$&&(X.$onRenderResolve$(),X.$onRenderResolve$=void 0),512&X.$flags$&&lr(()=>Le(X,!1)),X.$flags$&=-517},Gn=X=>{{const ge=Ce(X),Xe=ge.$hostElement$.isConnected;return Xe&&2==(18&ge.$flags$)&&Le(ge,!1),Xe}},$n=X=>{He(de.documentElement),lr(()=>Ne(K,"appload",{detail:{namespace:"ionic"}}))},er=(X,ge,Xe)=>{if(X&&X[ge])try{return X[ge](Xe)}catch(ot){_n(ot)}},it=(X,ge)=>X&&X.then?X.then(ge):ge(),He=X=>X.classList.add("hydrated"),Rt=(X,ge,Xe,ot,fe,Pe,rt)=>{let Ot,Pt,Ft,cn;if(1===Pe.nodeType){for(Ot=Pe.getAttribute("c-id"),Ot&&(Pt=Ot.split("."),(Pt[0]===rt||"0"===Pt[0])&&(Ft={$flags$:0,$hostId$:Pt[0],$nodeId$:Pt[1],$depth$:Pt[2],$index$:Pt[3],$tag$:Pe.tagName.toLowerCase(),$elm$:Pe,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},ge.push(Ft),Pe.removeAttribute("c-id"),X.$children$||(X.$children$=[]),X.$children$[Ft.$index$]=Ft,X=Ft,ot&&"0"===Ft.$depth$&&(ot[Ft.$index$]=Ft.$elm$))),cn=Pe.childNodes.length-1;cn>=0;cn--)Rt(X,ge,Xe,ot,fe,Pe.childNodes[cn],rt);if(Pe.shadowRoot)for(cn=Pe.shadowRoot.childNodes.length-1;cn>=0;cn--)Rt(X,ge,Xe,ot,fe,Pe.shadowRoot.childNodes[cn],rt)}else if(8===Pe.nodeType)Pt=Pe.nodeValue.split("."),(Pt[1]===rt||"0"===Pt[1])&&(Ot=Pt[0],Ft={$flags$:0,$hostId$:Pt[1],$nodeId$:Pt[2],$depth$:Pt[3],$index$:Pt[4],$elm$:Pe,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Ot?(Ft.$elm$=Pe.nextSibling,Ft.$elm$&&3===Ft.$elm$.nodeType&&(Ft.$text$=Ft.$elm$.textContent,ge.push(Ft),Pe.remove(),X.$children$||(X.$children$=[]),X.$children$[Ft.$index$]=Ft,ot&&"0"===Ft.$depth$&&(ot[Ft.$index$]=Ft.$elm$))):Ft.$hostId$===rt&&("s"===Ot?(Ft.$tag$="slot",Pe["s-sn"]=Pt[5]?Ft.$name$=Pt[5]:"",Pe["s-sr"]=!0,ot&&(Ft.$elm$=de.createElement(Ft.$tag$),Ft.$name$&&Ft.$elm$.setAttribute("name",Ft.$name$),Pe.parentNode.insertBefore(Ft.$elm$,Pe),Pe.remove(),"0"===Ft.$depth$&&(ot[Ft.$index$]=Ft.$elm$)),Xe.push(Ft),X.$children$||(X.$children$=[]),X.$children$[Ft.$index$]=Ft):"r"===Ot&&(ot?Pe.remove():(fe["s-cr"]=Pe,Pe["s-cn"]=!0))));else if(X&&"style"===X.$tag$){const vn=yn(null,Pe.textContent);vn.$elm$=Pe,vn.$index$="0",X.$children$=[vn]}},Bt=(X,ge)=>{if(1===X.nodeType){let Xe=0;for(;Xe<X.childNodes.length;Xe++)Bt(X.childNodes[Xe],ge);if(X.shadowRoot)for(Xe=0;Xe<X.shadowRoot.childNodes.length;Xe++)Bt(X.shadowRoot.childNodes[Xe],ge)}else if(8===X.nodeType){const Xe=X.nodeValue.split(".");"o"===Xe[0]&&(ge.set(Xe[1]+"."+Xe[2],X),X.nodeValue="",X["s-en"]=Xe[3])}},ke=(X,ge,Xe)=>{if(ge.$members$){X.watchers&&(ge.$watchers$=X.watchers);const ot=Object.entries(ge.$members$),fe=X.prototype;if(ot.map(([Pe,[rt]])=>{31&rt||2&Xe&&32&rt?Object.defineProperty(fe,Pe,{get(){return((X,ge)=>Ce(this).$instanceValues$.get(ge))(0,Pe)},set(Ot){((X,ge,Xe,ot)=>{const fe=Ce(X),Pe=fe.$hostElement$,rt=fe.$instanceValues$.get(ge),Ot=fe.$flags$,Pt=fe.$lazyInstance$;Xe=((X,ge)=>null==X||Dn(X)?X:4&ge?"false"!==X&&(""===X||!!X):2&ge?parseFloat(X):1&ge?String(X):X)(Xe,ot.$members$[ge][0]);const Ft=Number.isNaN(rt)&&Number.isNaN(Xe);if((!(8&Ot)||void 0===rt)&&Xe!==rt&&!Ft&&(fe.$instanceValues$.set(ge,Xe),Pt)){if(ot.$watchers$&&128&Ot){const vn=ot.$watchers$[ge];vn&&vn.map(jn=>{try{Pt[jn](Xe,rt,ge)}catch(Ir){_n(Ir,Pe)}})}2==(18&Ot)&&Le(fe,!1)}})(this,Pe,Ot,ge)},configurable:!0,enumerable:!0}):1&Xe&&64&rt&&Object.defineProperty(fe,Pe,{value(...Ot){const Pt=Ce(this);return Pt.$onInstancePromise$.then(()=>Pt.$lazyInstance$[Pe](...Ot))}})}),1&Xe){const Pe=new Map;fe.attributeChangedCallback=function(rt,Ot,Pt){ue.jmp(()=>{const Ft=Pe.get(rt);if(this.hasOwnProperty(Ft))Pt=this[Ft],delete this[Ft];else if(fe.hasOwnProperty(Ft)&&"number"==typeof this[Ft]&&this[Ft]==Pt)return;this[Ft]=(null!==Pt||"boolean"!=typeof this[Ft])&&Pt})},X.observedAttributes=ot.filter(([rt,Ot])=>15&Ot[0]).map(([rt,Ot])=>{const Pt=Ot[1]||rt;return Pe.set(Pt,rt),512&Ot[0]&&ge.$attrsToReflect$.push([rt,Pt]),Pt})}}return X},we=function(){var X=(0,a.Z)(function*(ge,Xe,ot,fe,Pe){if(0==(32&Xe.$flags$)){{if(Xe.$flags$|=32,(Pe=cr(ot)).then){const Ft=()=>{};Pe=yield Pe,Ft()}Pe.isProxied||(ot.$watchers$=Pe.watchers,ke(Pe,ot,2),Pe.isProxied=!0);const Pt=()=>{};Xe.$flags$|=8;try{new Pe(Xe)}catch(Ft){_n(Ft)}Xe.$flags$&=-9,Xe.$flags$|=128,Pt(),Fe(Xe.$lazyInstance$)}if(Pe.style){let Pt=Pe.style;"string"!=typeof Pt&&(Pt=Pt[Xe.$modeName$=(X=>Qn.map(ge=>ge(X)).find(ge=>!!ge))(ge)]);const Ft=qe(ot,Xe.$modeName$);if(!Xn.has(Ft)){const cn=()=>{};Vt(Ft,Pt,!!(1&ot.$flags$)),cn()}}}const rt=Xe.$ancestorComponent$,Ot=()=>Le(Xe,!0);rt&&rt["s-rc"]?rt["s-rc"].push(Ot):Ot()});return function(Xe,ot,fe,Pe,rt){return X.apply(this,arguments)}}(),Fe=X=>{er(X,"connectedCallback")},Zt=X=>{const ge=X["s-cr"]=de.createComment("");ge["s-cn"]=!0,X.insertBefore(ge,X.firstChild)},mr=(X,ge={})=>{const ot=[],fe=ge.exclude||[],Pe=K.customElements,rt=de.head,Ot=rt.querySelector("meta[charset]"),Pt=de.createElement("style"),Ft=[],cn=de.querySelectorAll(`[${Ie}]`);let vn,jn=!0,Ir=0;for(Object.assign(ue,ge),ue.$resourcesUrl$=new URL(ge.resourcesUrl||"./",de.baseURI).href,ue.$flags$|=2;Ir<cn.length;Ir++)Vt(cn[Ir].getAttribute(Ie),Me(cn[Ir].innerHTML),!0);X.map(Sr=>{Sr[1].map(et=>{const Ke={$flags$:et[0],$tagName$:et[1],$members$:et[2],$listeners$:et[3]};Ke.$members$=et[2],Ke.$listeners$=et[3],Ke.$attrsToReflect$=[],Ke.$watchers$={};const _t=Ke.$tagName$,Nt=class extends HTMLElement{constructor(tn){super(tn),yt(tn=this,Ke),1&Ke.$flags$&&tn.attachShadow({mode:"open",delegatesFocus:!!(16&Ke.$flags$)})}connectedCallback(){vn&&(clearTimeout(vn),vn=null),jn?Ft.push(this):ue.jmp(()=>(X=>{if(0==(1&ue.$flags$)){const ge=Ce(X),Xe=ge.$cmpMeta$,ot=()=>{};if(1&ge.$flags$)De(X,ge,Xe.$listeners$),Fe(ge.$lazyInstance$);else{let fe;if(ge.$flags$|=1,fe=X.getAttribute(Re),fe){if(1&Xe.$flags$){const Pe=ut(X.shadowRoot,Xe,X.getAttribute("s-mode"));X.classList.remove(Pe+"-h",Pe+"-s")}((X,ge,Xe,ot)=>{const Pe=X.shadowRoot,rt=[],Pt=Pe?[]:null,Ft=ot.$vnode$=yn(ge,null);ue.$orgLocNodes$||Bt(de.body,ue.$orgLocNodes$=new Map),X[Re]=Xe,X.removeAttribute(Re),Rt(Ft,rt,[],Pt,X,X,Xe),rt.map(cn=>{const vn=cn.$hostId$+"."+cn.$nodeId$,jn=ue.$orgLocNodes$.get(vn),Ir=cn.$elm$;jn&&""===jn["s-en"]&&jn.parentNode.insertBefore(Ir,jn.nextSibling),Pe||(Ir["s-hn"]=ge,jn&&(Ir["s-ol"]=jn,Ir["s-ol"]["s-nr"]=Ir)),ue.$orgLocNodes$.delete(vn)}),Pe&&Pt.map(cn=>{cn&&Pe.appendChild(cn)})})(X,Xe.$tagName$,fe,ge)}fe||12&Xe.$flags$&&Zt(X);{let Pe=X;for(;Pe=Pe.parentNode||Pe.host;)if(1===Pe.nodeType&&Pe.hasAttribute("s-id")&&Pe["s-p"]||Pe["s-p"]){xe(ge,ge.$ancestorComponent$=Pe);break}}Xe.$members$&&Object.entries(Xe.$members$).map(([Pe,[rt]])=>{if(31&rt&&X.hasOwnProperty(Pe)){const Ot=X[Pe];delete X[Pe],X[Pe]=Ot}}),lr(()=>we(X,ge,Xe))}ot()}})(this))}disconnectedCallback(){ue.jmp(()=>(X=>{if(0==(1&ue.$flags$)){const ge=Ce(this),Xe=ge.$lazyInstance$;ge.$rmListeners$&&(ge.$rmListeners$.map(ot=>ot()),ge.$rmListeners$=void 0),er(Xe,"disconnectedCallback")}})())}componentOnReady(){return Ce(this).$onReadyPromise$}};Ke.$lazyBundleId$=Sr[0],!fe.includes(_t)&&!Pe.get(_t)&&(ot.push(_t),Pe.define(_t,ke(Nt,Ke,1)))})}),Pt.innerHTML=ot+"{visibility:hidden}.hydrated{visibility:inherit}",Pt.setAttribute("data-styles",""),rt.insertBefore(Pt,Ot?Ot.nextSibling:rt.firstChild),jn=!1,Ft.length?Ft.map(Sr=>Sr.connectedCallback()):ue.jmp(()=>vn=setTimeout($n,30))},zn=X=>{const ge=new URL(X,ue.$resourcesUrl$);return ge.origin!==K.location.origin?ge.href:ge.pathname},be=new WeakMap,Ce=X=>be.get(X),Ye=(X,ge)=>be.set(ge.$lazyInstance$=X,ge),yt=(X,ge)=>{const Xe={$flags$:0,$hostElement$:X,$cmpMeta$:ge,$instanceValues$:new Map};return Xe.$onInstancePromise$=new Promise(ot=>Xe.$onInstanceResolve$=ot),Xe.$onReadyPromise$=new Promise(ot=>Xe.$onReadyResolve$=ot),X["s-p"]=[],X["s-rc"]=[],De(X,Xe,ge.$listeners$),be.set(X,Xe)},Ct=(X,ge)=>ge in X,_n=(X,ge)=>(0,console.error)(X,ge),rn=new Map,cr=(X,ge,Xe)=>{const ot=X.$tagName$.replace(/-/g,"_"),fe=X.$lazyBundleId$,Pe=rn.get(fe);return Pe?Pe[ot]:P(863)(`./${fe}.entry.js`).then(rt=>(rn.set(fe,rt),rt[ot]),_n)},Xn=new Map,Qn=[],Sn=[],rr=[],Mr=(X,ge)=>Xe=>{X.push(Xe),te||(te=!0,ge&&4&ue.$flags$?lr(ai):ue.raf(ai))},ei=X=>{for(let ge=0;ge<X.length;ge++)try{X[ge](performance.now())}catch(Xe){_n(Xe)}X.length=0},ai=()=>{ei(Sn),ei(rr),(te=Sn.length>0)&&ue.raf(ai)},lr=X=>ae().then(X),vi=Mr(Sn,!1),Mi=Mr(rr,!0),ti={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},97:(Qt,at,P)=>{"use strict";P.d(at,{m:()=>K});var a=P(5861),U=P(7593),V=P(3756),ve=P(5729),_e=P(9442);const se=de=>(0,_e.c)().duration(de?400:300),oe=de=>{let ue,$e;const Be=de.width+8,ae=(0,_e.c)(),Ve=(0,_e.c)();de.isEndSide?(ue=Be+"px",$e="0px"):(ue=-Be+"px",$e="0px"),ae.addElement(de.menuInnerEl).fromTo("transform",`translateX(${ue})`,`translateX(${$e})`);const ht="ios"===(0,ve.b)(de),J=ht?.2:.25;return Ve.addElement(de.backdropEl).fromTo("opacity",.01,J),se(ht).addAnimation([ae,Ve])},le=de=>{let ue,$e;const Be=(0,ve.b)(de),ae=de.width;de.isEndSide?(ue=-ae+"px",$e=ae+"px"):(ue=ae+"px",$e=-ae+"px");const Ve=(0,_e.c)().addElement(de.menuInnerEl).fromTo("transform",`translateX(${$e})`,"translateX(0px)"),De=(0,_e.c)().addElement(de.contentEl).fromTo("transform","translateX(0px)",`translateX(${ue})`),ht=(0,_e.c)().addElement(de.backdropEl).fromTo("opacity",.01,.32);return se("ios"===Be).addAnimation([Ve,De,ht])},ie=de=>{const ue=(0,ve.b)(de),$e=de.width*(de.isEndSide?-1:1)+"px",Be=(0,_e.c)().addElement(de.contentEl).fromTo("transform","translateX(0px)",`translateX(${$e})`);return se("ios"===ue).addAnimation(Be)},K=(()=>{const de=new Map,ue=[],$e=function(){var dt=(0,a.Z)(function*(qe){const Me=yield st(qe);return!!Me&&Me.open()});return function(Me){return dt.apply(this,arguments)}}(),Be=function(){var dt=(0,a.Z)(function*(qe){const Me=yield void 0!==qe?st(qe):wt();return void 0!==Me&&Me.close()});return function(Me){return dt.apply(this,arguments)}}(),ae=function(){var dt=(0,a.Z)(function*(qe){const Me=yield st(qe);return!!Me&&Me.toggle()});return function(Me){return dt.apply(this,arguments)}}(),Ve=function(){var dt=(0,a.Z)(function*(qe,Me){const Ge=yield st(Me);return Ge&&(Ge.disabled=!qe),Ge});return function(Me,Ge){return dt.apply(this,arguments)}}(),De=function(){var dt=(0,a.Z)(function*(qe,Me){const Ge=yield st(Me);return Ge&&(Ge.swipeGesture=qe),Ge});return function(Me,Ge){return dt.apply(this,arguments)}}(),ht=function(){var dt=(0,a.Z)(function*(qe){if(null!=qe){const Me=yield st(qe);return void 0!==Me&&Me.isOpen()}return void 0!==(yield wt())});return function(Me){return dt.apply(this,arguments)}}(),J=function(){var dt=(0,a.Z)(function*(qe){const Me=yield st(qe);return!!Me&&!Me.disabled});return function(Me){return dt.apply(this,arguments)}}(),st=function(){var dt=(0,a.Z)(function*(qe){return yield ut(),"start"===qe||"end"===qe?Vt(je=>je.side===qe&&!je.disabled)||Vt(je=>je.side===qe):null!=qe?Vt(Ge=>Ge.menuId===qe):Vt(Ge=>!Ge.disabled)||(ue.length>0?ue[0].el:void 0)});return function(Me){return dt.apply(this,arguments)}}(),wt=function(){var dt=(0,a.Z)(function*(){return yield ut(),ne()});return function(){return dt.apply(this,arguments)}}(),St=function(){var dt=(0,a.Z)(function*(){return yield ut(),ct()});return function(){return dt.apply(this,arguments)}}(),Qe=function(){var dt=(0,a.Z)(function*(){return yield ut(),pt()});return function(){return dt.apply(this,arguments)}}(),Ae=(dt,qe)=>{de.set(dt,qe)},ye=dt=>{const qe=dt.side;ue.filter(Me=>Me.side===qe&&Me!==dt).forEach(Me=>Me.disabled=!0)},q=function(){var dt=(0,a.Z)(function*(qe,Me,Ge){if(pt())return!1;if(Me){const je=yield wt();je&&qe.el!==je&&(yield je.setOpen(!1,!1))}return qe._setOpen(Me,Ge)});return function(Me,Ge,je){return dt.apply(this,arguments)}}(),ne=()=>Vt(dt=>dt._isOpen),ct=()=>ue.map(dt=>dt.el),pt=()=>ue.some(dt=>dt.isAnimating),Vt=dt=>{const qe=ue.find(dt);if(void 0!==qe)return qe.el},ut=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(dt=>new Promise(qe=>(0,V.c)(dt,qe))));return Ae("reveal",ie),Ae("push",le),Ae("overlay",oe),typeof document<"u"&&document.addEventListener("ionBackButton",dt=>{const qe=ne();qe&&dt.detail.register(U.MENU_BACK_BUTTON_PRIORITY,()=>qe.close())}),{registerAnimation:Ae,get:st,getMenus:St,getOpen:wt,isEnabled:J,swipeGesture:De,isAnimating:Qe,isOpen:ht,enable:Ve,toggle:ae,close:Be,open:$e,_getOpenSync:ne,_createAnimation:(dt,qe)=>{const Me=de.get(dt);if(!Me)throw new Error("animation not registered");return Me(qe)},_register:dt=>{ue.indexOf(dt)<0&&(dt.disabled||ye(dt),ue.push(dt))},_unregister:dt=>{const qe=ue.indexOf(dt);qe>-1&&ue.splice(qe,1)},_setOpen:q,_setActiveMenu:ye}})()},5729:(Qt,at,P)=>{"use strict";P.d(at,{a:()=>K,b:()=>pt,c:()=>V,g:()=>te,i:()=>Vt});var a=P(7205);class U{constructor(){this.m=new Map}reset(dt){this.m=new Map(Object.entries(dt))}get(dt,qe){const Me=this.m.get(dt);return void 0!==Me?Me:qe}getBoolean(dt,qe=!1){const Me=this.m.get(dt);return void 0===Me?qe:"string"==typeof Me?"true"===Me:!!Me}getNumber(dt,qe){const Me=parseFloat(this.m.get(dt));return isNaN(Me)?void 0!==qe?qe:NaN:Me}set(dt,qe){this.m.set(dt,qe)}}const V=new U,ie="ionic-persist-config",te=ut=>de(ut),K=(ut,dt)=>("string"==typeof ut&&(dt=ut,ut=void 0),te(ut).includes(dt)),de=(ut=window)=>{if(typeof ut>"u")return[];ut.Ionic=ut.Ionic||{};let dt=ut.Ionic.platforms;return null==dt&&(dt=ut.Ionic.platforms=ue(ut),dt.forEach(qe=>ut.document.documentElement.classList.add(`plt-${qe}`))),dt},ue=ut=>{const dt=V.get("platform");return Object.keys(ne).filter(qe=>{const Me=dt?.[qe];return"function"==typeof Me?Me(ut):ne[qe](ut)})},Be=ut=>!!(q(ut,/iPad/i)||q(ut,/Macintosh/i)&&wt(ut)),De=ut=>q(ut,/android|sink/i),wt=ut=>he(ut,"(any-pointer:coarse)"),Qe=ut=>Ae(ut)||Re(ut),Ae=ut=>!!(ut.cordova||ut.phonegap||ut.PhoneGap),Re=ut=>!!ut.Capacitor?.isNative,q=(ut,dt)=>dt.test(ut.navigator.userAgent),he=(ut,dt)=>{var qe;return null===(qe=ut.matchMedia)||void 0===qe?void 0:qe.call(ut,dt).matches},ne={ipad:Be,iphone:ut=>q(ut,/iPhone/i),ios:ut=>q(ut,/iPhone|iPod/i)||Be(ut),android:De,phablet:ut=>{const dt=ut.innerWidth,qe=ut.innerHeight,Me=Math.min(dt,qe),Ge=Math.max(dt,qe);return Me>390&&Me<520&&Ge>620&&Ge<800},tablet:ut=>{const dt=ut.innerWidth,qe=ut.innerHeight,Me=Math.min(dt,qe),Ge=Math.max(dt,qe);return Be(ut)||(ut=>De(ut)&&!q(ut,/mobile/i))(ut)||Me>460&&Me<820&&Ge>780&&Ge<1400},cordova:Ae,capacitor:Re,electron:ut=>q(ut,/electron/i),pwa:ut=>{var dt;return!(!(null===(dt=ut.matchMedia)||void 0===dt?void 0:dt.call(ut,"(display-mode: standalone)").matches)&&!ut.navigator.standalone)},mobile:wt,mobileweb:ut=>wt(ut)&&!Qe(ut),desktop:ut=>!wt(ut),hybrid:Qe};let ct;const pt=ut=>ut&&(0,a.g)(ut)||ct,Vt=(ut={})=>{if(typeof window>"u")return;const dt=window.document,qe=window,Me=qe.Ionic=qe.Ionic||{},Ge={};ut._ael&&(Ge.ael=ut._ael),ut._rel&&(Ge.rel=ut._rel),ut._ce&&(Ge.ce=ut._ce),(0,a.s)(Ge);const je=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(ut=>{try{const dt=ut.sessionStorage.getItem(ie);return null!==dt?JSON.parse(dt):{}}catch{return{}}})(qe)),{persistConfig:!1}),Me.config),(ut=>{const dt={};return ut.location.search.slice(1).split("&").map(qe=>qe.split("=")).map(([qe,Me])=>[decodeURIComponent(qe),decodeURIComponent(Me)]).filter(([qe])=>((ut,dt)=>ut.substr(0,dt.length)===dt)(qe,"ionic:")).map(([qe,Me])=>[qe.slice("ionic:".length),Me]).forEach(([qe,Me])=>{dt[qe]=Me}),dt})(qe)),ut);V.reset(je),V.getBoolean("persistConfig")&&((ut,dt)=>{try{ut.sessionStorage.setItem(ie,JSON.stringify(dt))}catch{return}})(qe,je),de(qe),Me.config=V,Me.mode=ct=V.get("mode",dt.documentElement.getAttribute("mode")||(K(qe,"ios")?"ios":"md")),V.set("mode",ct),dt.documentElement.setAttribute("mode",ct),dt.documentElement.classList.add(ct),V.getBoolean("_testing")&&V.set("animated",!1);const ft=gt=>{var Yt;return null===(Yt=gt.tagName)||void 0===Yt?void 0:Yt.startsWith("ION-")},Lt=gt=>["ios","md"].includes(gt);(0,a.a)(gt=>{for(;gt;){const Yt=gt.mode||gt.getAttribute("mode");if(Yt){if(Lt(Yt))return Yt;ft(gt)&&console.warn('Invalid ionic mode: "'+Yt+'", expected: "ios" or "md"')}gt=gt.parentElement}return ct})}},4181:(Qt,at,P)=>{"use strict";P.r(at),P.d(at,{iosTransitionAnimation:()=>de,shadow:()=>se});var a=P(9442),U=P(9753);P(7205);const _e=ue=>document.querySelector(`${ue}.ion-cloned-element`),se=ue=>ue.shadowRoot||ue,oe=ue=>{const $e="ION-TABS"===ue.tagName?ue:ue.querySelector("ion-tabs"),Be="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=$e){const ae=$e.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ae?ae.querySelector(Be):null}return ue.querySelector(Be)},le=(ue,$e)=>{const Be="ION-TABS"===ue.tagName?ue:ue.querySelector("ion-tabs");let ae=[];if(null!=Be){const Ve=Be.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=Ve&&(ae=Ve.querySelectorAll("ion-buttons"))}else ae=ue.querySelectorAll("ion-buttons");for(const Ve of ae){const De=Ve.closest("ion-header"),ht=De&&!De.classList.contains("header-collapse-condense-inactive"),J=Ve.querySelector("ion-back-button"),st=Ve.classList.contains("buttons-collapse"),wt="start"===Ve.slot||""===Ve.slot;if(null!==J&&wt&&(st&&ht&&$e||!st))return J}return null},te=(ue,$e,Be,ae,Ve,De)=>{const ht=$e?`calc(100% - ${De.right+4}px)`:De.left-4+"px",J=$e?"7px":"-7px",st=$e?"-4px":"4px",wt=$e?"-4px":"4px",St=$e?"right":"left",Qe=$e?"left":"right",Ie=Be?[{offset:0,opacity:1,transform:`translate3d(${st}, ${De.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${J}, ${Ve.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${J}, ${Ve.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${st}, ${De.top-46}px, 0) scale(1)`}],he=Be?[{offset:0,opacity:1,transform:`translate3d(${wt}, ${De.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${wt}, ${De.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${wt}, ${De.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${wt}, ${De.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${wt}, ${De.top-46}px, 0) scale(1)`}],ne=(0,a.c)(),ct=(0,a.c)(),pt=_e("ion-back-button"),Vt=se(pt).querySelector(".button-text"),ut=se(pt).querySelector("ion-icon");pt.text=ae.text,pt.mode=ae.mode,pt.icon=ae.icon,pt.color=ae.color,pt.disabled=ae.disabled,pt.style.setProperty("display","block"),pt.style.setProperty("position","fixed"),ct.addElement(ut),ne.addElement(Vt),ne.beforeStyles({"transform-origin":`${St} center`}).beforeAddWrite(()=>{ae.style.setProperty("display","none"),pt.style.setProperty(St,ht)}).afterAddWrite(()=>{ae.style.setProperty("display",""),pt.style.setProperty("display","none"),pt.style.removeProperty(St)}).keyframes(Ie),ct.beforeStyles({"transform-origin":`${Qe} center`}).keyframes(he),ue.addAnimation([ne,ct])},K=(ue,$e,Be,ae,Ve,De)=>{const ht=$e?`calc(100% - ${Ve.right}px)`:`${Ve.left}px`,J=$e?"-18px":"18px",st=$e?"right":"left",Qe=Be?[{offset:0,opacity:0,transform:`translate3d(${J}, ${De.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${Ve.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${Ve.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${J}, ${De.top-4}px, 0) scale(0.5)`}],Ae=_e("ion-title"),Re=(0,a.c)();Ae.innerText=ae.innerText,Ae.size=ae.size,Ae.color=ae.color,Re.addElement(Ae),Re.beforeStyles({"transform-origin":`${st} center`,height:"46px",display:"",position:"relative",[st]:ht}).beforeAddWrite(()=>{ae.style.setProperty("display","none")}).afterAddWrite(()=>{ae.style.setProperty("display",""),Ae.style.setProperty("display","none")}).keyframes(Qe),ue.addAnimation(Re)},de=(ue,$e)=>{try{const Be="cubic-bezier(0.32,0.72,0,1)",ae="opacity",Ve="transform",De="0%",J="rtl"===ue.ownerDocument.dir,st=J?"-99.5%":"99.5%",wt=J?"33%":"-33%",St=$e.enteringEl,Qe=$e.leavingEl,Ae="back"===$e.direction,Re=St.querySelector(":scope > ion-content"),Ie=St.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ye=St.querySelectorAll(":scope > ion-header > ion-toolbar"),q=(0,a.c)(),he=(0,a.c)();if(q.addElement(St).duration($e.duration||540).easing($e.easing||Be).fill("both").beforeRemoveClass("ion-page-invisible"),Qe&&ue){const Vt=(0,a.c)();Vt.addElement(ue),q.addAnimation(Vt)}if(Re||0!==ye.length||0!==Ie.length?(he.addElement(Re),he.addElement(Ie)):he.addElement(St.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),q.addAnimation(he),Ae?he.beforeClearStyles([ae]).fromTo("transform",`translateX(${wt})`,`translateX(${De})`).fromTo(ae,.8,1):he.beforeClearStyles([ae]).fromTo("transform",`translateX(${st})`,`translateX(${De})`),Re){const Vt=se(Re).querySelector(".transition-effect");if(Vt){const ut=Vt.querySelector(".transition-cover"),dt=Vt.querySelector(".transition-shadow"),qe=(0,a.c)(),Me=(0,a.c)(),Ge=(0,a.c)();qe.addElement(Vt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Me.addElement(ut).beforeClearStyles([ae]).fromTo(ae,0,.1),Ge.addElement(dt).beforeClearStyles([ae]).fromTo(ae,.03,.7),qe.addAnimation([Me,Ge]),he.addAnimation([qe])}}const ne=St.querySelector("ion-header.header-collapse-condense"),{forward:ct,backward:pt}=((ue,$e,Be,ae,Ve)=>{const De=le(ae,Be),ht=oe(Ve),J=oe(ae),st=le(Ve,Be),wt=null!==De&&null!==ht&&!Be,St=null!==J&&null!==st&&Be;if(wt){const Qe=ht.getBoundingClientRect(),Ae=De.getBoundingClientRect();K(ue,$e,Be,ht,Qe,Ae),te(ue,$e,Be,De,Qe,Ae)}else if(St){const Qe=J.getBoundingClientRect(),Ae=st.getBoundingClientRect();K(ue,$e,Be,J,Qe,Ae),te(ue,$e,Be,st,Qe,Ae)}return{forward:wt,backward:St}})(q,J,Ae,St,Qe);if(ye.forEach(Vt=>{const ut=(0,a.c)();ut.addElement(Vt),q.addAnimation(ut);const dt=(0,a.c)();dt.addElement(Vt.querySelector("ion-title"));const qe=(0,a.c)(),Me=Array.from(Vt.querySelectorAll("ion-buttons,[menuToggle]")),Ge=Vt.closest("ion-header"),je=Ge?.classList.contains("header-collapse-condense-inactive");let ft;ft=Me.filter(Ae?Dn=>{const wn=Dn.classList.contains("buttons-collapse");return wn&&!je||!wn}:Dn=>!Dn.classList.contains("buttons-collapse")),qe.addElement(ft);const Lt=(0,a.c)();Lt.addElement(Vt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const gt=(0,a.c)();gt.addElement(se(Vt).querySelector(".toolbar-background"));const Yt=(0,a.c)(),Ln=Vt.querySelector("ion-back-button");if(Ln&&Yt.addElement(Ln),ut.addAnimation([dt,qe,Lt,gt,Yt]),qe.fromTo(ae,.01,1),Lt.fromTo(ae,.01,1),Ae)je||dt.fromTo("transform",`translateX(${wt})`,`translateX(${De})`).fromTo(ae,.01,1),Lt.fromTo("transform",`translateX(${wt})`,`translateX(${De})`),Yt.fromTo(ae,.01,1);else if(ne||dt.fromTo("transform",`translateX(${st})`,`translateX(${De})`).fromTo(ae,.01,1),Lt.fromTo("transform",`translateX(${st})`,`translateX(${De})`),gt.beforeClearStyles([ae,"transform"]),Ge?.translucent?gt.fromTo("transform",J?"translateX(-100%)":"translateX(100%)","translateX(0px)"):gt.fromTo(ae,.01,"var(--opacity)"),ct||Yt.fromTo(ae,.01,1),Ln&&!ct){const wn=(0,a.c)();wn.addElement(se(Ln).querySelector(".button-text")).fromTo("transform",J?"translateX(-100px)":"translateX(100px)","translateX(0px)"),ut.addAnimation(wn)}}),Qe){const Vt=(0,a.c)(),ut=Qe.querySelector(":scope > ion-content"),dt=Qe.querySelectorAll(":scope > ion-header > ion-toolbar"),qe=Qe.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(ut||0!==dt.length||0!==qe.length?(Vt.addElement(ut),Vt.addElement(qe)):Vt.addElement(Qe.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),q.addAnimation(Vt),Ae){Vt.beforeClearStyles([ae]).fromTo("transform",`translateX(${De})`,J?"translateX(-100%)":"translateX(100%)");const Me=(0,U.g)(Qe);q.afterAddWrite(()=>{"normal"===q.getDirection()&&Me.style.setProperty("display","none")})}else Vt.fromTo("transform",`translateX(${De})`,`translateX(${wt})`).fromTo(ae,1,.8);if(ut){const Me=se(ut).querySelector(".transition-effect");if(Me){const Ge=Me.querySelector(".transition-cover"),je=Me.querySelector(".transition-shadow"),ft=(0,a.c)(),Lt=(0,a.c)(),gt=(0,a.c)();ft.addElement(Me).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Lt.addElement(Ge).beforeClearStyles([ae]).fromTo(ae,.1,0),gt.addElement(je).beforeClearStyles([ae]).fromTo(ae,.7,.03),ft.addAnimation([Lt,gt]),Vt.addAnimation([ft])}}dt.forEach(Me=>{const Ge=(0,a.c)();Ge.addElement(Me);const je=(0,a.c)();je.addElement(Me.querySelector("ion-title"));const ft=(0,a.c)(),Lt=Me.querySelectorAll("ion-buttons,[menuToggle]"),gt=Me.closest("ion-header"),Yt=gt?.classList.contains("header-collapse-condense-inactive"),Ln=Array.from(Lt).filter(sn=>{const Tn=sn.classList.contains("buttons-collapse");return Tn&&!Yt||!Tn});ft.addElement(Ln);const Dn=(0,a.c)(),wn=Me.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");wn.length>0&&Dn.addElement(wn);const yn=(0,a.c)();yn.addElement(se(Me).querySelector(".toolbar-background"));const Rn=(0,a.c)(),xr=Me.querySelector("ion-back-button");if(xr&&Rn.addElement(xr),Ge.addAnimation([je,ft,Dn,Rn,yn]),q.addAnimation(Ge),Rn.fromTo(ae,.99,0),ft.fromTo(ae,.99,0),Dn.fromTo(ae,.99,0),Ae){if(Yt||je.fromTo("transform",`translateX(${De})`,J?"translateX(-100%)":"translateX(100%)").fromTo(ae,.99,0),Dn.fromTo("transform",`translateX(${De})`,J?"translateX(-100%)":"translateX(100%)"),yn.beforeClearStyles([ae,"transform"]),gt?.translucent?yn.fromTo("transform","translateX(0px)",J?"translateX(-100%)":"translateX(100%)"):yn.fromTo(ae,"var(--opacity)",0),xr&&!pt){const Tn=(0,a.c)();Tn.addElement(se(xr).querySelector(".button-text")).fromTo("transform",`translateX(${De})`,`translateX(${(J?-124:124)+"px"})`),Ge.addAnimation(Tn)}}else Yt||je.fromTo("transform",`translateX(${De})`,`translateX(${wt})`).fromTo(ae,.99,0).afterClearStyles([Ve,ae]),Dn.fromTo("transform",`translateX(${De})`,`translateX(${wt})`).afterClearStyles([Ve,ae]),Rn.afterClearStyles([ae]),je.afterClearStyles([ae]),ft.afterClearStyles([ae])})}return q}catch(Be){throw Be}}},5980:(Qt,at,P)=>{"use strict";P.r(at),P.d(at,{mdTransitionAnimation:()=>ve});var a=P(9442),U=P(9753);P(7205);const ve=(_e,se)=>{const ie="back"===se.direction,K=se.leavingEl,de=(0,U.g)(se.enteringEl),ue=de.querySelector("ion-toolbar"),$e=(0,a.c)();if($e.addElement(de).fill("both").beforeRemoveClass("ion-page-invisible"),ie?$e.duration(se.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):$e.duration(se.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),ue){const Be=(0,a.c)();Be.addElement(ue),$e.addAnimation(Be)}if(K&&ie){$e.duration(se.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Be=(0,a.c)();Be.addElement((0,U.g)(K)).onFinish(ae=>{1===ae&&Be.elements.length>0&&Be.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),$e.addAnimation(Be)}return $e}},3280:(Qt,at,P)=>{"use strict";P.d(at,{B:()=>qe,a:()=>le,b:()=>ie,c:()=>ue,d:()=>Ie,e:()=>Be,f:()=>q,g:()=>ct,h:()=>se,i:()=>Vt,j:()=>De,k:()=>Ae,l:()=>te,m:()=>K,s:()=>dt,t:()=>$e});var a=P(5861),U=P(5729),V=P(7593),ve=P(3756);let _e=0;const se=new WeakMap,oe=Me=>({create:Ge=>ae(Me,Ge),dismiss:(Ge,je,ft)=>St(document,Ge,je,Me,ft),getTop:()=>(0,a.Z)(function*(){return Ae(document,Me)})()}),le=oe("ion-alert"),ie=oe("ion-action-sheet"),te=oe("ion-loading"),K=oe("ion-modal"),ue=oe("ion-popover"),$e=oe("ion-toast"),Be=Me=>{typeof document<"u"&&wt(document);const Ge=_e++;Me.overlayIndex=Ge,Me.hasAttribute("id")||(Me.id=`ion-overlay-${Ge}`)},ae=(Me,Ge)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Me).then(()=>{const je=document.createElement(Me);return je.classList.add("overlay-hidden"),Object.assign(je,Object.assign(Object.assign({},Ge),{hasController:!0})),he(document).appendChild(je),new Promise(ft=>(0,ve.c)(je,ft))}):Promise.resolve(),Ve='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',De=(Me,Ge)=>{let je=Me.querySelector(Ve);const ft=je?.shadowRoot;ft&&(je=ft.querySelector(Ve)||je),je?(0,ve.f)(je):Ge.focus()},J=(Me,Ge)=>{const je=Array.from(Me.querySelectorAll(Ve));let ft=je.length>0?je[je.length-1]:null;const Lt=ft?.shadowRoot;Lt&&(ft=Lt.querySelector(Ve)||ft),ft?ft.focus():Ge.focus()},wt=Me=>{0===_e&&(_e=1,Me.addEventListener("focus",Ge=>{((Me,Ge)=>{const je=Ae(Ge,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),ft=Me.target;je&&ft&&!je.classList.contains("ion-disable-focus-trap")&&(je.shadowRoot?(()=>{if(je.contains(ft))je.lastFocus=ft;else{const Yt=je.lastFocus;De(je,je),Yt===Ge.activeElement&&J(je,je),je.lastFocus=Ge.activeElement}})():(()=>{if(je===ft)je.lastFocus=void 0;else{const Yt=(0,ve.g)(je);if(!Yt.contains(ft))return;const Ln=Yt.querySelector(".ion-overlay-wrapper");if(!Ln)return;if(Ln.contains(ft))je.lastFocus=ft;else{const Dn=je.lastFocus;De(Ln,je),Dn===Ge.activeElement&&J(Ln,je),je.lastFocus=Ge.activeElement}}})())})(Ge,Me)},!0),Me.addEventListener("ionBackButton",Ge=>{const je=Ae(Me);je?.backdropDismiss&&Ge.detail.register(V.OVERLAY_BACK_BUTTON_PRIORITY,()=>je.dismiss(void 0,qe))}),Me.addEventListener("keyup",Ge=>{if("Escape"===Ge.key){const je=Ae(Me);je?.backdropDismiss&&je.dismiss(void 0,qe)}}))},St=(Me,Ge,je,ft,Lt)=>{const gt=Ae(Me,ft,Lt);return gt?gt.dismiss(Ge,je):Promise.reject("overlay does not exist")},Ae=(Me,Ge,je)=>{const ft=((Me,Ge)=>(void 0===Ge&&(Ge="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(Me.querySelectorAll(Ge)).filter(je=>je.overlayIndex>0)))(Me,Ge).filter(Lt=>!(Me=>Me.classList.contains("overlay-hidden"))(Lt));return void 0===je?ft[ft.length-1]:ft.find(Lt=>Lt.id===je)},Re=(Me=!1)=>{const je=he(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!je||(Me?je.setAttribute("aria-hidden","true"):je.removeAttribute("aria-hidden"))},Ie=function(){var Me=(0,a.Z)(function*(Ge,je,ft,Lt,gt){var Yt,Ln;if(Ge.presented)return;Re(!0),Ge.presented=!0,Ge.willPresent.emit(),null===(Yt=Ge.willPresentShorthand)||void 0===Yt||Yt.emit();const Dn=(0,U.b)(Ge),wn=Ge.enterAnimation?Ge.enterAnimation:U.c.get(je,"ios"===Dn?ft:Lt);(yield ne(Ge,wn,Ge.el,gt))&&(Ge.didPresent.emit(),null===(Ln=Ge.didPresentShorthand)||void 0===Ln||Ln.emit()),"ION-TOAST"!==Ge.el.tagName&&ye(Ge.el),Ge.keyboardClose&&(null===document.activeElement||!Ge.el.contains(document.activeElement))&&Ge.el.focus()});return function(je,ft,Lt,gt,Yt){return Me.apply(this,arguments)}}(),ye=function(){var Me=(0,a.Z)(function*(Ge){let je=document.activeElement;if(!je)return;const ft=je?.shadowRoot;ft&&(je=ft.querySelector(Ve)||je),yield Ge.onDidDismiss(),je.focus()});return function(je){return Me.apply(this,arguments)}}(),q=function(){var Me=(0,a.Z)(function*(Ge,je,ft,Lt,gt,Yt,Ln){var Dn,wn;if(!Ge.presented)return!1;Re(!1),Ge.presented=!1;try{Ge.el.style.setProperty("pointer-events","none"),Ge.willDismiss.emit({data:je,role:ft}),null===(Dn=Ge.willDismissShorthand)||void 0===Dn||Dn.emit({data:je,role:ft});const yn=(0,U.b)(Ge),Rn=Ge.leaveAnimation?Ge.leaveAnimation:U.c.get(Lt,"ios"===yn?gt:Yt);"gesture"!==ft&&(yield ne(Ge,Rn,Ge.el,Ln)),Ge.didDismiss.emit({data:je,role:ft}),null===(wn=Ge.didDismissShorthand)||void 0===wn||wn.emit({data:je,role:ft}),se.delete(Ge),Ge.el.classList.add("overlay-hidden"),Ge.el.style.removeProperty("pointer-events")}catch(yn){console.error(yn)}return Ge.el.remove(),!0});return function(je,ft,Lt,gt,Yt,Ln,Dn){return Me.apply(this,arguments)}}(),he=Me=>Me.querySelector("ion-app")||Me.body,ne=function(){var Me=(0,a.Z)(function*(Ge,je,ft,Lt){ft.classList.remove("overlay-hidden");const Yt=je(Ge.el,Lt);(!Ge.animated||!U.c.getBoolean("animated",!0))&&Yt.duration(0),Ge.keyboardClose&&Yt.beforeAddWrite(()=>{const Dn=ft.ownerDocument.activeElement;Dn?.matches("input,ion-input, ion-textarea")&&Dn.blur()});const Ln=se.get(Ge)||[];return se.set(Ge,[...Ln,Yt]),yield Yt.play(),!0});return function(je,ft,Lt,gt){return Me.apply(this,arguments)}}(),ct=(Me,Ge)=>{let je;const ft=new Promise(Lt=>je=Lt);return pt(Me,Ge,Lt=>{je(Lt.detail)}),ft},pt=(Me,Ge,je)=>{const ft=Lt=>{(0,ve.b)(Me,Ge,ft),je(Lt)};(0,ve.a)(Me,Ge,ft)},Vt=Me=>"cancel"===Me||Me===qe,ut=Me=>Me(),dt=(Me,Ge)=>{if("function"==typeof Me)return U.c.get("_zoneGate",ut)(()=>{try{return Me(Ge)}catch(ft){throw ft}})},qe="backdrop"},5739:(Qt,at,P)=>{"use strict";P.d(at,{e:()=>ie});var a=P(5861),U=P(6457),oe=(P(2090),P(9681),P(1877),P(4859),P(6353)),le=P(4941);let ie=(()=>{class te{constructor(de){this.authFirebase=de}login(de,ue){return(0,a.Z)(function*(){const $e=(0,U.n)();yield(0,U.p)($e,U.a).then(()=>(0,U.a6)($e,de,ue)).catch(Be=>{console.log(Be)})})()}logout(){this.authFirebase.signOut()}registrarUserLindsDatabase(de){return this.authFirebase.createUserWithEmailAndPassword(de.correo,de.password)}register(de){return this.authFirebase.createUserWithEmailAndPassword(de.correo,de.password)}stateUser(){return this.authFirebase.authState}}return te.\u0275fac=function(de){return new(de||te)(oe.LFG(le.zQ))},te.\u0275prov=oe.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})()},5623:(Qt,at,P)=>{"use strict";P.d(at,{y:()=>ve});var a=P(5861),U=P(6353),V=P(9928);let ve=(()=>{class _e{constructor(oe,le,ie){this.alertController=oe,this.toastController=le,this.loadingCtrl=ie,this.loading=!1}alertaInformativa(oe){var le=this;return(0,a.Z)(function*(){yield(yield le.alertController.create({message:oe,buttons:["OK"]})).present()})()}presentToast(oe){var le=this;return(0,a.Z)(function*(){(yield le.toastController.create({message:oe,position:"top",duration:1500})).present()})()}showLoading(oe){var le=this;return(0,a.Z)(function*(){return le.loading=!0,yield le.loadingCtrl.create({message:oe}).then(ie=>{ie.present().then(()=>{le.loading||ie.dismiss()})})})()}closeLoading(){var oe=this;return(0,a.Z)(function*(){return oe.loading=!1,yield oe.loadingCtrl.dismiss()})()}}return _e.\u0275fac=function(oe){return new(oe||_e)(U.LFG(V.Br),U.LFG(V.yF),U.LFG(V.HT))},_e.\u0275prov=U.Yz7({token:_e,factory:_e.\u0275fac,providedIn:"root"}),_e})()},3241:(Qt,at,P)=>{"use strict";var a=P(1481),U=P(6353),V=P(1519),ve=P(9928),_e=P(5739),se=P(5623),oe=P(6895);const le=function(be){return[be]};function ie(be,Ce){if(1&be&&(U.TgZ(0,"ion-menu-toggle",6)(1,"ion-item",7),U._UZ(2,"ion-icon",8),U.TgZ(3,"ion-label"),U._uU(4),U.qZA()()()),2&be){const Ye=Ce.$implicit;U.xp6(1),U.Q6J("routerLink",U.VKq(4,le,Ye.url)),U.xp6(1),U.Q6J("ios",Ye.icon+"-outline")("md",Ye.icon+"-sharp"),U.xp6(2),U.Oqu(Ye.title)}}let te=(()=>{class be{constructor(Ye,yt,Ct){this.auth=Ye,this.interaction=yt,this.router=Ct,this.appPages=[{title:"Empresas",url:"/empresa",icon:"business"},{title:"Sucursales",url:"/sucursal",icon:"briefcase"},{title:"Usuarios",url:"/usuario",icon:"people"}],this.estado="true",this.auth.stateUser().subscribe(_n=>{_n?(console.log("Esta logeado"),this.estado="false"):(console.log("No esta logeado"),this.estado="true")})}logout(){this.auth.logout(),this.interaction.presentToast("Sesion finalizada"),this.router.navigate(["/database"])}}return be.\u0275fac=function(Ye){return new(Ye||be)(U.Y36(_e.e),U.Y36(se.y),U.Y36(V.F0))},be.\u0275cmp=U.Xpm({type:be,selectors:[["app-root"]],decls:11,vars:2,consts:[["contentId","main-content"],["contentId","main-content","type","overlay","id","menu",3,"disabled"],["id","inbox-list"],["auto-hide","false",4,"ngFor","ngForOf"],["color","danger","id","btnLogin",3,"click"],["id","main-content"],["auto-hide","false"],["routerDirection","root","lines","none","detail","false","routerLinkActive","selected",3,"routerLink"],["slot","start",3,"ios","md"]],template:function(Ye,yt){1&Ye&&(U.TgZ(0,"ion-app")(1,"ion-split-pane",0)(2,"ion-menu",1)(3,"ion-content")(4,"ion-list",2)(5,"ion-list-header"),U._uU(6,"Base de datos"),U.qZA(),U.YNc(7,ie,5,6,"ion-menu-toggle",3),U.qZA()(),U.TgZ(8,"ion-button",4),U.NdJ("click",function(){return yt.logout()}),U._uU(9,"Salir"),U.qZA()(),U._UZ(10,"ion-router-outlet",5),U.qZA()()),2&Ye&&(U.xp6(2),U.Q6J("disabled",yt.estado),U.xp6(5),U.Q6J("ngForOf",yt.appPages))},dependencies:[oe.sg,ve.dr,ve.YG,ve.W2,ve.gu,ve.Ie,ve.Q$,ve.q_,ve.yh,ve.z0,ve.zc,ve.jI,ve.jP,ve.YI,V.rH,V.Od],styles:["ion-menu[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--background: var(--ion-item-background, var(--ion-background-color, #fff))}ion-menu[_ngcontent-%COMP%]{width:200px}ion-menu.md[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-start: 8px;--padding-end: 8px;--padding-top: 20px;--padding-bottom: 20px}ion-menu.md[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0}ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:30px}ion-menu.md[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.md[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:10px}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]{border-bottom:1px solid var(--ion-color-step-150, #d7d8da)}ion-menu.md[_ngcontent-%COMP%]   ion-list#inbox-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:22px;font-weight:600;min-height:20px}ion-menu.md[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{font-size:16px;margin-bottom:18px;color:#757575;min-height:26px}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 10px;--padding-end: 10px;border-radius:4px}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-primary-rgb), .14)}ion-menu.md[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#616e7e}ion-menu.md[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500}ion-menu.ios[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--padding-bottom: 20px}ion-menu.ios[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{padding:20px 0 0}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{line-height:24px;margin-bottom:20px}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--min-height: 50px}ion-menu.ios[_ngcontent-%COMP%]   ion-item.selected[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}ion-menu.ios[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:#73849a}ion-menu.ios[_ngcontent-%COMP%]   ion-list#labels-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:8px}ion-menu.ios[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%], ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{padding-left:16px;padding-right:16px}ion-menu.ios[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{margin-bottom:8px}ion-note[_ngcontent-%COMP%]{display:inline-block;font-size:16px;color:var(--ion-color-medium-shade)}ion-item.selected[_ngcontent-%COMP%]{--color: var(--ion-color-primary)}"]}),be})();var K=P(4850),de=P(2986),ue=P(4941);P(127);const Be=(0,K.U)(be=>!!be);let ae=(()=>{class be{constructor(Ye,yt){this.router=Ye,this.auth=yt,this.canActivate=(Ct,_n)=>{const rn=Ct.data.authGuardPipe||(()=>Be);return this.auth.user.pipe((0,de.q)(1),rn(Ct,_n),(0,K.U)(cr=>"boolean"==typeof cr?cr:Array.isArray(cr)?this.router.createUrlTree(cr):this.router.parseUrl(cr)))}}}return be.\u0275fac=function(Ye){return new(Ye||be)(U.LFG(V.F0),U.LFG(ue.zQ))},be.\u0275prov=U.Yz7({token:be,factory:be.\u0275fac,providedIn:"any"}),be})();const Ve=be=>({canActivate:[ae],data:{authGuardPipe:be}}),ye=()=>(0,K.U)(be=>!!be&&"27CkhymwIyXBdCn50uD3I7ncuAx1"===be.uid||!!be&&"fPtxVafLD8ZrvoIsS52SRItHHf32"===be.uid),q=[{path:"",redirectTo:"database",pathMatch:"full"},{path:"home",loadChildren:()=>P.e(2080).then(P.bind(P,2080)).then(be=>be.HomePageModule)},{path:"database",loadChildren:()=>P.e(9621).then(P.bind(P,9621)).then(be=>be.LoginPageModule)},{path:"registro",loadChildren:()=>Promise.all([P.e(8592),P.e(452)]).then(P.bind(P,452)).then(be=>be.RegistroPageModule)},{path:"empresa",...Ve(ye),loadChildren:()=>Promise.all([P.e(8592),P.e(8984)]).then(P.bind(P,8984)).then(be=>be.EmpresaPageModule)},{path:"crear-empresa",loadChildren:()=>Promise.all([P.e(8592),P.e(888)]).then(P.bind(P,888)).then(be=>be.CrearEmpresaPageModule)},{path:"modificar-empresa",loadChildren:()=>P.e(8592).then(P.bind(P,9730)).then(be=>be.ModificarEmpresaPageModule)},{path:"sucursal",...Ve(ye),loadChildren:()=>Promise.all([P.e(8592),P.e(8313)]).then(P.bind(P,8313)).then(be=>be.SucursalPageModule)},{path:"modificar-sucursal",loadChildren:()=>P.e(8592).then(P.bind(P,3258)).then(be=>be.ModificarSucursalPageModule)},{path:"crear-sucursal",loadChildren:()=>Promise.all([P.e(8592),P.e(4412)]).then(P.bind(P,4412)).then(be=>be.CrearSucursalPageModule)},{path:"crear-usuario",loadChildren:()=>P.e(8592).then(P.bind(P,3519)).then(be=>be.CrearUsuarioPageModule)},{path:"modificar-usuario",loadChildren:()=>Promise.all([P.e(8592),P.e(7977)]).then(P.bind(P,7977)).then(be=>be.ModificarUsuarioPageModule)},{path:"usuario",...Ve(ye),loadChildren:()=>Promise.all([P.e(8592),P.e(4260)]).then(P.bind(P,4260)).then(be=>be.UsuarioPageModule)},{path:"registro-geo",loadChildren:()=>Promise.all([P.e(8592),P.e(2316)]).then(P.bind(P,2316)).then(be=>be.RegistroGeoPageModule)},{path:"conductor",loadChildren:()=>P.e(4211).then(P.bind(P,4211)).then(be=>be.ConductorPageModule)}];let he=(()=>{class be{}return be.\u0275fac=function(Ye){return new(Ye||be)},be.\u0275mod=U.oAB({type:be}),be.\u0275inj=U.cJS({imports:[V.Bz.forRoot(q,{preloadingStrategy:V.wm}),V.Bz]}),be})();var ne=P(2011);const ct_firebaseConfig={apiKey:"AIzaSyBqZh5n9IW9PdYmZiYf_Za6L2lXhMvr-Vg",authDomain:"lindsdatabase.firebaseapp.com",projectId:"lindsdatabase",storageBucket:"lindsdatabase.appspot.com",messagingSenderId:"1056331388389",appId:"1:1056331388389:web:b5418577ee011ce9694b0c",measurementId:"G-ZWC2NZQX2V"};var pt=P(2796),Vt=P(655),dt=P(6498),qe=P(3753),Me={error:"cordova_not_available"},Ge={error:"plugin_not_installed"};function je(be){if(typeof window<"u"&&window.angular){var Ye=window.document,yt=window.angular.element(Ye.querySelector("[ng-app]")||Ye.body).injector();if(yt)return yt.get("$q")(function(_n,rn){be(_n,rn)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(_n,rn){be(_n,rn)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function ft(be,Ce,Ye,yt){void 0===yt&&(yt={});var Ct,_n,rn=je(function(cr,Xn){Ct=yt.destruct?yn(be,Ce,Ye,yt,function(){for(var Qn=[],Sn=0;Sn<arguments.length;Sn++)Qn[Sn]=arguments[Sn];return cr(Qn)},function(){for(var Qn=[],Sn=0;Sn<arguments.length;Sn++)Qn[Sn]=arguments[Sn];return Xn(Qn)}):yn(be,Ce,Ye,yt,cr,Xn),_n=Xn});return Ct&&Ct.error&&(rn.catch(function(){}),"function"==typeof _n&&_n(Ct.error)),rn}function Lt(be,Ce,Ye,yt){return void 0===yt&&(yt={}),je(function(Ct,_n){var rn=yn(be,Ce,Ye,yt);rn?rn.error?_n(rn.error):rn.then&&rn.then(Ct).catch(_n):_n({error:"unexpected_error"})})}function gt(be,Ce,Ye,yt){return void 0===yt&&(yt={}),new dt.y(function(Ct){var _n;return _n=yt.destruct?yn(be,Ce,Ye,yt,function(){for(var rn=[],cr=0;cr<arguments.length;cr++)rn[cr]=arguments[cr];return Ct.next(rn)},function(){for(var rn=[],cr=0;cr<arguments.length;cr++)rn[cr]=arguments[cr];return Ct.error(rn)}):yn(be,Ce,Ye,yt,Ct.next.bind(Ct),Ct.error.bind(Ct)),_n&&_n.error&&(Ct.error(_n.error),Ct.complete()),function(){try{if(yt.clearFunction)return yt.clearWithArgs?yn(be,yt.clearFunction,Ye,yt,Ct.next.bind(Ct),Ct.error.bind(Ct)):yn(be,yt.clearFunction,[])}catch(rn){console.warn("Unable to clear the previous observable watch for",be.constructor.getPluginName(),Ce),console.warn(rn)}}})}function Yt(be,Ce){return Ce=typeof window<"u"&&Ce?sn(window,Ce):Ce||(typeof window<"u"?window:{}),(0,qe.R)(Ce,be)}function Ln(be,Ce,Ye){var yt,Ct,_n;return"string"==typeof be?yt=be:(yt=be.constructor.getPluginRef(),Ye=be.constructor.getPluginName(),_n=be.constructor.getPluginInstallName()),!(!(Ct=xr(yt))||Ce&&typeof Ct[Ce]>"u")||(typeof window>"u"||!window.cordova?(function bt(be,Ce){typeof process>"u"&&console.warn(Ce?"Native: tried calling "+be+"."+Ce+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator":"Native: tried accessing the "+be+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(Ye,Ce),Me):(function Tn(be,Ce,Ye){console.warn(Ye?"Native: tried calling "+be+"."+Ye+", but the "+be+" plugin is not installed.":"Native: tried accessing the "+be+" plugin but it's not installed."),Ce&&console.warn("Install the "+be+" plugin: 'ionic cordova plugin add "+Ce+"'")}(Ye,_n,Ce),Ge))}function yn(be,Ce,Ye,yt,Ct,_n){void 0===yt&&(yt={}),Ye=function wn(be,Ce,Ye,yt){if(void 0===Ce&&(Ce={}),Ce.sync)return be;if("reverse"===Ce.callbackOrder)be.unshift(yt),be.unshift(Ye);else if("node"===Ce.callbackStyle)be.push(function(cr,Xn){cr?yt(cr):Ye(Xn)});else if("object"===Ce.callbackStyle&&Ce.successName&&Ce.errorName){var Ct={};Ct[Ce.successName]=Ye,Ct[Ce.errorName]=yt,be.push(Ct)}else if(typeof Ce.successIndex<"u"||typeof Ce.errorIndex<"u"){var _n=function(){Ce.successIndex>be.length?be[Ce.successIndex]=Ye:be.splice(Ce.successIndex,0,Ye)},rn=function(){Ce.errorIndex>be.length?be[Ce.errorIndex]=yt:be.splice(Ce.errorIndex,0,yt)};Ce.successIndex>Ce.errorIndex?(rn(),_n()):(_n(),rn())}else be.push(Ye),be.push(yt);return be}(Ye,yt,Ct,_n);var rn=Ln(be,Ce);if(!0===rn){var cr=xr(be.constructor.getPluginRef());return cr[Ce].apply(cr,Ye)}return rn}function xr(be){return typeof window<"u"?sn(window,be):null}function sn(be,Ce){for(var Ye=Ce.split("."),yt=be,Ct=0;Ct<Ye.length;Ct++){if(!yt)return null;yt=yt[Ye[Ct]]}return yt}var ur=function(){function be(){}return be.installed=function(){return!0===Ln(this.pluginRef)},be.getPlugin=function(){return typeof window<"u"?function nr(be,Ce){for(var Ye=Ce.split("."),yt=be,Ct=0;Ct<Ye.length;Ct++){if(!yt)return null;yt=yt[Ye[Ct]]}return yt}(window,this.pluginRef):null},be.getPluginName=function(){return this.pluginName},be.getPluginRef=function(){return this.pluginRef},be.getPluginInstallName=function(){return this.plugin},be.getSupportedPlatforms=function(){return this.platforms},be.pluginName="",be.pluginRef="",be.plugin="",be.repo="",be.platforms=[],be.install="",be}();function Dr(be,Ce,Ye,yt){return function(be,Ce,Ye){return void 0===Ye&&(Ye={}),function(){for(var yt=[],Ct=0;Ct<arguments.length;Ct++)yt[Ct]=arguments[Ct];return Ye.sync?yn(be,Ce,yt,Ye):Ye.observable?gt(be,Ce,yt,Ye):Ye.eventObservable&&Ye.event?Yt(Ye.event,Ye.element):Ye.otherPromise?Lt(be,Ce,yt,Ye):ft(be,Ce,yt,Ye)}}(be,Ce,Ye).apply(this,yt)}!function ut(){if(typeof process>"u"){var be=typeof window<"u"?window:{},Ye=Date.now(),yt=!1;be.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-Ye)+" ms"),yt=!0}),setTimeout(function(){!yt&&be.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}}();var hr=function(be){function Ce(){return null!==be&&be.apply(this,arguments)||this}return(0,Vt.ZT)(Ce,be),Ce.prototype.getCurrentPosition=function(Ye){return Dr(this,"getCurrentPosition",{callbackOrder:"reverse"},arguments)},Ce.prototype.watchPosition=function(Ye){return new dt.y(function(yt){var Ct=navigator.geolocation.watchPosition(yt.next.bind(yt),yt.next.bind(yt),Ye);return function(){return navigator.geolocation.clearWatch(Ct)}})},Ce.pluginName="Geolocation",Ce.plugin="cordova-plugin-geolocation",Ce.pluginRef="navigator.geolocation",Ce.repo="https://github.com/apache/cordova-plugin-geolocation",Ce.install='ionic cordova plugin add cordova-plugin-geolocation --variable GEOLOCATION_USAGE_DESCRIPTION="To locate you"',Ce.installVariables=["GEOLOCATION_USAGE_DESCRIPTION"],Ce.platforms=["Amazon Fire OS","Android","Browser","iOS","Windows"],Ce.\u0275fac=function(){var Ye;return function(Ct){return(Ye||(Ye=U.n5z(Ce)))(Ct||Ce)}}(),Ce.\u0275prov=U.Yz7({token:Ce,factory:function(Ye){return Ce.\u0275fac(Ye)}}),Ce}(ur),_r=P(8514),ir=P(1737),xn=P(1086),Cr=P(1221),Lr=P(8929),Pn=P(7876);const kn=new dt.y(Pn.Z);var Ze=P(6787),Ne=P(2198),xe=P(7545),Le=P(2536),Tt=P(2994),jt=P(353),Gn=P(3489),$n=P(9312);class it{constructor(Ce,Ye){this.delay=Ce,this.scheduler=Ye}call(Ce,Ye){return Ye.subscribe(new He(Ce,this.delay,this.scheduler))}}class He extends Gn.L{constructor(Ce,Ye,yt){super(Ce),this.delay=Ye,this.scheduler=yt,this.queue=[],this.active=!1,this.errored=!1}static dispatch(Ce){const Ye=Ce.source,yt=Ye.queue,Ct=Ce.scheduler,_n=Ce.destination;for(;yt.length>0&&yt[0].time-Ct.now()<=0;)yt.shift().notification.observe(_n);if(yt.length>0){const rn=Math.max(0,yt[0].time-Ct.now());this.schedule(Ce,rn)}else this.unsubscribe(),Ye.active=!1}_schedule(Ce){this.active=!0,this.destination.add(Ce.schedule(He.dispatch,this.delay,{source:this,destination:this.destination,scheduler:Ce}))}scheduleNotification(Ce){if(!0===this.errored)return;const Ye=this.scheduler,yt=new Se(Ye.now()+this.delay,Ce);this.queue.push(yt),!1===this.active&&this._schedule(Ye)}_next(Ce){this.scheduleNotification($n.P.createNext(Ce))}_error(Ce){this.errored=!0,this.queue=[],this.destination.error(Ce),this.unsubscribe()}_complete(){this.scheduleNotification($n.P.createComplete()),this.unsubscribe()}}class Se{constructor(Ce,Ye){this.time=Ce,this.notification=Ye}}const Rt="Service workers are disabled or not supported by this browser";class an{constructor(Ce){if(this.serviceWorker=Ce,Ce){const yt=(0,qe.R)(Ce,"controllerchange").pipe((0,K.U)(()=>Ce.controller)),Ct=(0,_r.P)(()=>(0,xn.of)(Ce.controller)),_n=(0,Cr.z)(Ct,yt);this.worker=_n.pipe((0,Ne.h)(Sn=>!!Sn)),this.registration=this.worker.pipe((0,xe.w)(()=>Ce.getRegistration()));const Qn=(0,qe.R)(Ce,"message").pipe((0,K.U)(Sn=>Sn.data)).pipe((0,Ne.h)(Sn=>Sn&&Sn.type)).pipe(function Ue(be){return be?(0,Le.O)(()=>new Lr.xQ,be):(0,Le.O)(new Lr.xQ)}());Qn.connect(),this.events=Qn}else this.worker=this.events=this.registration=function Bt(be){return(0,_r.P)(()=>(0,ir._)(new Error(be)))}(Rt)}postMessage(Ce,Ye){return this.worker.pipe((0,de.q)(1),(0,Tt.b)(yt=>{yt.postMessage({action:Ce,...Ye})})).toPromise().then(()=>{})}postMessageWithOperation(Ce,Ye,yt){const Ct=this.waitForOperationCompleted(yt),_n=this.postMessage(Ce,Ye);return Promise.all([_n,Ct]).then(([,rn])=>rn)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(Ce){let Ye;return Ye="string"==typeof Ce?yt=>yt.type===Ce:yt=>Ce.includes(yt.type),this.events.pipe((0,Ne.h)(Ye))}nextEventOfType(Ce){return this.eventsOfType(Ce).pipe((0,de.q)(1))}waitForOperationCompleted(Ce){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Ne.h)(Ye=>Ye.nonce===Ce),(0,de.q)(1),(0,K.U)(Ye=>{if(void 0!==Ye.result)return Ye.result;throw new Error(Ye.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Mn=(()=>{class be{constructor(Ye){if(this.sw=Ye,this.subscriptionChanges=new Lr.xQ,!Ye.isEnabled)return this.messages=kn,this.notificationClicks=kn,void(this.subscription=kn);this.messages=this.sw.eventsOfType("PUSH").pipe((0,K.U)(Ct=>Ct.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,K.U)(Ct=>Ct.data)),this.pushManager=this.sw.registration.pipe((0,K.U)(Ct=>Ct.pushManager));const yt=this.pushManager.pipe((0,xe.w)(Ct=>Ct.getSubscription()));this.subscription=(0,Ze.T)(yt,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(Ye){if(!this.sw.isEnabled)return Promise.reject(new Error(Rt));const yt={userVisibleOnly:!0};let Ct=this.decodeBase64(Ye.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),_n=new Uint8Array(new ArrayBuffer(Ct.length));for(let rn=0;rn<Ct.length;rn++)_n[rn]=Ct.charCodeAt(rn);return yt.applicationServerKey=_n,this.pushManager.pipe((0,xe.w)(rn=>rn.subscribe(yt)),(0,de.q)(1)).toPromise().then(rn=>(this.subscriptionChanges.next(rn),rn))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,de.q)(1),(0,xe.w)(yt=>{if(null===yt)throw new Error("Not subscribed to push notifications.");return yt.unsubscribe().then(Ct=>{if(!Ct)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Rt))}decodeBase64(Ye){return atob(Ye)}}return be.\u0275fac=function(Ye){return new(Ye||be)(U.LFG(an))},be.\u0275prov=U.Yz7({token:be,factory:be.\u0275fac}),be})(),nt=(()=>{class be{constructor(Ye){if(this.sw=Ye,!Ye.isEnabled)return this.versionUpdates=kn,this.available=kn,this.activated=kn,void(this.unrecoverable=kn);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe((0,Ne.h)(yt=>"VERSION_READY"===yt.type),(0,K.U)(yt=>({type:"UPDATE_AVAILABLE",current:yt.currentVersion,available:yt.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Rt));const Ye=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:Ye},Ye)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Rt));const Ye=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:Ye},Ye)}}return be.\u0275fac=function(Ye){return new(Ye||be)(U.LFG(an))},be.\u0275prov=U.Yz7({token:be,factory:be.\u0275fac}),be})();class ke{}const we=new U.OlP("NGSW_REGISTER_SCRIPT");function Fe(be,Ce,Ye,yt){return()=>{if(!(0,oe.NF)(yt)||!("serviceWorker"in navigator)||!1===Ye.enabled)return;let Ct;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof Ye.registrationStrategy)Ct=Ye.registrationStrategy();else{const[rn,...cr]=(Ye.registrationStrategy||"registerWhenStable:30000").split(":");switch(rn){case"registerImmediately":Ct=(0,xn.of)(null);break;case"registerWithDelay":Ct=Je(+cr[0]||0);break;case"registerWhenStable":Ct=cr[0]?(0,Ze.T)(Zt(be),Je(+cr[0])):Zt(be);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${Ye.registrationStrategy}`)}}be.get(U.R0b).runOutsideAngular(()=>Ct.pipe((0,de.q)(1)).subscribe(()=>navigator.serviceWorker.register(Ce,{scope:Ye.scope}).catch(rn=>console.error("Service worker registration failed with:",rn))))}}function Je(be){return(0,xn.of)(null).pipe(function er(be,Ce=jt.P){const yt=function pn(be){return be instanceof Date&&!isNaN(+be)}(be)?+be-Ce.now():Math.abs(be);return Ct=>Ct.lift(new it(yt,Ce))}(be))}function Zt(be){return be.get(U.z2F).isStable.pipe((0,Ne.h)(Ye=>Ye))}function Cn(be,Ce){return new an((0,oe.NF)(Ce)&&!1!==be.enabled?navigator.serviceWorker:void 0)}let mr=(()=>{class be{static register(Ye,yt={}){return{ngModule:be,providers:[{provide:we,useValue:Ye},{provide:ke,useValue:yt},{provide:an,useFactory:Cn,deps:[ke,U.Lbi]},{provide:U.ip1,useFactory:Fe,deps:[U.zs3,we,ke,U.Lbi],multi:!0}]}}}return be.\u0275fac=function(Ye){return new(Ye||be)},be.\u0275mod=U.oAB({type:be}),be.\u0275inj=U.cJS({providers:[Mn,nt]}),be})(),zn=(()=>{class be{}return be.\u0275fac=function(Ye){return new(Ye||be)},be.\u0275mod=U.oAB({type:be,bootstrap:[te]}),be.\u0275inj=U.cJS({providers:[{provide:V.wN,useClass:ve.r4},hr],imports:[a.b2,ve.Pc.forRoot(),he,ne.hO.initializeApp(ct_firebaseConfig),ue.ww,pt.yb.enablePersistence(),mr.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),mr.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]}),be})();(0,U.G48)(),a.q6().bootstrapModule(zn).catch(be=>console.log(be))},5867:(Qt,at,P)=>{"use strict";P.d(at,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=P(9681);(0,a.registerVersion)("firebase","9.9.3","app")},127:(Qt,at,P)=>{"use strict";P.d(at,{Z:()=>a.Z});var a=P(3942);a.Z.registerVersion("firebase","9.9.3","app-compat")},5881:(Qt,at,P)=>{"use strict";P.r(at);var a=P(5861),U=P(3942),V=P(6457),ve=P(2090),oe=(P(9681),P(1877),P(4859));function le(){return window}function K(){return(K=(0,a.Z)(function*(it,He,Se){var Rt;const{BuildInfo:Bt}=le();(0,V.aq)(He.sessionId,"AuthEvent did not contain a session ID");const an=yield De(He.sessionId),Mn={};return(0,V.ar)()?Mn.ibi=Bt.packageName:(0,V.as)()?Mn.apn=Bt.packageName:(0,V.at)(it,"operation-not-supported-in-this-environment"),Bt.displayName&&(Mn.appDisplayName=Bt.displayName),Mn.sessionId=an,(0,V.au)(it,Se,He.type,void 0,null!==(Rt=He.eventId)&&void 0!==Rt?Rt:void 0,Mn)})).apply(this,arguments)}function ue(){return(ue=(0,a.Z)(function*(it){const{BuildInfo:He}=le(),Se={};(0,V.ar)()?Se.iosBundleId=He.packageName:(0,V.as)()?Se.androidPackageName=He.packageName:(0,V.at)(it,"operation-not-supported-in-this-environment"),yield(0,V.av)(it,Se)})).apply(this,arguments)}function ae(){return(ae=(0,a.Z)(function*(it,He,Se){const{cordova:Rt}=le();let Bt=()=>{};try{yield new Promise((an,Mn)=>{let nt=null;function ke(){var Je;an();const Zt=null===(Je=Rt.plugins.browsertab)||void 0===Je?void 0:Je.close;"function"==typeof Zt&&Zt(),"function"==typeof Se?.close&&Se.close()}function we(){nt||(nt=window.setTimeout(()=>{Mn((0,V.aw)(it,"redirect-cancelled-by-user"))},2e3))}function Fe(){"visible"===document?.visibilityState&&we()}He.addPassiveListener(ke),document.addEventListener("resume",we,!1),(0,V.as)()&&document.addEventListener("visibilitychange",Fe,!1),Bt=()=>{He.removePassiveListener(ke),document.removeEventListener("resume",we,!1),document.removeEventListener("visibilitychange",Fe,!1),nt&&window.clearTimeout(nt)}})}finally{Bt()}})).apply(this,arguments)}function De(it){return ht.apply(this,arguments)}function ht(){return(ht=(0,a.Z)(function*(it){const He=J(it),Se=yield crypto.subtle.digest("SHA-256",He);return Array.from(new Uint8Array(Se)).map(Bt=>Bt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function J(it){if((0,V.aq)(/[0-9a-zA-Z]+/.test(it),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(it);const He=new ArrayBuffer(it.length),Se=new Uint8Array(He);for(let Rt=0;Rt<it.length;Rt++)Se[Rt]=it.charCodeAt(Rt);return Se}class wt extends V.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(He=>{this.resolveInialized=He})}addPassiveListener(He){this.passiveListeners.add(He)}removePassiveListener(He){this.passiveListeners.delete(He)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(He){return this.resolveInialized(),this.passiveListeners.forEach(Se=>Se(He)),super.onEvent(He)}initialized(){var He=this;return(0,a.Z)(function*(){yield He.initPromise})()}}function Ae(it){return Re.apply(this,arguments)}function Re(){return(Re=(0,a.Z)(function*(it){const He=yield q()._get(he(it));return He&&(yield q()._remove(he(it))),He})).apply(this,arguments)}function ye(){const it=[],He="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Se=0;Se<20;Se++){const Rt=Math.floor(Math.random()*He.length);it.push(He.charAt(Rt))}return it.join("")}function q(){return(0,V.ay)(V.b)}function he(it){return(0,V.az)("authEvent",it.config.apiKey,it.name)}function pt(it){if(!it?.includes("?"))return{};const[He,...Se]=it.split("?");return(0,ve.zd)(Se.join("?"))}function qe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,V.aw)("no-auth-event")}}function Lt(){var it;return(null===(it=self?.location)||void 0===it?void 0:it.protocol)||null}function Yt(it=(0,ve.z$)()){return!("file:"!==Lt()&&"ionic:"!==Lt()&&"capacitor:"!==Lt()||!it.toLowerCase().match(/iphone|ipad|ipod|android/))}function Rn(){try{const it=self.localStorage,He=V.aI();if(it)return it.setItem(He,"1"),it.removeItem(He),!function yn(it=(0,ve.z$)()){return function Dn(){return(0,ve.w1)()&&11===document?.documentMode}()||function wn(it=(0,ve.z$)()){return/Edge\/\d+/.test(it)}(it)}()||(0,ve.hl)()}catch{return xr()&&(0,ve.hl)()}return!1}function xr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function sn(){return(function gt(){return"http:"===Lt()||"https:"===Lt()}()||(0,ve.ru)()||Yt())&&!function Ln(){return(0,ve.b$)()||(0,ve.UG)()}()&&Rn()&&!xr()}function Tn(){return Yt()&&typeof document<"u"}function Fn(){return(Fn=(0,a.Z)(function*(){return!!Tn()&&new Promise(it=>{const He=setTimeout(()=>{it(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(He),it(!0)})})})).apply(this,arguments)}const nr={LOCAL:"local",NONE:"none",SESSION:"session"},Ut=V.ax,ur="persistence";function Jn(it){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,a.Z)(function*(it){yield it._initializationPromise;const He=en(),Se=V.az(ur,it.config.apiKey,it.name);He&&He.setItem(Se,it._getPersistence())})).apply(this,arguments)}function en(){var it;try{return(null===(it=function ar(){return typeof window<"u"?window:null}())||void 0===it?void 0:it.sessionStorage)||null}catch{return null}}const hn=V.ax;class hr{constructor(){this.browserResolver=V.ay(V.k),this.cordovaResolver=V.ay(class ut{constructor(){this._redirectPersistence=V.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=V.aB,this._overrideRedirectResult=V.aC}_initialize(He){var Se=this;return(0,a.Z)(function*(){const Rt=He._key();let Bt=Se.eventManagers.get(Rt);return Bt||(Bt=new wt(He),Se.eventManagers.set(Rt,Bt),Se.attachCallbackListeners(He,Bt)),Bt})()}_openPopup(He){(0,V.at)(He,"operation-not-supported-in-this-environment")}_openRedirect(He,Se,Rt,Bt){var an=this;return(0,a.Z)(function*(){!function Ve(it){var He,Se,Rt,Bt,an,Mn,nt,ke,we,Fe;const Je=le();(0,V.ax)("function"==typeof(null===(He=Je?.universalLinks)||void 0===He?void 0:He.subscribe),it,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,V.ax)(typeof(null===(Se=Je?.BuildInfo)||void 0===Se?void 0:Se.packageName)<"u",it,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,V.ax)("function"==typeof(null===(an=null===(Bt=null===(Rt=Je?.cordova)||void 0===Rt?void 0:Rt.plugins)||void 0===Bt?void 0:Bt.browsertab)||void 0===an?void 0:an.openUrl),it,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.ax)("function"==typeof(null===(ke=null===(nt=null===(Mn=Je?.cordova)||void 0===Mn?void 0:Mn.plugins)||void 0===nt?void 0:nt.browsertab)||void 0===ke?void 0:ke.isAvailable),it,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,V.ax)("function"==typeof(null===(Fe=null===(we=Je?.cordova)||void 0===we?void 0:we.InAppBrowser)||void 0===Fe?void 0:Fe.open),it,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(He);const Mn=yield an._initialize(He);yield Mn.initialized(),Mn.resetRedirect(),(0,V.aD)(),yield an._originValidation(He);const nt=function St(it,He,Se=null){return{type:He,eventId:Se,urlResponse:null,sessionId:ye(),postBody:null,tenantId:it.tenantId,error:(0,V.aw)(it,"no-auth-event")}}(He,Rt,Bt);yield function Qe(it,He){return q()._set(he(it),He)}(He,nt);const ke=yield function te(it,He,Se){return K.apply(this,arguments)}(He,nt,Se),we=yield function $e(it){const{cordova:He}=le();return new Promise(Se=>{He.plugins.browsertab.isAvailable(Rt=>{let Bt=null;Rt?He.plugins.browsertab.openUrl(it):Bt=He.InAppBrowser.open(it,(0,V.ap)()?"_blank":"_system","location=yes"),Se(Bt)})})}(ke);return function Be(it,He,Se){return ae.apply(this,arguments)}(He,Mn,we)})()}_isIframeWebStorageSupported(He,Se){throw new Error("Method not implemented.")}_originValidation(He){const Se=He._key();return this.originValidationPromises[Se]||(this.originValidationPromises[Se]=function de(it){return ue.apply(this,arguments)}(He)),this.originValidationPromises[Se]}attachCallbackListeners(He,Se){const{universalLinks:Rt,handleOpenURL:Bt,BuildInfo:an}=le(),Mn=setTimeout((0,a.Z)(function*(){yield Ae(He),Se.onEvent(qe())}),500),nt=function(){var Fe=(0,a.Z)(function*(Je){clearTimeout(Mn);const Zt=yield Ae(He);let Cn=null;Zt&&Je?.url&&(Cn=function Ie(it,He){var Se,Rt;const Bt=function ct(it){const He=pt(it),Se=He.link?decodeURIComponent(He.link):void 0,Rt=pt(Se).link,Bt=He.deep_link_id?decodeURIComponent(He.deep_link_id):void 0;return pt(Bt).link||Bt||Rt||Se||it}(He);if(Bt.includes("/__/auth/callback")){const an=pt(Bt),Mn=an.firebaseError?function ne(it){try{return JSON.parse(it)}catch{return null}}(decodeURIComponent(an.firebaseError)):null,nt=null===(Rt=null===(Se=Mn?.code)||void 0===Se?void 0:Se.split("auth/"))||void 0===Rt?void 0:Rt[1],ke=nt?(0,V.aw)(nt):null;return ke?{type:it.type,eventId:it.eventId,tenantId:it.tenantId,error:ke,urlResponse:null,sessionId:null,postBody:null}:{type:it.type,eventId:it.eventId,tenantId:it.tenantId,sessionId:it.sessionId,urlResponse:Bt,postBody:null}}return null}(Zt,Je.url)),Se.onEvent(Cn||qe())});return function(Zt){return Fe.apply(this,arguments)}}();typeof Rt<"u"&&"function"==typeof Rt.subscribe&&Rt.subscribe(null,nt);const ke=Bt,we=`${an.packageName.toLowerCase()}://`;le().handleOpenURL=function(){var Fe=(0,a.Z)(function*(Je){if(Je.toLowerCase().startsWith(we)&&nt({url:Je}),"function"==typeof ke)try{ke(Je)}catch(Zt){console.error(Zt)}});return function(Je){return Fe.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=V.a,this._completeRedirectFn=V.aB,this._overrideRedirectResult=V.aC}_initialize(He){var Se=this;return(0,a.Z)(function*(){return yield Se.selectUnderlyingResolver(),Se.assertedUnderlyingResolver._initialize(He)})()}_openPopup(He,Se,Rt,Bt){var an=this;return(0,a.Z)(function*(){return yield an.selectUnderlyingResolver(),an.assertedUnderlyingResolver._openPopup(He,Se,Rt,Bt)})()}_openRedirect(He,Se,Rt,Bt){var an=this;return(0,a.Z)(function*(){return yield an.selectUnderlyingResolver(),an.assertedUnderlyingResolver._openRedirect(He,Se,Rt,Bt)})()}_isIframeWebStorageSupported(He,Se){this.assertedUnderlyingResolver._isIframeWebStorageSupported(He,Se)}_originValidation(He){return this.assertedUnderlyingResolver._originValidation(He)}get _shouldInitProactively(){return Tn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return hn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var He=this;return(0,a.Z)(function*(){if(He.underlyingResolver)return;const Se=yield function bt(){return Fn.apply(this,arguments)}();He.underlyingResolver=Se?He.cordovaResolver:He.browserResolver})()}}function _r(it){return it.unwrap()}function xn(it){return Lr(it)}function Lr(it){const{_tokenResponse:He}=it instanceof ve.ZR?it.customData:it;if(!He)return null;if(!(it instanceof ve.ZR)&&"temporaryProof"in He&&"phoneNumber"in He)return V.P.credentialFromResult(it);const Se=He.providerId;if(!Se||Se===V.o.PASSWORD)return null;let Rt;switch(Se){case V.o.GOOGLE:Rt=V.Q;break;case V.o.FACEBOOK:Rt=V.N;break;case V.o.GITHUB:Rt=V.T;break;case V.o.TWITTER:Rt=V.W;break;default:const{oauthIdToken:Bt,oauthAccessToken:an,oauthTokenSecret:Mn,pendingToken:nt,nonce:ke}=He;return an||Mn||Bt||nt?nt?Se.startsWith("saml.")?V.aL._create(Se,nt):V.J._fromParams({providerId:Se,signInMethod:Se,pendingToken:nt,idToken:Bt,accessToken:an}):new V.U(Se).credential({idToken:Bt,accessToken:an,rawNonce:ke}):null}return it instanceof ve.ZR?Rt.credentialFromError(it):Rt.credentialFromResult(it)}function Pn(it,He){return He.catch(Se=>{throw Se instanceof ve.ZR&&function Cr(it,He){var Se,Rt;const Bt=null===(Se=He.customData)||void 0===Se?void 0:Se._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Rt=He)||void 0===Rt?void 0:Rt.code))He.resolver=new Ze(it,V.an(it,He));else if(Bt){const an=Lr(He),Mn=He;an&&(Mn.credential=an,Mn.tenantId=Bt.tenantId||void 0,Mn.email=Bt.email||void 0,Mn.phoneNumber=Bt.phoneNumber||void 0)}}(it,Se),Se}).then(Se=>{const Bt=Se.user;return{operationType:Se.operationType,credential:xn(Se),additionalUserInfo:V.al(Se),user:Ne.getOrCreate(Bt)}})}function kn(it,He){return bn.apply(this,arguments)}function bn(){return(bn=(0,a.Z)(function*(it,He){const Se=yield He;return{verificationId:Se.verificationId,confirm:Rt=>Pn(it,Se.confirm(Rt))}})).apply(this,arguments)}class Ze{constructor(He,Se){this.resolver=Se,this.auth=function ir(it){return it.wrapped()}(He)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(He){return Pn(_r(this.auth),this.resolver.resolveSignIn(He))}}class Ne{constructor(He){this._delegate=He,this.multiFactor=V.ao(He)}static getOrCreate(He){return Ne.USER_MAP.has(He)||Ne.USER_MAP.set(He,new Ne(He)),Ne.USER_MAP.get(He)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(He){return this._delegate.getIdTokenResult(He)}getIdToken(He){return this._delegate.getIdToken(He)}linkAndRetrieveDataWithCredential(He){return this.linkWithCredential(He)}linkWithCredential(He){var Se=this;return(0,a.Z)(function*(){return Pn(Se.auth,V.Z(Se._delegate,He))})()}linkWithPhoneNumber(He,Se){var Rt=this;return(0,a.Z)(function*(){return kn(Rt.auth,V.l(Rt._delegate,He,Se))})()}linkWithPopup(He){var Se=this;return(0,a.Z)(function*(){return Pn(Se.auth,V.d(Se._delegate,He,hr))})()}linkWithRedirect(He){var Se=this;return(0,a.Z)(function*(){return yield Jn(V.aE(Se.auth)),V.g(Se._delegate,He,hr)})()}reauthenticateAndRetrieveDataWithCredential(He){return this.reauthenticateWithCredential(He)}reauthenticateWithCredential(He){var Se=this;return(0,a.Z)(function*(){return Pn(Se.auth,V._(Se._delegate,He))})()}reauthenticateWithPhoneNumber(He,Se){return kn(this.auth,V.r(this._delegate,He,Se))}reauthenticateWithPopup(He){return Pn(this.auth,V.e(this._delegate,He,hr))}reauthenticateWithRedirect(He){var Se=this;return(0,a.Z)(function*(){return yield Jn(V.aE(Se.auth)),V.h(Se._delegate,He,hr)})()}sendEmailVerification(He){return V.ab(this._delegate,He)}unlink(He){var Se=this;return(0,a.Z)(function*(){return yield V.ak(Se._delegate,He),Se})()}updateEmail(He){return V.ag(this._delegate,He)}updatePassword(He){return V.ah(this._delegate,He)}updatePhoneNumber(He){return V.u(this._delegate,He)}updateProfile(He){return V.af(this._delegate,He)}verifyBeforeUpdateEmail(He,Se){return V.ac(this._delegate,He,Se)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ne.USER_MAP=new WeakMap;const xe=V.ax;let Le=(()=>{class it{constructor(Se,Rt){if(this.app=Se,Rt.isInitialized())return this._delegate=Rt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Bt}=Se.options;xe(Bt,"invalid-api-key",{appName:Se.name}),xe(Bt,"invalid-api-key",{appName:Se.name});const an=typeof window<"u"?hr:void 0;this._delegate=Rt.initialize({options:{persistence:Tt(Bt,Se.name),popupRedirectResolver:an}}),this._delegate._updateErrorMap(V.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ne.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Se){this._delegate.languageCode=Se}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Se){this._delegate.tenantId=Se}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Se,Rt){V.G(this._delegate,Se,Rt)}applyActionCode(Se){return V.a2(this._delegate,Se)}checkActionCode(Se){return V.a3(this._delegate,Se)}confirmPasswordReset(Se,Rt){return V.a1(this._delegate,Se,Rt)}createUserWithEmailAndPassword(Se,Rt){var Bt=this;return(0,a.Z)(function*(){return Pn(Bt._delegate,V.a5(Bt._delegate,Se,Rt))})()}fetchProvidersForEmail(Se){return this.fetchSignInMethodsForEmail(Se)}fetchSignInMethodsForEmail(Se){return V.aa(this._delegate,Se)}isSignInWithEmailLink(Se){return V.a8(this._delegate,Se)}getRedirectResult(){var Se=this;return(0,a.Z)(function*(){xe(sn(),Se._delegate,"operation-not-supported-in-this-environment");const Rt=yield V.j(Se._delegate,hr);return Rt?Pn(Se._delegate,Promise.resolve(Rt)):{credential:null,user:null}})()}addFrameworkForLogging(Se){!function Me(it,He){(0,V.aE)(it)._logFramework(He)}(this._delegate,Se)}onAuthStateChanged(Se,Rt,Bt){const{next:an,error:Mn,complete:nt}=Ue(Se,Rt,Bt);return this._delegate.onAuthStateChanged(an,Mn,nt)}onIdTokenChanged(Se,Rt,Bt){const{next:an,error:Mn,complete:nt}=Ue(Se,Rt,Bt);return this._delegate.onIdTokenChanged(an,Mn,nt)}sendSignInLinkToEmail(Se,Rt){return V.a7(this._delegate,Se,Rt)}sendPasswordResetEmail(Se,Rt){return V.a0(this._delegate,Se,Rt||void 0)}setPersistence(Se){var Rt=this;return(0,a.Z)(function*(){let Bt;switch(function Dr(it,He){Ut(Object.values(nr).includes(He),it,"invalid-persistence-type"),(0,ve.b$)()?Ut(He!==nr.SESSION,it,"unsupported-persistence-type"):(0,ve.UG)()?Ut(He===nr.NONE,it,"unsupported-persistence-type"):xr()?Ut(He===nr.NONE||He===nr.LOCAL&&(0,ve.hl)(),it,"unsupported-persistence-type"):Ut(He===nr.NONE||Rn(),it,"unsupported-persistence-type")}(Rt._delegate,Se),Se){case nr.SESSION:Bt=V.a;break;case nr.LOCAL:Bt=(yield V.ay(V.i)._isAvailable())?V.i:V.b;break;case nr.NONE:Bt=V.L;break;default:return V.at("argument-error",{appName:Rt._delegate.name})}return Rt._delegate.setPersistence(Bt)})()}signInAndRetrieveDataWithCredential(Se){return this.signInWithCredential(Se)}signInAnonymously(){return Pn(this._delegate,V.X(this._delegate))}signInWithCredential(Se){return Pn(this._delegate,V.Y(this._delegate,Se))}signInWithCustomToken(Se){return Pn(this._delegate,V.$(this._delegate,Se))}signInWithEmailAndPassword(Se,Rt){return Pn(this._delegate,V.a6(this._delegate,Se,Rt))}signInWithEmailLink(Se,Rt){return Pn(this._delegate,V.a9(this._delegate,Se,Rt))}signInWithPhoneNumber(Se,Rt){return kn(this._delegate,V.s(this._delegate,Se,Rt))}signInWithPopup(Se){var Rt=this;return(0,a.Z)(function*(){return xe(sn(),Rt._delegate,"operation-not-supported-in-this-environment"),Pn(Rt._delegate,V.c(Rt._delegate,Se,hr))})()}signInWithRedirect(Se){var Rt=this;return(0,a.Z)(function*(){return xe(sn(),Rt._delegate,"operation-not-supported-in-this-environment"),yield Jn(Rt._delegate),V.f(Rt._delegate,Se,hr)})()}updateCurrentUser(Se){return this._delegate.updateCurrentUser(Se)}verifyPasswordResetCode(Se){return V.a4(this._delegate,Se)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return it.Persistence=nr,it})();function Ue(it,He,Se){let Rt=it;"function"!=typeof it&&({next:Rt,error:He,complete:Se}=it);const Bt=Rt;return{next:Mn=>Bt(Mn&&Ne.getOrCreate(Mn)),error:He,complete:Se}}function Tt(it,He){const Se=function dn(it,He){const Se=en();if(!Se)return[];const Rt=V.az(ur,it,He);switch(Se.getItem(Rt)){case nr.NONE:return[V.L];case nr.LOCAL:return[V.i,V.a];case nr.SESSION:return[V.a];default:return[]}}(it,He);if(typeof self<"u"&&!Se.includes(V.i)&&Se.push(V.i),typeof window<"u")for(const Rt of[V.b,V.a])Se.includes(Rt)||Se.push(Rt);return Se.includes(V.L)||Se.push(V.L),Se}class jt{constructor(){this.providerId="phone",this._delegate=new V.P(_r(U.Z.auth()))}static credential(He,Se){return V.P.credential(He,Se)}verifyPhoneNumber(He,Se){return this._delegate.verifyPhoneNumber(He,Se)}unwrap(){return this._delegate}}jt.PHONE_SIGN_IN_METHOD=V.P.PHONE_SIGN_IN_METHOD,jt.PROVIDER_ID=V.P.PROVIDER_ID;const pn=V.ax;class Gn{constructor(He,Se,Rt=U.Z.app()){var Bt;pn(null===(Bt=Rt.options)||void 0===Bt?void 0:Bt.apiKey,"invalid-api-key",{appName:Rt.name}),this._delegate=new V.R(He,Se,Rt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function er(it){it.INTERNAL.registerComponent(new oe.wA("auth-compat",He=>{const Se=He.getProvider("app-compat").getImmediate(),Rt=He.getProvider("auth");return new Le(Se,Rt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:V.A.EMAIL_SIGNIN,PASSWORD_RESET:V.A.PASSWORD_RESET,RECOVER_EMAIL:V.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:V.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:V.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:V.A.VERIFY_EMAIL}},EmailAuthProvider:V.M,FacebookAuthProvider:V.N,GithubAuthProvider:V.T,GoogleAuthProvider:V.Q,OAuthProvider:V.U,SAMLAuthProvider:V.V,PhoneAuthProvider:jt,PhoneMultiFactorGenerator:V.m,RecaptchaVerifier:Gn,TwitterAuthProvider:V.W,Auth:Le,AuthCredential:V.H,Error:ve.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),it.registerVersion("@firebase/auth-compat","0.2.18")}(U.Z)},591:(Qt,at,P)=>{"use strict";P.d(at,{X:()=>V});var a=P(8929),U=P(5279);class V extends a.xQ{constructor(_e){super(),this._value=_e}get value(){return this.getValue()}_subscribe(_e){const se=super._subscribe(_e);return se&&!se.closed&&_e.next(this._value),se}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new U.N;return this._value}next(_e){super.next(this._value=_e)}}},9312:(Qt,at,P)=>{"use strict";P.d(at,{P:()=>_e});var a=P(8896),U=P(1086),V=P(1737);class _e{constructor(oe,le,ie){this.kind=oe,this.value=le,this.error=ie,this.hasValue="N"===oe}observe(oe){switch(this.kind){case"N":return oe.next&&oe.next(this.value);case"E":return oe.error&&oe.error(this.error);case"C":return oe.complete&&oe.complete()}}do(oe,le,ie){switch(this.kind){case"N":return oe&&oe(this.value);case"E":return le&&le(this.error);case"C":return ie&&ie()}}accept(oe,le,ie){return oe&&"function"==typeof oe.next?this.observe(oe):this.do(oe,le,ie)}toObservable(){switch(this.kind){case"N":return(0,U.of)(this.value);case"E":return(0,V._)(this.error);case"C":return(0,a.c)()}throw new Error("unexpected notification kind value")}static createNext(oe){return typeof oe<"u"?new _e("N",oe):_e.undefinedValueNotification}static createError(oe){return new _e("E",void 0,oe)}static createComplete(){return _e.completeNotification}}_e.completeNotification=new _e("C"),_e.undefinedValueNotification=new _e("N",void 0)},6498:(Qt,at,P)=>{"use strict";P.d(at,{y:()=>ie});var a=P(3489),V=P(7668),ve=P(3292),se=P(3821),oe=P(4843),le=P(2830);let ie=(()=>{class K{constructor(ue){this._isScalar=!1,ue&&(this._subscribe=ue)}lift(ue){const $e=new K;return $e.source=this,$e.operator=ue,$e}subscribe(ue,$e,Be){const{operator:ae}=this,Ve=function _e(K,de,ue){if(K){if(K instanceof a.L)return K;if(K[V.b])return K[V.b]()}return K||de||ue?new a.L(K,de,ue):new a.L(ve.c)}(ue,$e,Be);if(Ve.add(ae?ae.call(Ve,this.source):this.source||le.v.useDeprecatedSynchronousErrorHandling&&!Ve.syncErrorThrowable?this._subscribe(Ve):this._trySubscribe(Ve)),le.v.useDeprecatedSynchronousErrorHandling&&Ve.syncErrorThrowable&&(Ve.syncErrorThrowable=!1,Ve.syncErrorThrown))throw Ve.syncErrorValue;return Ve}_trySubscribe(ue){try{return this._subscribe(ue)}catch($e){le.v.useDeprecatedSynchronousErrorHandling&&(ue.syncErrorThrown=!0,ue.syncErrorValue=$e),function U(K){for(;K;){const{closed:de,destination:ue,isStopped:$e}=K;if(de||$e)return!1;K=ue&&ue instanceof a.L?ue:null}return!0}(ue)?ue.error($e):console.warn($e)}}forEach(ue,$e){return new($e=te($e))((Be,ae)=>{let Ve;Ve=this.subscribe(De=>{try{ue(De)}catch(ht){ae(ht),Ve&&Ve.unsubscribe()}},ae,Be)})}_subscribe(ue){const{source:$e}=this;return $e&&$e.subscribe(ue)}[se.L](){return this}pipe(...ue){return 0===ue.length?this:(0,oe.U)(ue)(this)}toPromise(ue){return new(ue=te(ue))(($e,Be)=>{let ae;this.subscribe(Ve=>ae=Ve,Ve=>Be(Ve),()=>$e(ae))})}}return K.create=de=>new K(de),K})();function te(K){if(K||(K=le.v.Promise||Promise),!K)throw new Error("no Promise impl found");return K}},3292:(Qt,at,P)=>{"use strict";P.d(at,{c:()=>V});var a=P(2830),U=P(2782);const V={closed:!0,next(ve){},error(ve){if(a.v.useDeprecatedSynchronousErrorHandling)throw ve;(0,U.z)(ve)},complete(){}}},8929:(Qt,at,P)=>{"use strict";P.d(at,{Yc:()=>oe,xQ:()=>le});var a=P(6498),U=P(3489),V=P(2654),ve=P(5279),_e=P(5283),se=P(7668);class oe extends U.L{constructor(K){super(K),this.destination=K}}let le=(()=>{class te extends a.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[se.b](){return new oe(this)}lift(de){const ue=new ie(this,this);return ue.operator=de,ue}next(de){if(this.closed)throw new ve.N;if(!this.isStopped){const{observers:ue}=this,$e=ue.length,Be=ue.slice();for(let ae=0;ae<$e;ae++)Be[ae].next(de)}}error(de){if(this.closed)throw new ve.N;this.hasError=!0,this.thrownError=de,this.isStopped=!0;const{observers:ue}=this,$e=ue.length,Be=ue.slice();for(let ae=0;ae<$e;ae++)Be[ae].error(de);this.observers.length=0}complete(){if(this.closed)throw new ve.N;this.isStopped=!0;const{observers:de}=this,ue=de.length,$e=de.slice();for(let Be=0;Be<ue;Be++)$e[Be].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(de){if(this.closed)throw new ve.N;return super._trySubscribe(de)}_subscribe(de){if(this.closed)throw new ve.N;return this.hasError?(de.error(this.thrownError),V.w.EMPTY):this.isStopped?(de.complete(),V.w.EMPTY):(this.observers.push(de),new _e.W(this,de))}asObservable(){const de=new a.y;return de.source=this,de}}return te.create=(K,de)=>new ie(K,de),te})();class ie extends le{constructor(K,de){super(),this.destination=K,this.source=de}next(K){const{destination:de}=this;de&&de.next&&de.next(K)}error(K){const{destination:de}=this;de&&de.error&&this.destination.error(K)}complete(){const{destination:K}=this;K&&K.complete&&this.destination.complete()}_subscribe(K){const{source:de}=this;return de?this.source.subscribe(K):V.w.EMPTY}}},5283:(Qt,at,P)=>{"use strict";P.d(at,{W:()=>U});var a=P(2654);class U extends a.w{constructor(ve,_e){super(),this.subject=ve,this.subscriber=_e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ve=this.subject,_e=ve.observers;if(this.subject=null,!_e||0===_e.length||ve.isStopped||ve.closed)return;const se=_e.indexOf(this.subscriber);-1!==se&&_e.splice(se,1)}}},3489:(Qt,at,P)=>{"use strict";P.d(at,{L:()=>oe});var a=P(7043),U=P(3292),V=P(2654),ve=P(7668),_e=P(2830),se=P(2782);class oe extends V.w{constructor(te,K,de){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=U.c;break;case 1:if(!te){this.destination=U.c;break}if("object"==typeof te){te instanceof oe?(this.syncErrorThrowable=te.syncErrorThrowable,this.destination=te,te.add(this)):(this.syncErrorThrowable=!0,this.destination=new le(this,te));break}default:this.syncErrorThrowable=!0,this.destination=new le(this,te,K,de)}}[ve.b](){return this}static create(te,K,de){const ue=new oe(te,K,de);return ue.syncErrorThrowable=!1,ue}next(te){this.isStopped||this._next(te)}error(te){this.isStopped||(this.isStopped=!0,this._error(te))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(te){this.destination.next(te)}_error(te){this.destination.error(te),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:te}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=te,this}}class le extends oe{constructor(te,K,de,ue){super(),this._parentSubscriber=te;let $e,Be=this;(0,a.m)(K)?$e=K:K&&($e=K.next,de=K.error,ue=K.complete,K!==U.c&&(Be=Object.create(K),(0,a.m)(Be.unsubscribe)&&this.add(Be.unsubscribe.bind(Be)),Be.unsubscribe=this.unsubscribe.bind(this))),this._context=Be,this._next=$e,this._error=de,this._complete=ue}next(te){if(!this.isStopped&&this._next){const{_parentSubscriber:K}=this;_e.v.useDeprecatedSynchronousErrorHandling&&K.syncErrorThrowable?this.__tryOrSetError(K,this._next,te)&&this.unsubscribe():this.__tryOrUnsub(this._next,te)}}error(te){if(!this.isStopped){const{_parentSubscriber:K}=this,{useDeprecatedSynchronousErrorHandling:de}=_e.v;if(this._error)de&&K.syncErrorThrowable?(this.__tryOrSetError(K,this._error,te),this.unsubscribe()):(this.__tryOrUnsub(this._error,te),this.unsubscribe());else if(K.syncErrorThrowable)de?(K.syncErrorValue=te,K.syncErrorThrown=!0):(0,se.z)(te),this.unsubscribe();else{if(this.unsubscribe(),de)throw te;(0,se.z)(te)}}}complete(){if(!this.isStopped){const{_parentSubscriber:te}=this;if(this._complete){const K=()=>this._complete.call(this._context);_e.v.useDeprecatedSynchronousErrorHandling&&te.syncErrorThrowable?(this.__tryOrSetError(te,K),this.unsubscribe()):(this.__tryOrUnsub(K),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(te,K){try{te.call(this._context,K)}catch(de){if(this.unsubscribe(),_e.v.useDeprecatedSynchronousErrorHandling)throw de;(0,se.z)(de)}}__tryOrSetError(te,K,de){if(!_e.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{K.call(this._context,de)}catch(ue){return _e.v.useDeprecatedSynchronousErrorHandling?(te.syncErrorValue=ue,te.syncErrorThrown=!0,!0):((0,se.z)(ue),!0)}return!1}_unsubscribe(){const{_parentSubscriber:te}=this;this._context=null,this._parentSubscriber=null,te.unsubscribe()}}},2654:(Qt,at,P)=>{"use strict";P.d(at,{w:()=>se});var a=P(6688),U=P(7830),V=P(7043);const _e=(()=>{function le(ie){return Error.call(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((te,K)=>`${K+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie,this}return le.prototype=Object.create(Error.prototype),le})();class se{constructor(ie){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ie&&(this._ctorUnsubscribe=!0,this._unsubscribe=ie)}unsubscribe(){let ie;if(this.closed)return;let{_parentOrParents:te,_ctorUnsubscribe:K,_unsubscribe:de,_subscriptions:ue}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,te instanceof se)te.remove(this);else if(null!==te)for(let $e=0;$e<te.length;++$e)te[$e].remove(this);if((0,V.m)(de)){K&&(this._unsubscribe=void 0);try{de.call(this)}catch($e){ie=$e instanceof _e?oe($e.errors):[$e]}}if((0,a.k)(ue)){let $e=-1,Be=ue.length;for(;++$e<Be;){const ae=ue[$e];if((0,U.K)(ae))try{ae.unsubscribe()}catch(Ve){ie=ie||[],Ve instanceof _e?ie=ie.concat(oe(Ve.errors)):ie.push(Ve)}}}if(ie)throw new _e(ie)}add(ie){let te=ie;if(!ie)return se.EMPTY;switch(typeof ie){case"function":te=new se(ie);case"object":if(te===this||te.closed||"function"!=typeof te.unsubscribe)return te;if(this.closed)return te.unsubscribe(),te;if(!(te instanceof se)){const ue=te;te=new se,te._subscriptions=[ue]}break;default:throw new Error("unrecognized teardown "+ie+" added to Subscription.")}let{_parentOrParents:K}=te;if(null===K)te._parentOrParents=this;else if(K instanceof se){if(K===this)return te;te._parentOrParents=[K,this]}else{if(-1!==K.indexOf(this))return te;K.push(this)}const de=this._subscriptions;return null===de?this._subscriptions=[te]:de.push(te),te}remove(ie){const te=this._subscriptions;if(te){const K=te.indexOf(ie);-1!==K&&te.splice(K,1)}}}var le;function oe(le){return le.reduce((ie,te)=>ie.concat(te instanceof _e?te.errors:te),[])}se.EMPTY=((le=new se).closed=!0,le)},2830:(Qt,at,P)=>{"use strict";P.d(at,{v:()=>U});let a=!1;const U={Promise:void 0,set useDeprecatedSynchronousErrorHandling(V){if(V){const ve=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ve.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=V},get useDeprecatedSynchronousErrorHandling(){return a}}},1177:(Qt,at,P)=>{"use strict";P.d(at,{Ds:()=>se,IY:()=>ve,ft:()=>le});var a=P(3489),U=P(6498),V=P(9249);class ve extends a.L{constructor(te){super(),this.parent=te}_next(te){this.parent.notifyNext(te)}_error(te){this.parent.notifyError(te),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class se extends a.L{notifyNext(te){this.destination.next(te)}notifyError(te){this.destination.error(te)}notifyComplete(){this.destination.complete()}}function le(ie,te){if(te.closed)return;if(ie instanceof U.y)return ie.subscribe(te);let K;try{K=(0,V.s)(ie)(te)}catch(de){te.error(de)}return K}},1762:(Qt,at,P)=>{"use strict";P.d(at,{N:()=>se,c:()=>_e});var a=P(8929),U=P(6498),V=P(2654),ve=P(4327);class _e extends U.y{constructor(K,de){super(),this.source=K,this.subjectFactory=de,this._refCount=0,this._isComplete=!1}_subscribe(K){return this.getSubject().subscribe(K)}getSubject(){const K=this._subject;return(!K||K.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let K=this._connection;return K||(this._isComplete=!1,K=this._connection=new V.w,K.add(this.source.subscribe(new oe(this.getSubject(),this))),K.closed&&(this._connection=null,K=V.w.EMPTY)),K}refCount(){return(0,ve.x)()(this)}}const se=(()=>{const te=_e.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:te._subscribe},_isComplete:{value:te._isComplete,writable:!0},getSubject:{value:te.getSubject},connect:{value:te.connect},refCount:{value:te.refCount}}})();class oe extends a.Yc{constructor(K,de){super(K),this.connectable=de}_error(K){this._unsubscribe(),super._error(K)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const K=this.connectable;if(K){this.connectable=null;const de=K._connection;K._refCount=0,K._subject=null,K._connection=null,de&&de.unsubscribe()}}}},1221:(Qt,at,P)=>{"use strict";P.d(at,{z:()=>ve});var a=P(1086),U=P(9146);function ve(..._e){return function V(){return(0,U.J)(1)}()((0,a.of)(..._e))}},8514:(Qt,at,P)=>{"use strict";P.d(at,{P:()=>ve});var a=P(6498),U=P(5254),V=P(8896);function ve(_e){return new a.y(se=>{let oe;try{oe=_e()}catch(ie){return void se.error(ie)}return(oe?(0,U.D)(oe):(0,V.c)()).subscribe(se)})}},8896:(Qt,at,P)=>{"use strict";P.d(at,{E:()=>U,c:()=>V});var a=P(6498);const U=new a.y(_e=>_e.complete());function V(_e){return _e?function ve(_e){return new a.y(se=>_e.schedule(()=>se.complete()))}(_e):U}},5254:(Qt,at,P)=>{"use strict";P.d(at,{D:()=>Be});var a=P(6498),U=P(9249),V=P(2654),ve=P(3821),oe=P(6454),le=P(5430),K=P(8955),de=P(8515);function Be(ae,Ve){return Ve?function $e(ae,Ve){if(null!=ae){if(function te(ae){return ae&&"function"==typeof ae[ve.L]}(ae))return function _e(ae,Ve){return new a.y(De=>{const ht=new V.w;return ht.add(Ve.schedule(()=>{const J=ae[ve.L]();ht.add(J.subscribe({next(st){ht.add(Ve.schedule(()=>De.next(st)))},error(st){ht.add(Ve.schedule(()=>De.error(st)))},complete(){ht.add(Ve.schedule(()=>De.complete()))}}))})),ht})}(ae,Ve);if((0,K.t)(ae))return function se(ae,Ve){return new a.y(De=>{const ht=new V.w;return ht.add(Ve.schedule(()=>ae.then(J=>{ht.add(Ve.schedule(()=>{De.next(J),ht.add(Ve.schedule(()=>De.complete()))}))},J=>{ht.add(Ve.schedule(()=>De.error(J)))}))),ht})}(ae,Ve);if((0,de.z)(ae))return(0,oe.r)(ae,Ve);if(function ue(ae){return ae&&"function"==typeof ae[le.hZ]}(ae)||"string"==typeof ae)return function ie(ae,Ve){if(!ae)throw new Error("Iterable cannot be null");return new a.y(De=>{const ht=new V.w;let J;return ht.add(()=>{J&&"function"==typeof J.return&&J.return()}),ht.add(Ve.schedule(()=>{J=ae[le.hZ](),ht.add(Ve.schedule(function(){if(De.closed)return;let st,wt;try{const St=J.next();st=St.value,wt=St.done}catch(St){return void De.error(St)}wt?De.complete():(De.next(st),this.schedule())}))})),ht})}(ae,Ve)}throw new TypeError((null!==ae&&typeof ae||ae)+" is not observable")}(ae,Ve):ae instanceof a.y?ae:new a.y((0,U.s)(ae))}},3009:(Qt,at,P)=>{"use strict";P.d(at,{n:()=>ve});var a=P(6498),U=P(3650),V=P(6454);function ve(_e,se){return se?(0,V.r)(_e,se):new a.y((0,U.V)(_e))}},3753:(Qt,at,P)=>{"use strict";P.d(at,{R:()=>se});var a=P(6498),U=P(6688),V=P(7043),ve=P(4850);function se(K,de,ue,$e){return(0,V.m)(ue)&&($e=ue,ue=void 0),$e?se(K,de,ue).pipe((0,ve.U)(Be=>(0,U.k)(Be)?$e(...Be):$e(Be))):new a.y(Be=>{oe(K,de,function ae(Ve){Be.next(arguments.length>1?Array.prototype.slice.call(arguments):Ve)},Be,ue)})}function oe(K,de,ue,$e,Be){let ae;if(function te(K){return K&&"function"==typeof K.addEventListener&&"function"==typeof K.removeEventListener}(K)){const Ve=K;K.addEventListener(de,ue,Be),ae=()=>Ve.removeEventListener(de,ue,Be)}else if(function ie(K){return K&&"function"==typeof K.on&&"function"==typeof K.off}(K)){const Ve=K;K.on(de,ue),ae=()=>Ve.off(de,ue)}else if(function le(K){return K&&"function"==typeof K.addListener&&"function"==typeof K.removeListener}(K)){const Ve=K;K.addListener(de,ue),ae=()=>Ve.removeListener(de,ue)}else{if(!K||!K.length)throw new TypeError("Invalid event target");for(let Ve=0,De=K.length;Ve<De;Ve++)oe(K[Ve],de,ue,$e,Be)}$e.add(ae)}},6787:(Qt,at,P)=>{"use strict";P.d(at,{T:()=>_e});var a=P(6498),U=P(2866),V=P(9146),ve=P(3009);function _e(...se){let oe=Number.POSITIVE_INFINITY,le=null,ie=se[se.length-1];return(0,U.K)(ie)?(le=se.pop(),se.length>1&&"number"==typeof se[se.length-1]&&(oe=se.pop())):"number"==typeof ie&&(oe=se.pop()),null===le&&1===se.length&&se[0]instanceof a.y?se[0]:(0,V.J)(oe)((0,ve.n)(se,le))}},1086:(Qt,at,P)=>{"use strict";P.d(at,{of:()=>ve});var a=P(2866),U=P(3009),V=P(6454);function ve(..._e){let se=_e[_e.length-1];return(0,a.K)(se)?(_e.pop(),(0,V.r)(_e,se)):(0,U.n)(_e)}},1737:(Qt,at,P)=>{"use strict";P.d(at,{_:()=>U});var a=P(6498);function U(ve,_e){return new a.y(_e?se=>_e.schedule(V,0,{error:ve,subscriber:se}):se=>se.error(ve))}function V({error:ve,subscriber:_e}){_e.error(ve)}},7314:(Qt,at,P)=>{"use strict";P.d(at,{d:()=>U});var a=P(3489);function U(_e=null){return se=>se.lift(new V(_e))}class V{constructor(se){this.defaultValue=se}call(se,oe){return oe.subscribe(new ve(se,this.defaultValue))}}class ve extends a.L{constructor(se,oe){super(se),this.defaultValue=oe,this.isEmpty=!0}_next(se){this.isEmpty=!1,this.destination.next(se)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(Qt,at,P)=>{"use strict";P.d(at,{x:()=>U});var a=P(3489);function U(_e,se){return oe=>oe.lift(new V(_e,se))}class V{constructor(se,oe){this.compare=se,this.keySelector=oe}call(se,oe){return oe.subscribe(new ve(se,this.compare,this.keySelector))}}class ve extends a.L{constructor(se,oe,le){super(se),this.keySelector=le,this.hasKey=!1,"function"==typeof oe&&(this.compare=oe)}compare(se,oe){return se===oe}_next(se){let oe;try{const{keySelector:ie}=this;oe=ie?ie(se):se}catch(ie){return this.destination.error(ie)}let le=!1;if(this.hasKey)try{const{compare:ie}=this;le=ie(this.key,oe)}catch(ie){return this.destination.error(ie)}else this.hasKey=!0;le||(this.key=oe,this.destination.next(se))}}},2198:(Qt,at,P)=>{"use strict";P.d(at,{h:()=>U});var a=P(3489);function U(_e,se){return function(le){return le.lift(new V(_e,se))}}class V{constructor(se,oe){this.predicate=se,this.thisArg=oe}call(se,oe){return oe.subscribe(new ve(se,this.predicate,this.thisArg))}}class ve extends a.L{constructor(se,oe,le){super(se),this.predicate=oe,this.thisArg=le,this.count=0}_next(se){let oe;try{oe=this.predicate.call(this.thisArg,se,this.count++)}catch(le){return void this.destination.error(le)}oe&&this.destination.next(se)}}},7224:(Qt,at,P)=>{"use strict";P.d(at,{P:()=>oe});var a=P(4450),U=P(2198),V=P(2986),ve=P(7314),_e=P(4907),se=P(5379);function oe(le,ie){const te=arguments.length>=2;return K=>K.pipe(le?(0,U.h)((de,ue)=>le(de,ue,K)):se.y,(0,V.q)(1),te?(0,ve.d)(ie):(0,_e.T)(()=>new a.K))}},4850:(Qt,at,P)=>{"use strict";P.d(at,{U:()=>U});var a=P(3489);function U(_e,se){return function(le){if("function"!=typeof _e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return le.lift(new V(_e,se))}}class V{constructor(se,oe){this.project=se,this.thisArg=oe}call(se,oe){return oe.subscribe(new ve(se,this.project,this.thisArg))}}class ve extends a.L{constructor(se,oe,le){super(se),this.project=oe,this.count=0,this.thisArg=le||this}_next(se){let oe;try{oe=this.project.call(this.thisArg,se,this.count++)}catch(le){return void this.destination.error(le)}this.destination.next(oe)}}},9146:(Qt,at,P)=>{"use strict";P.d(at,{J:()=>V});var a=P(1709),U=P(5379);function V(ve=Number.POSITIVE_INFINITY){return(0,a.zg)(U.y,ve)}},1709:(Qt,at,P)=>{"use strict";P.d(at,{zg:()=>ve});var a=P(4850),U=P(5254),V=P(1177);function ve(le,ie,te=Number.POSITIVE_INFINITY){return"function"==typeof ie?K=>K.pipe(ve((de,ue)=>(0,U.D)(le(de,ue)).pipe((0,a.U)(($e,Be)=>ie(de,$e,ue,Be))),te)):("number"==typeof ie&&(te=ie),K=>K.lift(new _e(le,te)))}class _e{constructor(ie,te=Number.POSITIVE_INFINITY){this.project=ie,this.concurrent=te}call(ie,te){return te.subscribe(new se(ie,this.project,this.concurrent))}}class se extends V.Ds{constructor(ie,te,K=Number.POSITIVE_INFINITY){super(ie),this.project=te,this.concurrent=K,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ie){this.active<this.concurrent?this._tryNext(ie):this.buffer.push(ie)}_tryNext(ie){let te;const K=this.index++;try{te=this.project(ie,K)}catch(de){return void this.destination.error(de)}this.active++,this._innerSub(te)}_innerSub(ie){const te=new V.IY(this),K=this.destination;K.add(te);const de=(0,V.ft)(ie,te);de!==te&&K.add(de)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ie){this.destination.next(ie)}notifyComplete(){const ie=this.buffer;this.active--,ie.length>0?this._next(ie.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2536:(Qt,at,P)=>{"use strict";P.d(at,{O:()=>U});var a=P(1762);function U(ve,_e){return function(oe){let le;if(le="function"==typeof ve?ve:function(){return ve},"function"==typeof _e)return oe.lift(new V(le,_e));const ie=Object.create(oe,a.N);return ie.source=oe,ie.subjectFactory=le,ie}}class V{constructor(_e,se){this.subjectFactory=_e,this.selector=se}call(_e,se){const{selector:oe}=this,le=this.subjectFactory(),ie=oe(le).subscribe(_e);return ie.add(se.subscribe(le)),ie}}},7770:(Qt,at,P)=>{"use strict";P.d(at,{QV:()=>V,ht:()=>_e});var a=P(3489),U=P(9312);function V(oe,le=0){return function(te){return te.lift(new ve(oe,le))}}class ve{constructor(le,ie=0){this.scheduler=le,this.delay=ie}call(le,ie){return ie.subscribe(new _e(le,this.scheduler,this.delay))}}class _e extends a.L{constructor(le,ie,te=0){super(le),this.scheduler=ie,this.delay=te}static dispatch(le){const{notification:ie,destination:te}=le;ie.observe(te),this.unsubscribe()}scheduleMessage(le){this.destination.add(this.scheduler.schedule(_e.dispatch,this.delay,new se(le,this.destination)))}_next(le){this.scheduleMessage(U.P.createNext(le))}_error(le){this.scheduleMessage(U.P.createError(le)),this.unsubscribe()}_complete(){this.scheduleMessage(U.P.createComplete()),this.unsubscribe()}}class se{constructor(le,ie){this.notification=le,this.destination=ie}}},4327:(Qt,at,P)=>{"use strict";P.d(at,{x:()=>U});var a=P(3489);function U(){return function(se){return se.lift(new V(se))}}class V{constructor(se){this.connectable=se}call(se,oe){const{connectable:le}=this;le._refCount++;const ie=new ve(se,le),te=oe.subscribe(ie);return ie.closed||(ie.connection=le.connect()),te}}class ve extends a.L{constructor(se,oe){super(se),this.connectable=oe}_unsubscribe(){const{connectable:se}=this;if(!se)return void(this.connection=null);this.connectable=null;const oe=se._refCount;if(oe<=0)return void(this.connection=null);if(se._refCount=oe-1,oe>1)return void(this.connection=null);const{connection:le}=this,ie=se._connection;this.connection=null,ie&&(!le||ie===le)&&ie.unsubscribe()}}},2014:(Qt,at,P)=>{"use strict";P.d(at,{R:()=>U});var a=P(3489);function U(_e,se){let oe=!1;return arguments.length>=2&&(oe=!0),function(ie){return ie.lift(new V(_e,se,oe))}}class V{constructor(se,oe,le=!1){this.accumulator=se,this.seed=oe,this.hasSeed=le}call(se,oe){return oe.subscribe(new ve(se,this.accumulator,this.seed,this.hasSeed))}}class ve extends a.L{constructor(se,oe,le,ie){super(se),this.accumulator=oe,this._seed=le,this.hasSeed=ie,this.index=0}get seed(){return this._seed}set seed(se){this.hasSeed=!0,this._seed=se}_next(se){if(this.hasSeed)return this._tryNext(se);this.seed=se,this.destination.next(se)}_tryNext(se){const oe=this.index++;let le;try{le=this.accumulator(this.seed,se,oe)}catch(ie){this.destination.error(ie)}this.seed=le,this.destination.next(le)}}},1059:(Qt,at,P)=>{"use strict";P.d(at,{O:()=>V});var a=P(1221),U=P(2866);function V(...ve){const _e=ve[ve.length-1];return(0,U.K)(_e)?(ve.pop(),se=>(0,a.z)(ve,se,_e)):se=>(0,a.z)(ve,se)}},8915:(Qt,at,P)=>{"use strict";P.d(at,{R:()=>Ve});var a=P(6498);let U=1;const V=Promise.resolve(),ve={};function _e(ht){return ht in ve&&(delete ve[ht],!0)}const se={setImmediate(ht){const J=U++;return ve[J]=!0,V.then(()=>_e(J)&&ht()),J},clearImmediate(ht){_e(ht)}};var le=P(6686),te=P(2268);const ue=new class K extends te.v{flush(J){this.active=!0,this.scheduled=void 0;const{actions:st}=this;let wt,St=-1,Qe=st.length;J=J||st.shift();do{if(wt=J.execute(J.state,J.delay))break}while(++St<Qe&&(J=st.shift()));if(this.active=!1,wt){for(;++St<Qe&&(J=st.shift());)J.unsubscribe();throw wt}}}(class ie extends le.o{constructor(J,st){super(J,st),this.scheduler=J,this.work=st}requestAsyncId(J,st,wt=0){return null!==wt&&wt>0?super.requestAsyncId(J,st,wt):(J.actions.push(this),J.scheduled||(J.scheduled=se.setImmediate(J.flush.bind(J,null))))}recycleAsyncId(J,st,wt=0){if(null!==wt&&wt>0||null===wt&&this.delay>0)return super.recycleAsyncId(J,st,wt);0===J.actions.length&&(se.clearImmediate(st),J.scheduled=void 0)}});var $e=P(6688);class ae extends a.y{constructor(J,st=0,wt=ue){super(),this.source=J,this.delayTime=st,this.scheduler=wt,(!function Be(ht){return!(0,$e.k)(ht)&&ht-parseFloat(ht)+1>=0}(st)||st<0)&&(this.delayTime=0),(!wt||"function"!=typeof wt.schedule)&&(this.scheduler=ue)}static create(J,st=0,wt=ue){return new ae(J,st,wt)}static dispatch(J){const{source:st,subscriber:wt}=J;return this.add(st.subscribe(wt))}_subscribe(J){return this.scheduler.schedule(ae.dispatch,this.delayTime,{source:this.source,subscriber:J})}}function Ve(ht,J=0){return function(wt){return wt.lift(new De(ht,J))}}class De{constructor(J,st){this.scheduler=J,this.delay=st}call(J,st){return new ae(st,this.delay,this.scheduler).subscribe(J)}}},7545:(Qt,at,P)=>{"use strict";P.d(at,{w:()=>ve});var a=P(4850),U=P(5254),V=P(1177);function ve(oe,le){return"function"==typeof le?ie=>ie.pipe(ve((te,K)=>(0,U.D)(oe(te,K)).pipe((0,a.U)((de,ue)=>le(te,de,K,ue))))):ie=>ie.lift(new _e(oe))}class _e{constructor(le){this.project=le}call(le,ie){return ie.subscribe(new se(le,this.project))}}class se extends V.Ds{constructor(le,ie){super(le),this.project=ie,this.index=0}_next(le){let ie;const te=this.index++;try{ie=this.project(le,te)}catch(K){return void this.destination.error(K)}this._innerSub(ie)}_innerSub(le){const ie=this.innerSubscription;ie&&ie.unsubscribe();const te=new V.IY(this),K=this.destination;K.add(te),this.innerSubscription=(0,V.ft)(le,te),this.innerSubscription!==te&&K.add(this.innerSubscription)}_complete(){const{innerSubscription:le}=this;(!le||le.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(le){this.destination.next(le)}}},2986:(Qt,at,P)=>{"use strict";P.d(at,{q:()=>ve});var a=P(3489),U=P(4231),V=P(8896);function ve(oe){return le=>0===oe?(0,V.c)():le.lift(new _e(oe))}class _e{constructor(le){if(this.total=le,this.total<0)throw new U.W}call(le,ie){return ie.subscribe(new se(le,this.total))}}class se extends a.L{constructor(le,ie){super(le),this.total=ie,this.count=0}_next(le){const ie=this.total,te=++this.count;te<=ie&&(this.destination.next(le),te===ie&&(this.destination.complete(),this.unsubscribe()))}}},2994:(Qt,at,P)=>{"use strict";P.d(at,{b:()=>ve});var a=P(3489),U=P(7876),V=P(7043);function ve(oe,le,ie){return function(K){return K.lift(new _e(oe,le,ie))}}class _e{constructor(le,ie,te){this.nextOrObserver=le,this.error=ie,this.complete=te}call(le,ie){return ie.subscribe(new se(le,this.nextOrObserver,this.error,this.complete))}}class se extends a.L{constructor(le,ie,te,K){super(le),this._tapNext=U.Z,this._tapError=U.Z,this._tapComplete=U.Z,this._tapError=te||U.Z,this._tapComplete=K||U.Z,(0,V.m)(ie)?(this._context=this,this._tapNext=ie):ie&&(this._context=ie,this._tapNext=ie.next||U.Z,this._tapError=ie.error||U.Z,this._tapComplete=ie.complete||U.Z)}_next(le){try{this._tapNext.call(this._context,le)}catch(ie){return void this.destination.error(ie)}this.destination.next(le)}_error(le){try{this._tapError.call(this._context,le)}catch(ie){return void this.destination.error(ie)}this.destination.error(le)}_complete(){try{this._tapComplete.call(this._context)}catch(le){return void this.destination.error(le)}return this.destination.complete()}}},4907:(Qt,at,P)=>{"use strict";P.d(at,{T:()=>V});var a=P(4450),U=P(3489);function V(oe=se){return le=>le.lift(new ve(oe))}class ve{constructor(le){this.errorFactory=le}call(le,ie){return ie.subscribe(new _e(le,this.errorFactory))}}class _e extends U.L{constructor(le,ie){super(le),this.errorFactory=ie,this.hasValue=!1}_next(le){this.hasValue=!0,this.destination.next(le)}_complete(){if(this.hasValue)return this.destination.complete();{let le;try{le=this.errorFactory()}catch(ie){le=ie}this.destination.error(le)}}}function se(){return new a.K}},6454:(Qt,at,P)=>{"use strict";P.d(at,{r:()=>V});var a=P(6498),U=P(2654);function V(ve,_e){return new a.y(se=>{const oe=new U.w;let le=0;return oe.add(_e.schedule(function(){le!==ve.length?(se.next(ve[le++]),se.closed||oe.add(this.schedule())):se.complete()})),oe})}},6686:(Qt,at,P)=>{"use strict";P.d(at,{o:()=>V});var a=P(2654);class U extends a.w{constructor(_e,se){super()}schedule(_e,se=0){return this}}class V extends U{constructor(_e,se){super(_e,se),this.scheduler=_e,this.work=se,this.pending=!1}schedule(_e,se=0){if(this.closed)return this;this.state=_e;const oe=this.id,le=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(le,oe,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId(le,this.id,se),this}requestAsyncId(_e,se,oe=0){return setInterval(_e.flush.bind(_e,this),oe)}recycleAsyncId(_e,se,oe=0){if(null!==oe&&this.delay===oe&&!1===this.pending)return se;clearInterval(se)}execute(_e,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(_e,se);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,se){let le,oe=!1;try{this.work(_e)}catch(ie){oe=!0,le=!!ie&&ie||new Error(ie)}if(oe)return this.unsubscribe(),le}_unsubscribe(){const _e=this.id,se=this.scheduler,oe=se.actions,le=oe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==le&&oe.splice(le,1),null!=_e&&(this.id=this.recycleAsyncId(se,_e,null)),this.delay=null}}},2268:(Qt,at,P)=>{"use strict";P.d(at,{v:()=>U});let a=(()=>{class V{constructor(_e,se=V.now){this.SchedulerAction=_e,this.now=se}schedule(_e,se=0,oe){return new this.SchedulerAction(this,_e).schedule(oe,se)}}return V.now=()=>Date.now(),V})();class U extends a{constructor(ve,_e=a.now){super(ve,()=>U.delegate&&U.delegate!==this?U.delegate.now():_e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ve,_e=0,se){return U.delegate&&U.delegate!==this?U.delegate.schedule(ve,_e,se):super.schedule(ve,_e,se)}flush(ve){const{actions:_e}=this;if(this.active)return void _e.push(ve);let se;this.active=!0;do{if(se=ve.execute(ve.state,ve.delay))break}while(ve=_e.shift());if(this.active=!1,se){for(;ve=_e.shift();)ve.unsubscribe();throw se}}}},353:(Qt,at,P)=>{"use strict";P.d(at,{P:()=>ve,z:()=>V});var a=P(6686);const V=new(P(2268).v)(a.o),ve=V},341:(Qt,at,P)=>{"use strict";P.d(at,{c:()=>se,N:()=>_e});var a=P(6686),V=P(2268);const _e=new class ve extends V.v{}(class U extends a.o{constructor(le,ie){super(le,ie),this.scheduler=le,this.work=ie}schedule(le,ie=0){return ie>0?super.schedule(le,ie):(this.delay=ie,this.state=le,this.scheduler.flush(this),this)}execute(le,ie){return ie>0||this.closed?super.execute(le,ie):this._execute(le,ie)}requestAsyncId(le,ie,te=0){return null!==te&&te>0||null===te&&this.delay>0?super.requestAsyncId(le,ie,te):le.flush(this)}}),se=_e},5430:(Qt,at,P)=>{"use strict";P.d(at,{hZ:()=>U});const U=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(Qt,at,P)=>{"use strict";P.d(at,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(Qt,at,P)=>{"use strict";P.d(at,{b:()=>a});const a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(Qt,at,P)=>{"use strict";P.d(at,{W:()=>U});const U=(()=>{function V(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return V.prototype=Object.create(Error.prototype),V})()},4450:(Qt,at,P)=>{"use strict";P.d(at,{K:()=>U});const U=(()=>{function V(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return V.prototype=Object.create(Error.prototype),V})()},5279:(Qt,at,P)=>{"use strict";P.d(at,{N:()=>U});const U=(()=>{function V(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return V.prototype=Object.create(Error.prototype),V})()},2782:(Qt,at,P)=>{"use strict";function a(U){setTimeout(()=>{throw U},0)}P.d(at,{z:()=>a})},5379:(Qt,at,P)=>{"use strict";function a(U){return U}P.d(at,{y:()=>a})},6688:(Qt,at,P)=>{"use strict";P.d(at,{k:()=>a});const a=Array.isArray||(U=>U&&"number"==typeof U.length)},8515:(Qt,at,P)=>{"use strict";P.d(at,{z:()=>a});const a=U=>U&&"number"==typeof U.length&&"function"!=typeof U},7043:(Qt,at,P)=>{"use strict";function a(U){return"function"==typeof U}P.d(at,{m:()=>a})},7830:(Qt,at,P)=>{"use strict";function a(U){return null!==U&&"object"==typeof U}P.d(at,{K:()=>a})},8955:(Qt,at,P)=>{"use strict";function a(U){return!!U&&"function"!=typeof U.subscribe&&"function"==typeof U.then}P.d(at,{t:()=>a})},2866:(Qt,at,P)=>{"use strict";function a(U){return U&&"function"==typeof U.schedule}P.d(at,{K:()=>a})},7876:(Qt,at,P)=>{"use strict";function a(){}P.d(at,{Z:()=>a})},4843:(Qt,at,P)=>{"use strict";P.d(at,{U:()=>V,z:()=>U});var a=P(5379);function U(...ve){return V(ve)}function V(ve){return 0===ve.length?a.y:1===ve.length?ve[0]:function(se){return ve.reduce((oe,le)=>le(oe),se)}}},9249:(Qt,at,P)=>{"use strict";P.d(at,{s:()=>K});var a=P(3650),U=P(2782),ve=P(5430),se=P(3821),le=P(8515),ie=P(8955),te=P(7830);const K=de=>{if(de&&"function"==typeof de[se.L])return(de=>ue=>{const $e=de[se.L]();if("function"!=typeof $e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return $e.subscribe(ue)})(de);if((0,le.z)(de))return(0,a.V)(de);if((0,ie.t)(de))return(de=>ue=>(de.then($e=>{ue.closed||(ue.next($e),ue.complete())},$e=>ue.error($e)).then(null,U.z),ue))(de);if(de&&"function"==typeof de[ve.hZ])return(de=>ue=>{const $e=de[ve.hZ]();for(;;){let Be;try{Be=$e.next()}catch(ae){return ue.error(ae),ue}if(Be.done){ue.complete();break}if(ue.next(Be.value),ue.closed)break}return"function"==typeof $e.return&&ue.add(()=>{$e.return&&$e.return()}),ue})(de);{const $e=`You provided ${(0,te.K)(de)?"an invalid object":`'${de}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError($e)}}},3650:(Qt,at,P)=>{"use strict";P.d(at,{V:()=>a});const a=U=>V=>{for(let ve=0,_e=U.length;ve<_e&&!V.closed;ve++)V.next(U[ve]);V.complete()}},863:(Qt,at,P)=>{var a={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,3236],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,870,9230],"./ion-datetime_3.entry.js":[4959,870,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,5817],"./ion-input.entry.js":[1217,1217],"./ion-item-option_3.entry.js":[2933,8592,4651],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,4432],"./ion-range.entry.js":[3545,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,2175],"./ion-reorder_2.entry.js":[3583,8592,1186],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function U(V){if(!P.o(a,V))return Promise.resolve().then(()=>{var se=new Error("Cannot find module '"+V+"'");throw se.code="MODULE_NOT_FOUND",se});var ve=a[V],_e=ve[0];return Promise.all(ve.slice(1).map(P.e)).then(()=>P(_e))}U.keys=()=>Object.keys(a),U.id=863,Qt.exports=U},655:(Qt,at,P)=>{"use strict";P.d(at,{ZT:()=>U,_T:()=>ve,gn:()=>_e,mG:()=>le});var a=function(ye,q){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(he,ne){he.__proto__=ne}||function(he,ne){for(var ct in ne)Object.prototype.hasOwnProperty.call(ne,ct)&&(he[ct]=ne[ct])})(ye,q)};function U(ye,q){if("function"!=typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");function he(){this.constructor=ye}a(ye,q),ye.prototype=null===q?Object.create(q):(he.prototype=q.prototype,new he)}function ve(ye,q){var he={};for(var ne in ye)Object.prototype.hasOwnProperty.call(ye,ne)&&q.indexOf(ne)<0&&(he[ne]=ye[ne]);if(null!=ye&&"function"==typeof Object.getOwnPropertySymbols){var ct=0;for(ne=Object.getOwnPropertySymbols(ye);ct<ne.length;ct++)q.indexOf(ne[ct])<0&&Object.prototype.propertyIsEnumerable.call(ye,ne[ct])&&(he[ne[ct]]=ye[ne[ct]])}return he}function _e(ye,q,he,ne){var Vt,ct=arguments.length,pt=ct<3?q:null===ne?ne=Object.getOwnPropertyDescriptor(q,he):ne;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)pt=Reflect.decorate(ye,q,he,ne);else for(var ut=ye.length-1;ut>=0;ut--)(Vt=ye[ut])&&(pt=(ct<3?Vt(pt):ct>3?Vt(q,he,pt):Vt(q,he))||pt);return ct>3&&pt&&Object.defineProperty(q,he,pt),pt}function le(ye,q,he,ne){return new(he||(he=Promise))(function(pt,Vt){function ut(Me){try{qe(ne.next(Me))}catch(Ge){Vt(Ge)}}function dt(Me){try{qe(ne.throw(Me))}catch(Ge){Vt(Ge)}}function qe(Me){Me.done?pt(Me.value):function ct(pt){return pt instanceof he?pt:new he(function(Vt){Vt(pt)})}(Me.value).then(ut,dt)}qe((ne=ne.apply(ye,q||[])).next())})}},6895:(Qt,at,P)=>{"use strict";P.d(at,{Do:()=>J,EM:()=>Rs,HT:()=>_e,JF:()=>Ei,K0:()=>oe,Mx:()=>rr,NF:()=>di,O5:()=>ge,PM:()=>zr,S$:()=>Ve,V_:()=>te,Ye:()=>st,b0:()=>ht,bD:()=>Vr,ez:()=>go,q:()=>V,sg:()=>Mi,tP:()=>jn,w_:()=>se});var a=P(6353);let U=null;function V(){return U}function _e(M){U||(U=M)}class se{}const oe=new a.OlP("DocumentToken");let le=(()=>{class M{historyGo(N){throw new Error("Not implemented")}}return M.\u0275fac=function(N){return new(N||M)},M.\u0275prov=a.Yz7({token:M,factory:function(){return function ie(){return(0,a.LFG)(K)}()},providedIn:"platform"}),M})();const te=new a.OlP("Location Initialized");let K=(()=>{class M extends le{constructor(N){super(),this._doc=N,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(N){const Q=V().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("popstate",N,!1),()=>Q.removeEventListener("popstate",N)}onHashChange(N){const Q=V().getGlobalEventTarget(this._doc,"window");return Q.addEventListener("hashchange",N,!1),()=>Q.removeEventListener("hashchange",N)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(N){this.location.pathname=N}pushState(N,Q,ze){de()?this._history.pushState(N,Q,ze):this.location.hash=ze}replaceState(N,Q,ze){de()?this._history.replaceState(N,Q,ze):this.location.hash=ze}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return M.\u0275fac=function(N){return new(N||M)(a.LFG(oe))},M.\u0275prov=a.Yz7({token:M,factory:function(){return function ue(){return new K((0,a.LFG)(oe))}()},providedIn:"platform"}),M})();function de(){return!!window.history.pushState}function $e(M,G){if(0==M.length)return G;if(0==G.length)return M;let N=0;return M.endsWith("/")&&N++,G.startsWith("/")&&N++,2==N?M+G.substring(1):1==N?M+G:M+"/"+G}function Be(M){const G=M.match(/#|\?|$/),N=G&&G.index||M.length;return M.slice(0,N-("/"===M[N-1]?1:0))+M.slice(N)}function ae(M){return M&&"?"!==M[0]?"?"+M:M}let Ve=(()=>{class M{historyGo(N){throw new Error("Not implemented")}}return M.\u0275fac=function(N){return new(N||M)},M.\u0275prov=a.Yz7({token:M,factory:function(){return(0,a.f3M)(ht)},providedIn:"root"}),M})();const De=new a.OlP("appBaseHref");let ht=(()=>{class M extends Ve{constructor(N,Q){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=Q??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return $e(this._baseHref,N)}path(N=!1){const Q=this._platformLocation.pathname+ae(this._platformLocation.search),ze=this._platformLocation.hash;return ze&&N?`${Q}${ze}`:Q}pushState(N,Q,ze,At){const zt=this.prepareExternalUrl(ze+ae(At));this._platformLocation.pushState(N,Q,zt)}replaceState(N,Q,ze,At){const zt=this.prepareExternalUrl(ze+ae(At));this._platformLocation.replaceState(N,Q,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return M.\u0275fac=function(N){return new(N||M)(a.LFG(le),a.LFG(De,8))},M.\u0275prov=a.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})(),J=(()=>{class M extends Ve{constructor(N,Q){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=Q&&(this._baseHref=Q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let Q=this._platformLocation.hash;return null==Q&&(Q="#"),Q.length>0?Q.substring(1):Q}prepareExternalUrl(N){const Q=$e(this._baseHref,N);return Q.length>0?"#"+Q:Q}pushState(N,Q,ze,At){let zt=this.prepareExternalUrl(ze+ae(At));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.pushState(N,Q,zt)}replaceState(N,Q,ze,At){let zt=this.prepareExternalUrl(ze+ae(At));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.replaceState(N,Q,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return M.\u0275fac=function(N){return new(N||M)(a.LFG(le),a.LFG(De,8))},M.\u0275prov=a.Yz7({token:M,factory:M.\u0275fac}),M})(),st=(()=>{class M{constructor(N){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const Q=this._locationStrategy.getBaseHref();this._baseHref=Be(Qe(Q)),this._locationStrategy.onPopState(ze=>{this._subject.emit({url:this.path(!0),pop:!0,state:ze.state,type:ze.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,Q=""){return this.path()==this.normalize(N+ae(Q))}normalize(N){return M.stripTrailingSlash(function St(M,G){return M&&G.startsWith(M)?G.substring(M.length):G}(this._baseHref,Qe(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,Q="",ze=null){this._locationStrategy.pushState(ze,"",N,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+ae(Q)),ze)}replaceState(N,Q="",ze=null){this._locationStrategy.replaceState(ze,"",N,Q),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+ae(Q)),ze)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Q=>{this._notifyUrlChangeListeners(Q.url,Q.state)})),()=>{const Q=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(Q,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",Q){this._urlChangeListeners.forEach(ze=>ze(N,Q))}subscribe(N,Q,ze){return this._subject.subscribe({next:N,error:Q,complete:ze})}}return M.normalizeQueryParams=ae,M.joinWithSlash=$e,M.stripTrailingSlash=Be,M.\u0275fac=function(N){return new(N||M)(a.LFG(Ve))},M.\u0275prov=a.Yz7({token:M,factory:function(){return function wt(){return new st((0,a.LFG)(Ve))}()},providedIn:"root"}),M})();function Qe(M){return M.replace(/\/index.html$/,"")}function rr(M,G){G=encodeURIComponent(G);for(const N of M.split(";")){const Q=N.indexOf("="),[ze,At]=-1==Q?[N,""]:[N.slice(0,Q),N.slice(Q+1)];if(ze.trim()===G)return decodeURIComponent(At)}return null}class vi{constructor(G,N,Q,ze){this.$implicit=G,this.ngForOf=N,this.index=Q,this.count=ze}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mi=(()=>{class M{constructor(N,Q,ze){this._viewContainer=N,this._template=Q,this._differs=ze,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const Q=this._viewContainer;N.forEachOperation((ze,At,zt)=>{if(null==ze.previousIndex)Q.createEmbeddedView(this._template,new vi(ze.item,this._ngForOf,-1,-1),null===zt?void 0:zt);else if(null==zt)Q.remove(null===At?void 0:At);else if(null!==At){const ln=Q.get(At);Q.move(ln,zt),ti(ln,ze)}});for(let ze=0,At=Q.length;ze<At;ze++){const ln=Q.get(ze).context;ln.index=ze,ln.count=At,ln.ngForOf=this._ngForOf}N.forEachIdentityChange(ze=>{ti(Q.get(ze.currentIndex),ze)})}static ngTemplateContextGuard(N,Q){return!0}}return M.\u0275fac=function(N){return new(N||M)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},M.\u0275dir=a.lG2({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),M})();function ti(M,G){M.context.$implicit=G.item}let ge=(()=>{class M{constructor(N,Q){this._viewContainer=N,this._context=new Xe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Q}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){ot("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){ot("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,Q){return!0}}return M.\u0275fac=function(N){return new(N||M)(a.Y36(a.s_b),a.Y36(a.Rgc))},M.\u0275dir=a.lG2({type:M,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),M})();class Xe{constructor(){this.$implicit=null,this.ngIf=null}}function ot(M,G){if(G&&!G.createEmbeddedView)throw new Error(`${M} must be a TemplateRef, but received '${(0,a.AaK)(G)}'.`)}let jn=(()=>{class M{constructor(N){this._viewContainerRef=N,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(N){if(N.ngTemplateOutlet||N.ngTemplateOutletInjector){const Q=this._viewContainerRef;if(this._viewRef&&Q.remove(Q.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:ze,ngTemplateOutletContext:At,ngTemplateOutletInjector:zt}=this;this._viewRef=Q.createEmbeddedView(ze,At,zt?{injector:zt}:void 0)}else this._viewRef=null}else this._viewRef&&N.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return M.\u0275fac=function(N){return new(N||M)(a.Y36(a.s_b))},M.\u0275dir=a.lG2({type:M,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),M})(),go=(()=>{class M{}return M.\u0275fac=function(N){return new(N||M)},M.\u0275mod=a.oAB({type:M}),M.\u0275inj=a.cJS({}),M})();const Vr="browser";function di(M){return M===Vr}function zr(M){return"server"===M}let Rs=(()=>{class M{}return M.\u0275prov=(0,a.Yz7)({token:M,providedIn:"root",factory:()=>new _i((0,a.LFG)(oe),window)}),M})();class _i{constructor(G,N){this.document=G,this.window=N,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const N=function Is(M,G){const N=M.getElementById(G)||M.getElementsByName(G)[0];if(N)return N;if("function"==typeof M.createTreeWalker&&M.body&&(M.body.createShadowRoot||M.body.attachShadow)){const Q=M.createTreeWalker(M.body,NodeFilter.SHOW_ELEMENT);let ze=Q.currentNode;for(;ze;){const At=ze.shadowRoot;if(At){const zt=At.getElementById(G)||At.querySelector(`[name="${G}"]`);if(zt)return zt}ze=Q.nextNode()}}return null}(this.document,G);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const N=this.window.history;N&&N.scrollRestoration&&(N.scrollRestoration=G)}}scrollToElement(G){const N=G.getBoundingClientRect(),Q=N.left+this.window.pageXOffset,ze=N.top+this.window.pageYOffset,At=this.offset();this.window.scrollTo(Q-At[0],ze-At[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=Nr(this.window.history)||Nr(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Nr(M){return Object.getOwnPropertyDescriptor(M,"scrollRestoration")}class Ei{}},6353:(Qt,at,P)=>{"use strict";P.d(at,{tb:()=>xE,AFp:()=>SE,ip1:()=>CE,CZH:()=>Iy,hGG:()=>LI,z2F:()=>Cy,sBO:()=>wI,Sil:()=>tI,_Vd:()=>Zc,EJc:()=>Jb,Xts:()=>ja,SBq:()=>$l,lqb:()=>hc,qLn:()=>Hl,vpe:()=>qu,XFs:()=>Ut,OlP:()=>Un,zs3:()=>Ya,ZZ4:()=>L_,aQg:()=>V_,soG:()=>Dy,YKP:()=>P0,h0i:()=>af,PXZ:()=>pI,R0b:()=>tu,FiY:()=>qs,Lbi:()=>Zb,g9A:()=>AE,Qsj:()=>fg,FYo:()=>hg,JOm:()=>Wa,tp0:()=>Ua,Rgc:()=>Jp,dDg:()=>lI,eoX:()=>FE,q4F:()=>bf,GfV:()=>mg,s_b:()=>Ey,ifc:()=>ir,MMx:()=>h_,Lck:()=>Hw,eFA:()=>BE,G48:()=>EI,Gpc:()=>$e,f3M:()=>Vn,X6Q:()=>_I,_c5:()=>FI,c2e:()=>Xb,zSh:()=>lc,wAp:()=>pr,vHH:()=>De,lri:()=>NE,rWj:()=>kE,D6c:()=>VI,cg1:()=>Kp,kL8:()=>Yp,dqk:()=>xn,Z0I:()=>yn,sIi:()=>pl,CqO:()=>xp,QGY:()=>Yh,QP$:()=>nt,F4k:()=>Wu,RDi:()=>kd,AaK:()=>K,qOj:()=>$h,TTD:()=>Zi,_Bn:()=>R0,jDz:()=>k0,xp6:()=>wc,uIk:()=>Pm,ekj:()=>Xa,Suo:()=>nE,Xpm:()=>jt,lG2:()=>Se,Yz7:()=>Yt,cJS:()=>Dn,oAB:()=>er,Yjl:()=>Rt,Y36:()=>Wo,_UZ:()=>vd,GkF:()=>_d,qZA:()=>yd,TgZ:()=>zu,EpF:()=>Kh,n5z:()=>Fa,LFG:()=>kt,$8M:()=>La,$Z:()=>Kf,NdJ:()=>qh,CRH:()=>rE,oxw:()=>Op,Hsn:()=>Id,F$t:()=>Vm,Q6J:()=>Sp,DdM:()=>j0,VKq:()=>H0,iGM:()=>eE,KtG:()=>xt,CHM:()=>re,LSH:()=>Hd,YNc:()=>Cp,_uU:()=>Qv,Oqu:()=>Qm,hij:()=>Cd,Gf:()=>tE});var a=P(8929),U=P(2654),V=P(6498),ve=P(6787),_e=P(2536),se=P(4327);function oe(){return new a.xQ}function ie(n){for(let r in n)if(n[r]===ie)return r;throw Error("Could not find renamed property on target object.")}function te(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function K(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(K).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function de(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const ue=ie({__forward_ref__:ie});function $e(n){return n.__forward_ref__=$e,n.toString=function(){return K(this())},n}function Be(n){return ae(n)?n():n}function ae(n){return"function"==typeof n&&n.hasOwnProperty(ue)&&n.__forward_ref__===$e}class De extends Error{constructor(r,s){super(function ht(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function J(n){return"string"==typeof n?n:null==n?"":String(n)}function Ae(n,r){throw new De(-201,!1)}function Ge(n,r){null==n&&function je(n,r,s,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${s} ${u} ${r} <=Actual]`))}(r,n,null,"!=")}function Yt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Dn(n){return{providers:n.providers||[],imports:n.imports||[]}}function wn(n){return Rn(n,bt)||Rn(n,ar)}function yn(n){return null!==wn(n)}function Rn(n,r){return n.hasOwnProperty(r)?n[r]:null}function Tn(n){return n&&(n.hasOwnProperty(Fn)||n.hasOwnProperty(nr))?n[Fn]:null}const bt=ie({\u0275prov:ie}),Fn=ie({\u0275inj:ie}),ar=ie({ngInjectableDef:ie}),nr=ie({ngInjectorDef:ie});var Ut=(()=>((Ut=Ut||{})[Ut.Default=0]="Default",Ut[Ut.Host=1]="Host",Ut[Ut.Self=2]="Self",Ut[Ut.SkipSelf=4]="SkipSelf",Ut[Ut.Optional=8]="Optional",Ut))();let ur;function Jn(n){const r=ur;return ur=n,r}function Rr(n,r,s){const u=wn(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&Ut.Optional?null:void 0!==r?r:void Ae(K(n))}function en(n){return{toString:n}.toString()}var hn=(()=>((hn=hn||{})[hn.OnPush=0]="OnPush",hn[hn.Default=1]="Default",hn))(),ir=(()=>{return(n=ir||(ir={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ir;var n})();const xn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Pn={},kn=[],bn=ie({\u0275cmp:ie}),Ze=ie({\u0275dir:ie}),Ne=ie({\u0275pipe:ie}),xe=ie({\u0275mod:ie}),Le=ie({\u0275fac:ie}),Ue=ie({__NG_ELEMENT_ID__:ie});let Tt=0;function jt(n){return en(()=>{const s=!0===n.standalone,u={},l={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===hn.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||kn,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ir.Emulated,id:"c"+Tt++,styles:n.styles||kn,_:null,setInput:null,schemas:n.schemas||null,tView:null},h=n.dependencies,_=n.features;return l.inputs=He(n.inputs,u),l.outputs=He(n.outputs),_&&_.forEach(D=>D(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(Gn).filter($n):null,l.pipeDefs=h?()=>("function"==typeof h?h():h).map(Mn).filter($n):null,l})}function Gn(n){return Bt(n)||an(n)}function $n(n){return null!==n}function er(n){return en(()=>({type:n.type,bootstrap:n.bootstrap||kn,declarations:n.declarations||kn,imports:n.imports||kn,exports:n.exports||kn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function He(n,r){if(null==n)return Pn;const s={};for(const u in n)if(n.hasOwnProperty(u)){let l=n[u],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),s[l]=u,r&&(r[l]=h)}return s}const Se=jt;function Rt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Bt(n){return n[bn]||null}function an(n){return n[Ze]||null}function Mn(n){return n[Ne]||null}function nt(n){const r=Bt(n)||an(n)||Mn(n);return null!==r&&r.standalone}function ke(n,r){const s=n[xe]||null;if(!s&&!0===r)throw new Error(`Type ${K(n)} does not have '\u0275mod' property.`);return s}function rt(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ot(n){return Array.isArray(n)&&!0===n[1]}function Pt(n){return 0!=(8&n.flags)}function Ft(n){return 2==(2&n.flags)}function cn(n){return 1==(1&n.flags)}function vn(n){return null!==n.template}function jn(n){return 0!=(256&n[2])}function qi(n,r){return n.hasOwnProperty(Le)?n[Le]:null}class Gi{constructor(r,s,u){this.previousValue=r,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function Zi(){return io}function io(n){return n.type.prototype.ngOnChanges&&(n.setInput=go),rs}function rs(){const n=ii(this),r=n?.current;if(r){const s=n.previous;if(s===Pn)n.previous=r;else for(let u in r)s[u]=r[u];n.current=null,this.ngOnChanges(r)}}function go(n,r,s,u){const l=ii(n)||function js(n,r){return n[Vr]=r}(n,{previous:Pn,current:null}),h=l.current||(l.current={}),_=l.previous,D=this.declaredInputs[s],x=_[D];h[D]=new Gi(x&&x.currentValue,r,_===Pn),n[u]=r}Zi.ngInherit=!0;const Vr="__ngSimpleChanges__";function ii(n){return n[Vr]||null}function Nr(n){for(;Array.isArray(n);)n=n[0];return n}function Ei(n,r){return Nr(r[n])}function Br(n,r){return Nr(r[n.index])}function Qi(n,r){return n.data[r]}function vr(n,r){const s=r[n];return rt(s)?s:s[0]}function is(n){return 4==(4&n[2])}function fs(n){return 64==(64&n[2])}function zi(n,r){return null==r?null:n[r]}function Pi(n){n[18]=0}function Qs(n,r){n[5]+=r;let s=n,u=n[3];for(;null!==u&&(1===r&&1===s[5]||-1===r&&0===s[5]);)u[5]+=r,s=u,u=u[3]}const Wn={lFrame:G(null),bindingsEnabled:!0};function ps(){return Wn.bindingsEnabled}function p(){return Wn.lFrame.lView}function k(){return Wn.lFrame.tView}function re(n){return Wn.lFrame.contextLView=n,n[8]}function xt(n){return Wn.lFrame.contextLView=null,n}function qt(){let n=gn();for(;null!==n&&64===n.type;)n=n.parent;return n}function gn(){return Wn.lFrame.currentTNode}function R(n,r){const s=Wn.lFrame;s.currentTNode=n,s.isParent=r}function O(){return Wn.lFrame.isParent}function Z(){Wn.lFrame.isParent=!1}function kr(){const n=Wn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function ms(){return Wn.lFrame.bindingIndex++}function No(n,r){const s=Wn.lFrame;s.bindingIndex=s.bindingRootIndex=n,sa(r)}function sa(n){Wn.lFrame.currentDirectiveIndex=n}function oa(){return Wn.lFrame.currentQueryIndex}function ko(n){Wn.lFrame.currentQueryIndex=n}function Du(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function vo(n,r,s){if(s&Ut.SkipSelf){let l=r,h=n;for(;!(l=l.parent,null!==l||s&Ut.Host||(l=Du(h),null===l||(h=h[15],10&l.type))););if(null===l)return!1;r=l,n=h}const u=Wn.lFrame=M();return u.currentTNode=r,u.lView=n,!0}function Fo(n){const r=M(),s=n[1];Wn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function M(){const n=Wn.lFrame,r=null===n?null:n.child;return null===r?G(n):r}function G(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function N(){const n=Wn.lFrame;return Wn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Q=N;function ze(){const n=N();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function ln(){return Wn.lFrame.selectedIndex}function Er(n){Wn.lFrame.selectedIndex=n}function Yn(){const n=Wn.lFrame;return Qi(n.tView,n.selectedIndex)}function ks(n,r){for(let s=r.directiveStart,u=r.directiveEnd;s<u;s++){const h=n.data[s].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:D,ngAfterViewInit:x,ngAfterViewChecked:j,ngOnDestroy:ee}=h;_&&(n.contentHooks||(n.contentHooks=[])).push(-s,_),D&&((n.contentHooks||(n.contentHooks=[])).push(s,D),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,D)),x&&(n.viewHooks||(n.viewHooks=[])).push(-s,x),j&&((n.viewHooks||(n.viewHooks=[])).push(s,j),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,j)),null!=ee&&(n.destroyHooks||(n.destroyHooks=[])).push(s,ee)}}function ys(n,r,s){os(n,r,3,s)}function ss(n,r,s,u){(3&n[2])===s&&os(n,r,s,u)}function eo(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function os(n,r,s,u){const h=u??-1,_=r.length-1;let D=0;for(let x=void 0!==u?65535&n[18]:0;x<_;x++)if("number"==typeof r[x+1]){if(D=r[x],null!=u&&D>=u)break}else r[x]<0&&(n[18]+=65536),(D<h||-1==h)&&(_o(n,s,r,x),n[18]=(4294901760&n[18])+x+2),x++}function _o(n,r,s,u){const l=s[u]<0,h=s[u+1],D=n[l?-s[u]:s[u]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{h.call(D)}finally{}}}else try{h.call(D)}finally{}}class ui{constructor(r,s,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function Lo(n,r,s){let u=0;for(;u<s.length;){const l=s[u];if("number"==typeof l){if(0!==l)break;u++;const h=s[u++],_=s[u++],D=s[u++];n.setAttribute(r,_,D,h)}else{const h=l,_=s[++u];Cu(h)?n.setProperty(r,h,_):n.setAttribute(r,h,_),u++}}return u}function Ji(n){return 3===n||4===n||6===n}function Cu(n){return 64===n.charCodeAt(0)}function Wi(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let u=0;u<r.length;u++){const l=r[u];"number"==typeof l?s=l:0===s||Yo(n,s,l,null,-1===s||2===s?r[++u]:null)}}return n}function Yo(n,r,s,u,l){let h=0,_=n.length;if(-1===r)_=-1;else for(;h<n.length;){const D=n[h++];if("number"==typeof D){if(D===r){_=-1;break}if(D>r){_=h-1;break}}}for(;h<n.length;){const D=n[h];if("number"==typeof D)break;if(D===s){if(null===u)return void(null!==l&&(n[h+1]=l));if(u===n[h+1])return void(n[h+2]=l)}h++,null!==u&&h++,null!==l&&h++}-1!==_&&(n.splice(_,0,r),h=_+1),n.splice(h++,0,s),null!==u&&n.splice(h++,0,u),null!==l&&n.splice(h++,0,l)}function Ra(n){return-1!==n}function qo(n){return 32767&n}function oo(n,r){let s=function Pa(n){return n>>16}(n),u=r;for(;s>0;)u=u[15],s--;return u}let Na=!0;function ci(n){const r=Na;return Na=n,r}let Vo=0;const qr={};function Fs(n,r){const s=Xo(n,r);if(-1!==s)return s;const u=r[1];u.firstCreatePass&&(n.injectorIndex=r.length,Bo(u.data,n),Bo(r,null),Bo(u.blueprint,null));const l=Xt(n,r),h=n.injectorIndex;if(Ra(l)){const _=qo(l),D=oo(l,r),x=D[1].data;for(let j=0;j<8;j++)r[h+j]=D[_+j]|x[_+j]}return r[h+8]=l,h}function Bo(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Xo(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Xt(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,u=null,l=r;for(;null!==l;){if(u=su(l),null===u)return-1;if(s++,l=l[15],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return-1}function Zr(n,r,s){!function Zo(n,r,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(Ue)&&(u=s[Ue]),null==u&&(u=s[Ue]=Vo++);const l=255&u;r.data[n+(l>>5)]|=1<<l}(n,r,s)}function Qo(n,r,s){if(s&Ut.Optional)return n;Ae()}function An(n,r,s,u){if(s&Ut.Optional&&void 0===u&&(u=null),0==(s&(Ut.Self|Ut.Host))){const l=n[9],h=Jn(void 0);try{return l?l.get(r,u,s&Ut.Optional):Rr(r,u,s&Ut.Optional)}finally{Jn(h)}}return Qo(u,0,s)}function sr(n,r,s,u=Ut.Default,l){if(null!==n){if(1024&r[2]){const _=function vs(n,r,s,u,l){let h=n,_=r;for(;null!==h&&null!==_&&1024&_[2]&&!(256&_[2]);){const D=ua(h,_,s,u|Ut.Self,qr);if(D!==qr)return D;let x=h.parent;if(!x){const j=_[21];if(j){const ee=j.get(s,qr,u);if(ee!==qr)return ee}x=su(_),_=_[15]}h=x}return l}(n,r,s,u,qr);if(_!==qr)return _}const h=ua(n,r,s,u,qr);if(h!==qr)return h}return An(r,s,u,l)}function ua(n,r,s,u,l){const h=function Bi(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Ue)?n[Ue]:void 0;return"number"==typeof r?r>=0?255&r:ru:r}(s);if("function"==typeof h){if(!vo(r,n,u))return u&Ut.Host?Qo(l,0,u):An(r,s,u,l);try{const _=h(u);if(null!=_||u&Ut.Optional)return _;Ae()}finally{Q()}}else if("number"==typeof h){let _=null,D=Xo(n,r),x=-1,j=u&Ut.Host?r[16][6]:null;for((-1===D||u&Ut.SkipSelf)&&(x=-1===D?Xt(n,r):r[D+8],-1!==x&&Su(u,!1)?(_=r[1],D=qo(x),r=oo(x,r)):D=-1);-1!==D;){const ee=r[1];if($o(h,D,ee.data)){const Ee=mn(D,r,s,_,u,j);if(Ee!==qr)return Ee}x=r[D+8],-1!==x&&Su(u,r[1].data[D+8]===j)&&$o(h,D,r)?(_=ee,D=qo(x),r=oo(x,r)):D=-1}}return l}function mn(n,r,s,u,l,h){const _=r[1],D=_.data[n+8],ee=Mt(D,_,s,null==u?Ft(D)&&Na:u!=_&&0!=(3&D.type),l&Ut.Host&&h===D);return null!==ee?Wt(r,_,ee,D):qr}function Mt(n,r,s,u,l){const h=n.providerIndexes,_=r.data,D=1048575&h,x=n.directiveStart,ee=h>>20,tt=l?D+ee:n.directiveEnd;for(let Et=u?D:D+ee;Et<tt;Et++){const Gt=_[Et];if(Et<x&&s===Gt||Et>=x&&Gt.type===s)return Et}if(l){const Et=_[x];if(Et&&vn(Et)&&Et.type===s)return x}return null}function Wt(n,r,s,u){let l=n[s];const h=r.data;if(function To(n){return n instanceof ui}(l)){const _=l;_.resolving&&function wt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new De(-200,`Circular dependency in DI detected for ${n}${s}`)}(function st(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():J(n)}(h[s]));const D=ci(_.canSeeViewProviders);_.resolving=!0;const x=_.injectImpl?Jn(_.injectImpl):null;vo(n,u,Ut.Default);try{l=n[s]=_.factory(void 0,h,n,u),r.firstCreatePass&&s>=u.directiveStart&&function Ns(n,r,s){const{ngOnChanges:u,ngOnInit:l,ngDoCheck:h}=r.type.prototype;if(u){const _=io(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,_),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,_)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,l),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,h))}(s,h[s],r)}finally{null!==x&&Jn(x),ci(D),_.resolving=!1,Q()}}return l}function $o(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Su(n,r){return!(n&Ut.Self||n&Ut.Host&&r)}class to{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,u){return sr(this._tNode,this._lView,r,u,s)}}function ru(){return new to(qt(),p())}function Fa(n){return en(()=>{const r=n.prototype.constructor,s=r[Le]||iu(r),u=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==u;){const h=l[Le]||iu(l);if(h&&h!==s)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function iu(n){return ae(n)?()=>{const r=iu(Be(n));return r&&r()}:qi(n)}function su(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function La(n){return function Ls(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const u=s.length;let l=0;for(;l<u;){const h=s[l];if(Ji(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<u&&"string"==typeof s[l];)l++;else{if(h===r)return s[l+1];l+=2}}}return null}(qt(),n)}const Ao="__parameters__";function Xr(n,r,s){return en(()=>{const u=function mi(n){return function(...s){if(n){const u=n(...s);for(const l in u)this[l]=u[l]}}}(r);function l(...h){if(this instanceof l)return u.apply(this,h),this;const _=new l(...h);return D.annotation=_,D;function D(x,j,ee){const Ee=x.hasOwnProperty(Ao)?x[Ao]:Object.defineProperty(x,Ao,{value:[]})[Ao];for(;Ee.length<=ee;)Ee.push(null);return(Ee[ee]=Ee[ee]||[]).push(_),x}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Un{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Yt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ki(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let u=n[s];Array.isArray(u)?(r===n&&(r=n.slice(0,s)),Ki(u,r)):r!==n&&r.push(u)}return r}function Ni(n,r){n.forEach(s=>Array.isArray(s)?Ni(s,r):r(s))}function Va(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function Dt(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function ho(n,r){const s=[];for(let u=0;u<n;u++)s.push(r);return s}function Cs(n,r,s){let u=fa(n,r);return u>=0?n[1|u]=s:(u=~u,function Jo(n,r,s,u){let l=n.length;if(l==r)n.push(s,u);else if(1===l)n.push(u,n[0]),n[0]=s;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=s,n[r+1]=u}}(n,u,r,s)),u}function Ba(n,r){const s=fa(n,r);if(s>=0)return n[1|s]}function fa(n,r){return function _s(n,r,s){let u=0,l=n.length>>s;for(;l!==u;){const h=u+(l-u>>1),_=n[h<<s];if(r===_)return h<<s;_>r?l=h:u=h+1}return~(l<<s)}(n,r,1)}const A={},L="__NG_DI_FLAG__",W="ngTempTokenPath",w=/\n/gm,H="__source";let me;function Oe(n){const r=me;return me=n,r}function lt(n,r=Ut.Default){if(void 0===me)throw new De(-203,!1);return null===me?Rr(n,void 0,r):me.get(n,r&Ut.Optional?null:void 0,r)}function kt(n,r=Ut.Default){return(function Dr(){return ur}()||lt)(Be(n),r)}function Vn(n,r=Ut.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),kt(n,r)}function Kn(n){const r=[];for(let s=0;s<n.length;s++){const u=Be(n[s]);if(Array.isArray(u)){if(0===u.length)throw new De(900,!1);let l,h=Ut.Default;for(let _=0;_<u.length;_++){const D=u[_],x=Bn(D);"number"==typeof x?-1===x?l=D.token:h|=x:l=D}r.push(kt(l,h))}else r.push(kt(u))}return r}function fr(n,r){return n[L]=r,n.prototype[L]=r,n}function Bn(n){return n[L]}const qs=fr(Xr("Optional"),8),Ua=fr(Xr("SkipSelf"),4);let jc;function kd(n){jc=n}class zc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ta(n){return n instanceof zc?n.changingThisBreaksApplicationSecurity:n}const Nn=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var ws=(()=>((ws=ws||{})[ws.NONE=0]="NONE",ws[ws.HTML=1]="HTML",ws[ws.STYLE=2]="STYLE",ws[ws.SCRIPT=3]="SCRIPT",ws[ws.URL=4]="URL",ws[ws.RESOURCE_URL=5]="RESOURCE_URL",ws))();function Hd(n){const r=function qc(){const n=p();return n&&n[12]}();return r?r.sanitize(ws.URL,n)||"":function cu(n,r){const s=function Ol(n){return n instanceof zc&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?ta(n):function Zn(n){return(n=String(n)).match(Nn)?n:"unsafe:"+n}(J(n))}const ja=new Un("ENVIRONMENT_INITIALIZER"),ig=new Un("INJECTOR",-1),bo=new Un("INJECTOR_DEF_TYPES");class gf{get(r,s=A){if(s===A){const u=new Error(`NullInjectorError: No provider for ${K(r)}!`);throw u.name="NullInjectorError",u}return s}}function Fl(...n){return{\u0275providers:mf(0,n)}}function mf(n,...r){const s=[],u=new Set;let l;return Ni(r,h=>{const _=h;Gd(_,s,[],u)&&(l||(l=[]),l.push(_))}),void 0!==l&&Ea(l,s),s}function Ea(n,r){for(let s=0;s<n.length;s++){const{providers:l}=n[s];Ni(l,h=>{r.push(h)})}}function Gd(n,r,s,u){if(!(n=Be(n)))return!1;let l=null,h=Tn(n);const _=!h&&Bt(n);if(h||_){if(_&&!_.standalone)return!1;l=n}else{const x=n.ngModule;if(h=Tn(x),!h)return!1;l=x}const D=u.has(l);if(_){if(D)return!1;if(u.add(l),_.dependencies){const x="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const j of x)Gd(j,r,s,u)}}else{if(!h)return!1;{if(null!=h.imports&&!D){let j;u.add(l);try{Ni(h.imports,ee=>{Gd(ee,r,s,u)&&(j||(j=[]),j.push(ee))})}finally{}void 0!==j&&Ea(j,r)}if(!D){const j=qi(l)||(()=>new l);r.push({provide:l,useFactory:j,deps:kn},{provide:bo,useValue:l,multi:!0},{provide:ja,useValue:()=>kt(l),multi:!0})}const x=h.providers;null==x||D||Ni(x,ee=>{r.push(ee)})}}return l!==n&&void 0!==n.providers}const Py=ie({provide:String,useValue:ie});function yf(n){return null!==n&&"object"==typeof n&&Py in n}function Ha(n){return"function"==typeof n}const lc=new Un("Set Injector scope."),dc={},og={};let Wd;function Vl(){return void 0===Wd&&(Wd=new gf),Wd}class hc{}class vf extends hc{constructor(r,s,u,l){super(),this.parent=s,this.source=u,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yd(r,_=>this.processProvider(_)),this.records.set(ig,Ga(void 0,this)),l.has("environment")&&this.records.set(hc,Ga(void 0,this));const h=this.records.get(lc);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(bo.multi,kn,Ut.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=Oe(this),u=Jn(void 0);try{return r()}finally{Oe(s),Jn(u)}}get(r,s=A,u=Ut.Default){this.assertNotDestroyed();const l=Oe(this),h=Jn(void 0);try{if(!(u&Ut.SkipSelf)){let D=this.records.get(r);if(void 0===D){const x=function Zs(n){return"function"==typeof n||"object"==typeof n&&n instanceof Un}(r)&&wn(r);D=x&&this.injectableDefInScope(x)?Ga(Kd(r),dc):null,this.records.set(r,D)}if(null!=D)return this.hydrate(r,D)}return(u&Ut.Self?Vl():this.parent).get(r,s=u&Ut.Optional&&s===A?null:s)}catch(_){if("NullInjectorError"===_.name){if((_[W]=_[W]||[]).unshift(K(r)),l)throw _;return function Ai(n,r,s,u){const l=n[W];throw r[H]&&l.unshift(r[H]),n.message=function Ui(n,r,s,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let l=K(r);if(Array.isArray(r))l=r.map(K).join(" -> ");else if("object"==typeof r){let h=[];for(let _ in r)if(r.hasOwnProperty(_)){let D=r[_];h.push(_+":"+("string"==typeof D?JSON.stringify(D):K(D)))}l=`{${h.join(", ")}}`}return`${s}${u?"("+u+")":""}[${l}]: ${n.replace(w,"\n  ")}`}("\n"+n.message,l,s,u),n.ngTokenPath=l,n[W]=null,n}(_,r,"R3InjectorError",this.source)}throw _}finally{Jn(h),Oe(l)}}resolveInjectorInitializers(){const r=Oe(this),s=Jn(void 0);try{const u=this.get(ja.multi,kn,Ut.Self);for(const l of u)l()}finally{Oe(r),Jn(s)}}toString(){const r=[],s=this.records;for(const u of s.keys())r.push(K(u));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(r){let s=Ha(r=Be(r))?r:Be(r&&r.provide);const u=function ky(n){return yf(n)?Ga(void 0,n.useValue):Ga(ag(n),dc)}(r);if(Ha(r)||!0!==r.multi)this.records.get(s);else{let l=this.records.get(s);l||(l=Ga(void 0,dc,!0),l.factory=()=>Kn(l.multi),this.records.set(s,l)),s=r,l.multi.push(r)}this.records.set(s,u)}hydrate(r,s){return s.value===dc&&(s.value=og,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Fy(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Be(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function Kd(n){const r=wn(n),s=null!==r?r.factory:qi(n);if(null!==s)return s;if(n instanceof Un)throw new De(204,!1);if(n instanceof Function)return function Ny(n){const r=n.length;if(r>0)throw ho(r,"?"),new De(204,!1);const s=function xr(n){const r=n&&(n[bt]||n[ar]);if(r){const s=function sn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new De(204,!1)}function ag(n,r,s){let u;if(Ha(n)){const l=Be(n);return qi(l)||Kd(l)}if(yf(n))u=()=>Be(n.useValue);else if(function sg(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Kn(n.deps||[]));else if(function Or(n){return!(!n||!n.useExisting)}(n))u=()=>kt(Be(n.useExisting));else{const l=Be(n&&(n.useClass||n.provide));if(!function ug(n){return!!n.deps}(n))return qi(l)||Kd(l);u=()=>new l(...Kn(n.deps))}return u}function Ga(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function _f(n){return!!n.\u0275providers}function Yd(n,r){for(const s of n)Array.isArray(s)?Yd(s,r):_f(s)?Yd(s.\u0275providers,r):r(s)}class wa{}class cg{resolveComponentFactory(r){throw function Ef(n){const r=Error(`No component factory found for ${K(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Zc=(()=>{class n{}return n.NULL=new cg,n})();function lg(){return Xc(qt(),p())}function Xc(n,r){return new $l(Br(n,r))}let $l=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=lg,n})();function Ul(n){return n instanceof $l?n.nativeElement:n}class hg{}let fg=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function pg(){const n=p(),s=vr(qt().index,n);return(rt(s)?s:n)[11]}(),n})(),gg=(()=>{class n{}return n.\u0275prov=Yt({token:n,providedIn:"root",factory:()=>null}),n})();class mg{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const bf=new mg("14.2.1"),If={};function Sf(n){return n.ngOriginalError}class Hl{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Sf(r);for(;s&&Sf(s);)s=Sf(s);return s||null}}const Xd=new Map;let Yy=0;const za="__ngContext__";function ro(n,r){rt(r)?(n[za]=r[20],function Ig(n){Xd.set(n[20],n)}(r)):n[za]=r}function zl(n){const r=n[za];return"number"==typeof r?function Dg(n){return Xd.get(n)||null}(r):r||null}function Jd(n){const r=zl(n);return r?rt(r)?r:r.lView:null}function na(n){return n instanceof Function?n():n}var Wa=(()=>((Wa=Wa||{})[Wa.Important=1]="Important",Wa[Wa.DashCase=2]="DashCase",Wa))();function pu(n,r){return undefined(n,r)}function Kl(n){const r=n[3];return Ot(r)?r[3]:r}function Of(n){return el(n[13])}function rh(n){return el(n[4])}function el(n){for(;null!==n&&!Ot(n);)n=n[4];return n}function Ka(n,r,s,u,l){if(null!=u){let h,_=!1;Ot(u)?h=u:rt(u)&&(_=!0,u=u[0]);const D=Nr(u);0===n&&null!==s?null==l?kg(r,s,D):Ec(r,s,D,l||null,!0):1===n&&null!==s?Ec(r,s,D,l||null,!0):2===n?function dh(n,r,s){const u=ql(n,r);u&&function Fg(n,r,s,u){n.removeChild(r,s,u)}(n,u,r,s)}(r,D,_):3===n&&r.destroyNode(D),null!=h&&function ev(n,r,s,u,l){const h=s[7];h!==Nr(s)&&Ka(r,n,u,h,l);for(let D=10;D<s.length;D++){const x=s[D];Xl(x[1],x,n,r,u,h)}}(r,n,h,s,l)}}function sh(n,r,s){return n.createElement(r,s)}function Nu(n,r){const s=n[9],u=s.indexOf(r),l=r[3];512&r[2]&&(r[2]&=-513,Qs(l,-1)),s.splice(u,1)}function Nf(n,r){if(n.length<=10)return;const s=10+r,u=n[s];if(u){const l=u[17];null!==l&&l!==n&&Nu(l,u),r>0&&(n[s-1][4]=u[4]);const h=Dt(n,10+r);!function oh(n,r){Xl(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(u[1],u);const _=h[19];null!==_&&_.detachView(h[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function _c(n,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&Xl(n,r,s,3,null,null),function Pu(n){let r=n[13];if(!r)return uh(n[1],n);for(;r;){let s=null;if(rt(r))s=r[13];else{const u=r[10];u&&(s=u)}if(!s){for(;r&&!r[4]&&r!==n;)rt(r)&&uh(r[1],r),r=r[3];null===r&&(r=n),rt(r)&&uh(r[1],r),s=r&&r[4]}r=s}}(r)}}function uh(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Rg(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let u=0;u<s.length;u+=2){const l=r[s[u]];if(!(l instanceof ui)){const h=s[u+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const D=l[h[_]],x=h[_+1];try{x.call(D)}finally{}}else try{h.call(l)}finally{}}}}(n,r),function ku(n,r){const s=n.cleanup,u=r[7];let l=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const _=s[h+1],D="function"==typeof _?_(r):Nr(r[_]),x=u[l=s[h+2]],j=s[h+3];"boolean"==typeof j?D.removeEventListener(s[h],x,j):j>=0?u[l=j]():u[l=-j].unsubscribe(),h+=2}else{const _=u[l=s[h+1]];s[h].call(_)}if(null!==u){for(let h=l+1;h<u.length;h++)(0,u[h])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&Ot(r[3])){s!==r[3]&&Nu(s,r);const u=r[19];null!==u&&u.detachView(n)}!function Tf(n){Xd.delete(n[20])}(r)}}function Pg(n,r,s){return function Ng(n,r,s){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return s[0];if(2&u.flags){const l=n.data[u.directiveStart].encapsulation;if(l===ir.None||l===ir.Emulated)return null}return Br(u,s)}(n,r.parent,s)}function Ec(n,r,s,u,l){n.insertBefore(r,s,u,l)}function kg(n,r,s){n.appendChild(r,s)}function Yl(n,r,s,u,l){null!==u?Ec(n,r,s,u,l):kg(n,r,s)}function ql(n,r){return n.parentNode(r)}function kf(n,r,s){return nl(n,r,s)}let nl=function Fu(n,r,s){return 40&n.type?Br(n,s):null};function lh(n,r,s,u){const l=Pg(n,u,r),h=r[11],D=kf(u.parent||r[6],u,r);if(null!=l)if(Array.isArray(s))for(let x=0;x<s.length;x++)Yl(h,l,s[x],D,!1);else Yl(h,l,s,D,!1)}function Zl(n,r){if(null!==r){const s=r.type;if(3&s)return Br(r,n);if(4&s)return Lf(-1,n[r.index]);if(8&s){const u=r.child;if(null!==u)return Zl(n,u);{const l=n[r.index];return Ot(l)?Lf(-1,l):Nr(l)}}if(32&s)return pu(r,n)()||Nr(n[r.index]);{const u=Lg(n,r);return null!==u?Array.isArray(u)?u[0]:Zl(Kl(n[16]),u):Zl(n,r.next)}}return null}function Lg(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Lf(n,r){const s=10+n+1;if(s<r.length){const u=r[s],l=u[1].firstChild;if(null!==l)return Zl(u,l)}return r[7]}function xs(n,r,s,u,l,h,_){for(;null!=s;){const D=u[s.index],x=s.type;if(_&&0===r&&(D&&ro(Nr(D),u),s.flags|=4),64!=(64&s.flags))if(8&x)xs(n,r,s.child,u,l,h,!1),Ka(r,n,l,D,h);else if(32&x){const j=pu(s,u);let ee;for(;ee=j();)Ka(r,n,l,ee,h);Ka(r,n,l,D,h)}else 16&x?Vg(n,r,u,s,l,h):Ka(r,n,l,D,h);s=_?s.projectionNext:s.next}}function Xl(n,r,s,u,l,h){xs(s,u,n.firstChild,r,l,h,!1)}function Vg(n,r,s,u,l,h){const _=s[16],x=_[6].projection[u.projection];if(Array.isArray(x))for(let j=0;j<x.length;j++)Ka(r,n,l,x[j],h);else xs(n,r,x,_[3],l,h,!0)}function $g(n,r,s){n.setAttribute(r,"style",s)}function rl(n,r,s){""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s)}function Ug(n,r,s){let u=n.length;for(;;){const l=n.indexOf(r,s);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const h=r.length;if(l+h===u||n.charCodeAt(l+h)<=32)return l}s=l+1}}const hh="ng-template";function Vf(n,r,s){let u=0;for(;u<n.length;){let l=n[u++];if(s&&"class"===l){if(l=n[u],-1!==Ug(l.toLowerCase(),r,0))return!0}else if(1===l){for(;u<n.length&&"string"==typeof(l=n[u++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function il(n){return 4===n.type&&n.value!==hh}function fh(n,r,s){return r===(4!==n.type||s?n.value:hh)}function Bf(n,r,s){let u=4;const l=n.attrs||[],h=function zg(n){for(let r=0;r<n.length;r++)if(Ji(n[r]))return r;return n.length}(l);let _=!1;for(let D=0;D<r.length;D++){const x=r[D];if("number"!=typeof x){if(!_)if(4&u){if(u=2|1&u,""!==x&&!fh(n,x,s)||""===x&&1===r.length){if(zo(u))return!1;_=!0}}else{const j=8&u?x:r[++D];if(8&u&&null!==n.attrs){if(!Vf(n.attrs,j,s)){if(zo(u))return!1;_=!0}continue}const Ee=jg(8&u?"class":x,l,il(n),s);if(-1===Ee){if(zo(u))return!1;_=!0;continue}if(""!==j){let tt;tt=Ee>h?"":l[Ee+1].toLowerCase();const Et=8&u?tt:null;if(Et&&-1!==Ug(Et,j,0)||2&u&&j!==tt){if(zo(u))return!1;_=!0}}}}else{if(!_&&!zo(u)&&!zo(x))return!1;if(_&&zo(x))continue;_=!1,u=x|1&u}}return zo(u)||_}function zo(n){return 0==(1&n)}function jg(n,r,s,u){if(null===r)return-1;let l=0;if(u||!s){let h=!1;for(;l<r.length;){const _=r[l];if(_===n)return l;if(3===_||6===_)h=!0;else{if(1===_||2===_){let D=r[++l];for(;"string"==typeof D;)D=r[++l];continue}if(4===_)break;if(0===_){l+=4;continue}}l+=h?1:2}return-1}return function $f(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const u=n[s];if("number"==typeof u)return-1;if(u===r)return s;s++}return-1}(r,n)}function Hg(n,r,s=!1){for(let u=0;u<r.length;u++)if(Bf(n,r[u],s))return!0;return!1}function nv(n,r){e:for(let s=0;s<r.length;s++){const u=r[s];if(n.length===u.length){for(let l=0;l<n.length;l++)if(n[l]!==u[l])continue e;return!0}}return!1}function Uf(n,r){return n?":not("+r.trim()+")":r}function rv(n){let r=n[0],s=1,u=2,l="",h=!1;for(;s<n.length;){let _=n[s];if("string"==typeof _)if(2&u){const D=n[++s];l+="["+_+(D.length>0?'="'+D+'"':"")+"]"}else 8&u?l+="."+_:4&u&&(l+=" "+_);else""!==l&&!zo(_)&&(r+=Uf(h,l),l=""),u=_,h=h||!zo(u);s++}return""!==l&&(r+=Uf(h,l)),r}const wr={};function wc(n){ph(k(),p(),ln()+n,!1)}function ph(n,r,s,u){if(!u)if(3==(3&r[2])){const h=n.preOrderCheckHooks;null!==h&&ys(r,h,s)}else{const h=n.preOrderHooks;null!==h&&ss(r,h,0,s)}Er(s)}function Gf(n,r=null,s=null,u){const l=mh(n,r,s,u);return l.resolveInjectorInitializers(),l}function mh(n,r=null,s=null,u,l=new Set){const h=[s||kn,Fl(n)];return u=u||("object"==typeof n?void 0:K(n)),new vf(h,r||Vl(),u||null,l)}let Ya=(()=>{class n{static create(s,u){if(Array.isArray(s))return Gf({name:""},u,s,"");{const l=s.name??"";return Gf({name:l},s.parent,s.providers,l)}}}return n.THROW_IF_NOT_FOUND=A,n.NULL=new gf,n.\u0275prov=Yt({token:n,providedIn:"any",factory:()=>kt(ig)}),n.__NG_ELEMENT_ID__=-1,n})();function Wo(n,r=Ut.Default){const s=p();return null===s?kt(n,r):sr(qt(),s,Be(n),r)}function Kf(){throw new Error("invalid")}function cl(n,r){return n<<17|r<<2}function ba(n){return n>>17&32767}function rd(n){return 2|n}function ra(n){return(131068&n)>>2}function id(n,r){return-131069&n|r<<2}function Lu(n){return 1|n}function gm(n,r){const s=n.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const l=s[u],h=s[u+1];if(-1!==h){const _=n.data[h];ko(l),_.contentQueries(2,r[h],h)}}}function ll(n,r,s,u,l,h,_,D,x,j,ee){const Ee=r.blueprint.slice();return Ee[0]=l,Ee[2]=76|u,(null!==ee||n&&1024&n[2])&&(Ee[2]|=1024),Pi(Ee),Ee[3]=Ee[15]=n,Ee[8]=s,Ee[10]=_||n&&n[10],Ee[11]=D||n&&n[11],Ee[12]=x||n&&n[12]||null,Ee[9]=j||n&&n[9]||null,Ee[6]=h,Ee[20]=function bg(){return Yy++}(),Ee[21]=ee,Ee[16]=2==r.type?n[16]:Ee,Ee}function $u(n,r,s,u,l){let h=n.data[r];if(null===h)h=function sp(n,r,s,u,l){const h=gn(),_=O(),x=n.data[r]=function up(n,r,s,u,l,h){return{type:s,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,s,r,u,l);return null===n.firstChild&&(n.firstChild=x),null!==h&&(_?null==h.child&&null!==x.parent&&(h.child=x):null===h.next&&(h.next=x)),x}(n,r,s,u,l),function yo(){return Wn.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=u,h.attrs=l;const _=function F(){const n=Wn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return R(h,!0),h}function Uu(n,r,s,u){if(0===s)return-1;const l=r.length;for(let h=0;h<s;h++)r.push(u),n.blueprint.push(u),n.data.push(null);return l}function Dh(n,r,s){Fo(r);try{const u=n.viewQuery;null!==u&&Nh(1,u,s);const l=n.template;null!==l&&Ch(n,r,l,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&gm(n,r),n.staticViewQueries&&Nh(2,n.viewQuery,s);const h=n.components;null!==h&&function ip(n,r){for(let s=0;s<r.length;s++)Im(n,r[s])}(r,h)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[2]&=-5,ze()}}function Cc(n,r,s,u){const l=r[2];if(128!=(128&l)){Fo(r);try{Pi(r),function gs(n){return Wn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&Ch(n,r,s,2,u);const _=3==(3&l);if(_){const j=n.preOrderCheckHooks;null!==j&&ys(r,j,null)}else{const j=n.preOrderHooks;null!==j&&ss(r,j,0,null),eo(r,0)}if(function Ep(n){for(let r=Of(n);null!==r;r=rh(r)){if(!r[2])continue;const s=r[9];for(let u=0;u<s.length;u++){const l=s[u],h=l[3];0==(512&l[2])&&Qs(h,1),l[2]|=512}}}(r),function _p(n){for(let r=Of(n);null!==r;r=rh(r))for(let s=10;s<r.length;s++){const u=r[s],l=u[1];fs(u)&&Cc(l,u,l.template,u[8])}}(r),null!==n.contentQueries&&gm(n,r),_){const j=n.contentCheckHooks;null!==j&&ys(r,j)}else{const j=n.contentHooks;null!==j&&ss(r,j,1),eo(r,1)}!function _v(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let u=0;u<s.length;u++){const l=s[u];if(l<0)Er(~l);else{const h=l,_=s[++u],D=s[++u];No(_,h),D(2,r[h])}}}finally{Er(-1)}}(n,r);const D=n.components;null!==D&&function Ev(n,r){for(let s=0;s<r.length;s++)Tv(n,r[s])}(r,D);const x=n.viewQuery;if(null!==x&&Nh(2,x,u),_){const j=n.viewCheckHooks;null!==j&&ys(r,j)}else{const j=n.viewHooks;null!==j&&ss(r,j,2),eo(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Qs(r[3],-1))}finally{ze()}}}function mm(n,r,s,u){const l=r[10],_=is(r);try{!_&&l.begin&&l.begin(),_&&Dh(n,r,u),Cc(n,r,s,u)}finally{!_&&l.end&&l.end()}}function Ch(n,r,s,u,l){const h=ln(),_=2&u;try{Er(-1),_&&r.length>22&&ph(n,r,22,!1),s(u,l)}finally{Er(h)}}function op(n,r,s){if(Pt(r)){const l=r.directiveEnd;for(let h=r.directiveStart;h<l;h++){const _=n.data[h];_.contentQueries&&_.contentQueries(1,s[h],h)}}}function ap(n,r,s){!ps()||(function Dv(n,r,s,u){const l=s.directiveStart,h=s.directiveEnd;n.firstCreatePass||Fs(s,r),ro(u,r);const _=s.initialInputs;for(let D=l;D<h;D++){const x=n.data[D],j=vn(x);j&&mp(r,s,x);const ee=Wt(r,n,D,s);ro(ee,r),null!==_&&Sv(0,D-l,ee,x,0,_),j&&(vr(s.index,r)[8]=ee)}}(n,r,s,Br(s,r)),128==(128&s.flags)&&function hp(n,r,s){const u=s.directiveStart,l=s.directiveEnd,h=s.index,_=function so(){return Wn.lFrame.currentDirectiveIndex}();try{Er(h);for(let D=u;D<l;D++){const x=n.data[D],j=r[D];sa(D),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&wm(x,j)}}finally{Er(-1),sa(_)}}(n,r,s))}function dd(n,r,s=Br){const u=r.localNames;if(null!==u){let l=r.index+1;for(let h=0;h<u.length;h+=2){const _=u[h+1],D=-1===_?s(r,n):n[_];n[l++]=D}}}function ym(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=hd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function hd(n,r,s,u,l,h,_,D,x,j){const ee=22+u,Ee=ee+l,tt=function wv(n,r){const s=[];for(let u=0;u<r;u++)s.push(u<n?null:wr);return s}(ee,Ee),Et="function"==typeof j?j():j;return tt[1]={type:n,blueprint:tt,template:s,queries:null,viewQuery:D,declTNode:r,data:tt.slice().fill(null,ee),bindingStartIndex:ee,expandoStartIndex:Ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:x,consts:Et,incompleteFirstPass:!1}}function Sh(n,r,s,u){const l=bp(r);null===s?l.push(u):(l.push(s),n.firstCreatePass&&kh(n).push(u,l.length-1))}function Th(n,r,s){for(let u in n)if(n.hasOwnProperty(u)){const l=n[u];(s=null===s?{}:s).hasOwnProperty(u)?s[u].push(r,l):s[u]=[r,l]}return s}function Sc(n,r){const u=r.directiveEnd,l=n.data,h=r.attrs,_=[];let D=null,x=null;for(let j=r.directiveStart;j<u;j++){const ee=l[j],Ee=ee.inputs,tt=null===h||il(r)?null:vp(Ee,h);_.push(tt),D=Th(Ee,j,D),x=Th(ee.outputs,j,x)}null!==D&&(D.hasOwnProperty("class")&&(r.flags|=16),D.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=_,r.inputs=D,r.outputs=x}function Em(n,r){const s=vr(r,n);16&s[2]||(s[2]|=32)}function dp(n,r,s,u){let l=!1;if(ps()){const h=function fp(n,r,s){const u=n.directiveRegistry;let l=null;if(u)for(let h=0;h<u.length;h++){const _=u[h];Hg(s,_.selectors,!1)&&(l||(l=[]),Zr(Fs(s,r),n,_.type),vn(_)?(bm(n,s),l.unshift(_)):l.push(_))}return l}(n,r,s),_=null===u?null:{"":-1};if(null!==h){l=!0,xh(s,n.data.length,h.length);for(let ee=0;ee<h.length;ee++){const Ee=h[ee];Ee.providersResolver&&Ee.providersResolver(Ee)}let D=!1,x=!1,j=Uu(n,r,h.length,null);for(let ee=0;ee<h.length;ee++){const Ee=h[ee];s.mergedAttrs=Wi(s.mergedAttrs,Ee.hostAttrs),gp(n,s,r,j,Ee),Cv(j,Ee,_),null!==Ee.contentQueries&&(s.flags|=8),(null!==Ee.hostBindings||null!==Ee.hostAttrs||0!==Ee.hostVars)&&(s.flags|=128);const tt=Ee.type.prototype;!D&&(tt.ngOnChanges||tt.ngOnInit||tt.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),D=!0),!x&&(tt.ngOnChanges||tt.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),x=!0),j++}Sc(n,s)}_&&function pp(n,r,s){if(r){const u=n.localNames=[];for(let l=0;l<r.length;l+=2){const h=s[r[l+1]];if(null==h)throw new De(-301,!1);u.push(r[l],h)}}}(s,u,_)}return s.mergedAttrs=Wi(s.mergedAttrs,s.attrs),l}function Ah(n,r,s,u,l,h){const _=h.hostBindings;if(_){let D=n.hostBindingOpCodes;null===D&&(D=n.hostBindingOpCodes=[]);const x=~r.index;(function Iv(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(D)!=x&&D.push(x),D.push(u,l,_)}}function wm(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function bm(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Cv(n,r,s){if(s){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)s[r.exportAs[u]]=n;vn(r)&&(s[""]=n)}}function xh(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function gp(n,r,s,u,l){n.data[u]=l;const h=l.factory||(l.factory=qi(l.type)),_=new ui(h,vn(l),Wo);n.blueprint[u]=_,s[u]=_,Ah(n,r,0,u,Uu(n,s,l.hostVars,wr),l)}function mp(n,r,s){const u=Br(r,n),l=ym(s),h=n[10],_=dl(n,ll(n,l,null,s.onPush?32:16,u,r,h,h.createRenderer(u,s),null,null,null));n[r.index]=_}function Ia(n,r,s,u,l,h){const _=Br(n,r);!function yp(n,r,s,u,l,h,_){if(null==h)n.removeAttribute(r,l,s);else{const D=null==_?J(h):_(h,u||"",l);n.setAttribute(r,l,D,s)}}(r[11],_,h,n.value,s,u,l)}function Sv(n,r,s,u,l,h){const _=h[r];if(null!==_){const D=u.setInput;for(let x=0;x<_.length;){const j=_[x++],ee=_[x++],Ee=_[x++];null!==D?u.setInput(s,Ee,j,ee):s[ee]=Ee}}}function vp(n,r){let s=null,u=0;for(;u<r.length;){const l=r[u];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,n[l],r[u+1])),u+=2}else u+=2;else u+=4}return s}function Mh(n,r,s,u){return new Array(n,!0,!1,r,null,0,u,s,null,null)}function Tv(n,r){const s=vr(r,n);if(fs(s)){const u=s[1];48&s[2]?Cc(u,s,u.template,s[8]):s[5]>0&&Oh(s)}}function Oh(n){for(let u=Of(n);null!==u;u=rh(u))for(let l=10;l<u.length;l++){const h=u[l];if(fs(h))if(512&h[2]){const _=h[1];Cc(_,h,_.template,h[8])}else h[5]>0&&Oh(h)}const s=n[1].components;if(null!==s)for(let u=0;u<s.length;u++){const l=vr(s[u],n);fs(l)&&l[5]>0&&Oh(l)}}function Im(n,r){const s=vr(r,n),u=s[1];(function Av(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(u,s),Dh(u,s,s[8])}function dl(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Rh(n){for(;n;){n[2]|=32;const r=Kl(n);if(jn(n)&&!r)return n;n=r}return null}function Nh(n,r,s){ko(0),r(n,s)}function bp(n){return n[7]||(n[7]=[])}function kh(n){return n.cleanup||(n.cleanup=[])}function Lh(n,r){const s=n[9],u=s?s.get(Hl,null):null;u&&u.handleError(r)}function hl(n,r,s,u,l){for(let h=0;h<s.length;){const _=s[h++],D=s[h++],x=r[_],j=n.data[_];null!==j.setInput?j.setInput(x,l,u,D):x[D]=l}}function fd(n,r,s){let u=s?n.styles:null,l=s?n.classes:null,h=0;if(null!==r)for(let _=0;_<r.length;_++){const D=r[_];"number"==typeof D?h=D:1==h?l=de(l,D):2==h&&(u=de(u,D+": "+r[++_]+";"))}s?n.styles=u:n.stylesWithoutHost=u,s?n.classes=l:n.classesWithoutHost=l}function Tc(n,r,s,u,l=!1){for(;null!==s;){const h=r[s.index];if(null!==h&&u.push(Nr(h)),Ot(h))for(let D=10;D<h.length;D++){const x=h[D],j=x[1].firstChild;null!==j&&Tc(x[1],x,j,u)}const _=s.type;if(8&_)Tc(n,r,s.child,u);else if(32&_){const D=pu(s,r);let x;for(;x=D();)u.push(x)}else if(16&_){const D=Lg(r,s);if(Array.isArray(D))u.push(...D);else{const x=Kl(r[16]);Tc(x[1],x,D,u,!0)}}s=l?s.projectionNext:s.next}return u}class fl{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Tc(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Ot(r)){const s=r[8],u=s?s.indexOf(this):-1;u>-1&&(Nf(r,u),Dt(s,u))}this._attachedToViewContainer=!1}_c(this._lView[1],this._lView)}onDestroy(r){Sh(this._lView[1],this._lView,null,r)}markForCheck(){Rh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function wp(n,r,s){const u=r[10];u.begin&&u.begin();try{Cc(n,r,n.template,s)}catch(l){throw Lh(r,l),l}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Mg(n,r){Xl(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=r}}class Ip extends fl{constructor(r){super(r),this._view=r}detectChanges(){!function Dm(n){!function Ph(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],u=Jd(s);if(null!==u){const l=u[1];mm(l,u,l.template,s)}}}(n[8])}(this._view)}checkNoChanges(){}get context(){return null}}class Hu extends Zc{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Bt(r);return new pd(s,this.ngModule)}}function Vh(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class Mv{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,u){const l=this.injector.get(r,If,u);return l!==If||s===If?l:this.parentInjector.get(r,s,u)}}class pd extends wa{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Wg(n){return n.map(rv).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Vh(this.componentDef.inputs)}get outputs(){return Vh(this.componentDef.outputs)}create(r,s,u,l){let h=(l=l||this.ngModule)instanceof hc?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const _=h?new Mv(r,h):r,D=_.get(hg,null);if(null===D)throw new De(407,!1);const x=_.get(gg,null),j=D.createRenderer(null,this.componentDef),ee=this.componentDef.selectors[0][0]||"div",Ee=u?function bv(n,r,s){return n.selectRootElement(r,s===ir.ShadowDom)}(j,u,this.componentDef.encapsulation):sh(D.createRenderer(null,this.componentDef),ee,function xv(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(ee)),tt=this.componentDef.onPush?288:272,Et={components:[]},Gt=hd(0,null,null,1,0,null,null,null,null,null),on=ll(null,Gt,Et,tt,null,null,D,j,x,_,null);let On,Hn;Fo(on);try{const br=function Ov(n,r,s,u,l,h){const _=s[1];s[22]=n;const x=$u(_,22,2,"#host",null),j=x.mergedAttrs=r.hostAttrs;null!==j&&(fd(x,j,!0),null!==n&&(Lo(l,n,j),null!==x.classes&&rl(l,n,x.classes),null!==x.styles&&$g(l,n,x.styles)));const ee=u.createRenderer(n,r),Ee=ll(s,ym(r),null,r.onPush?32:16,s[22],x,u,ee,h||null,null,null);return _.firstCreatePass&&(Zr(Fs(x,s),_,r.type),bm(_,x),xh(x,s.length,1)),dl(s,Ee),s[22]=Ee}(Ee,this.componentDef,on,D,j);if(Ee)if(u)Lo(j,Ee,["ng-version",bf.full]);else{const{attrs:Jt,classes:gr}=function iv(n){const r=[],s=[];let u=1,l=2;for(;u<n.length;){let h=n[u];if("string"==typeof h)2===l?""!==h&&r.push(h,n[++u]):8===l&&s.push(h);else{if(!zo(l))break;l=h}u++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Jt&&Lo(j,Ee,Jt),gr&&gr.length>0&&rl(j,Ee,gr.join(" "))}if(Hn=Qi(Gt,22),void 0!==s){const Jt=Hn.projection=[];for(let gr=0;gr<this.ngContentSelectors.length;gr++){const Jr=s[gr];Jt.push(null!=Jr?Array.from(Jr):null)}}On=function Rv(n,r,s,u,l){const h=s[1],_=function lp(n,r,s){const u=qt();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),gp(n,u,r,Uu(n,r,1,null),s),Sc(n,u));const l=Wt(r,n,u.directiveStart,u);ro(l,r);const h=Br(u,r);return h&&ro(h,r),l}(h,s,r);if(u.components.push(_),n[8]=_,null!==l)for(const x of l)x(_,r);if(r.contentQueries){const x=qt();r.contentQueries(1,_,x.directiveStart)}const D=qt();return!h.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Er(D.index),Ah(s[1],D,0,D.directiveStart,D.directiveEnd,r),wm(r,_)),_}(br,this.componentDef,on,Et,[Am]),Dh(Gt,on,null)}finally{ze()}return new Tm(this.componentType,On,Xc(Hn,on),on,Hn)}}class Tm extends class Bl{}{constructor(r,s,u,l,h){super(),this.location=u,this._rootLView=l,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new Ip(l),this.componentType=r}setInput(r,s){const u=this._tNode.inputs;let l;if(null!==u&&(l=u[r])){const h=this._rootLView;hl(h[1],h,l,r,s),Em(h,this._tNode.index)}}get injector(){return new to(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Am(){const n=qt();ks(p()[1],n)}function $h(n){let r=function Bh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const u=[n];for(;r;){let l;if(vn(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new De(903,!1);l=r.\u0275dir}if(l){if(s){u.push(l);const _=n;_.inputs=Uh(n.inputs),_.declaredInputs=Uh(n.declaredInputs),_.outputs=Uh(n.outputs);const D=l.hostBindings;D&&Mm(n,D);const x=l.viewQuery,j=l.contentQueries;if(x&&jh(n,x),j&&Gr(n,j),te(n.inputs,l.inputs),te(n.declaredInputs,l.declaredInputs),te(n.outputs,l.outputs),vn(l)&&l.data.animation){const ee=n.data;ee.animation=(ee.animation||[]).concat(l.data.animation)}}const h=l.features;if(h)for(let _=0;_<h.length;_++){const D=h[_];D&&D.ngInherit&&D(n),D===$h&&(s=!1)}}r=Object.getPrototypeOf(r)}!function xm(n){let r=0,s=null;for(let u=n.length-1;u>=0;u--){const l=n[u];l.hostVars=r+=l.hostVars,l.hostAttrs=Wi(l.hostAttrs,s=Wi(s,l.hostAttrs))}}(u)}function Uh(n){return n===Pn?{}:n===kn?[]:n}function jh(n,r){const s=n.viewQuery;n.viewQuery=s?(u,l)=>{r(u,l),s(u,l)}:r}function Gr(n,r){const s=n.contentQueries;n.contentQueries=s?(u,l,h)=>{r(u,l,h),s(u,l,h)}:r}function Mm(n,r){const s=n.hostBindings;n.hostBindings=s?(u,l)=>{r(u,l),s(u,l)}:r}let bi=null;function cs(){if(!bi){const n=xn.Symbol;if(n&&n.iterator)bi=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const u=r[s];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(bi=u)}}}return bi}function pl(n){return!!Gh(n)&&(Array.isArray(n)||!(n instanceof Map)&&cs()in n)}function Gh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function qa(n,r,s){return n[r]=s}function po(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Pm(n,r,s,u){const l=p();return po(l,ms(),r)&&(k(),Ia(Yn(),l,n,r,s,u)),Pm}function Cp(n,r,s,u,l,h,_,D){const x=p(),j=k(),ee=n+22,Ee=j.firstCreatePass?function Bv(n,r,s,u,l,h,_,D,x){const j=r.consts,ee=$u(r,n,4,_||null,zi(j,D));dp(r,s,ee,zi(j,x)),ks(r,ee);const Ee=ee.tViews=hd(2,ee,u,l,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,j);return null!==r.queries&&(r.queries.template(r,ee),Ee.queries=r.queries.embeddedTView(ee)),ee}(ee,j,x,r,s,u,l,h,_):j.data[ee];R(Ee,!1);const tt=x[11].createComment("");lh(j,x,tt,Ee),ro(tt,x),dl(x,x[ee]=Mh(tt,x,tt,Ee)),cn(Ee)&&ap(j,x,Ee),null!=_&&dd(x,Ee,D)}function Sp(n,r,s){const u=p();return po(u,ms(),r)&&function Io(n,r,s,u,l,h,_,D){const x=Br(r,s);let ee,j=r.inputs;!D&&null!=j&&(ee=j[u])?(hl(n,s,ee,u,l),Ft(r)&&Em(s,r.index)):3&r.type&&(u=function _m(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),l=null!=_?_(l,r.value||"",u):l,h.setProperty(x,u,l))}(k(),Yn(),u,n,r,u[11],s,!1),Sp}function vu(n,r,s,u,l){const _=l?"class":"style";hl(n,s,r.inputs[_],_,u)}function zu(n,r,s,u){const l=p(),h=k(),_=22+n,D=l[11],x=l[_]=sh(D,r,function fi(){return Wn.lFrame.currentNamespace}()),j=h.firstCreatePass?function Wh(n,r,s,u,l,h,_){const D=r.consts,j=$u(r,n,2,l,zi(D,h));return dp(r,s,j,zi(D,_)),null!==j.attrs&&fd(j,j.attrs,!1),null!==j.mergedAttrs&&fd(j,j.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,j),j}(_,h,l,0,r,s,u):h.data[_];R(j,!0);const ee=j.mergedAttrs;null!==ee&&Lo(D,x,ee);const Ee=j.classes;null!==Ee&&rl(D,x,Ee);const tt=j.styles;return null!==tt&&$g(D,x,tt),64!=(64&j.flags)&&lh(h,l,x,j),0===function Ps(){return Wn.lFrame.elementDepthCount}()&&ro(x,l),function Js(){Wn.lFrame.elementDepthCount++}(),cn(j)&&(ap(h,l,j),op(h,j,l)),null!==u&&dd(l,j),zu}function yd(){let n=qt();O()?Z():(n=n.parent,R(n,!1));const r=n;!function Ds(){Wn.lFrame.elementDepthCount--}();const s=k();return s.firstCreatePass&&(ks(s,n),Pt(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function Ma(n){return 0!=(16&n.flags)}(r)&&vu(s,r,p(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function aa(n){return 0!=(32&n.flags)}(r)&&vu(s,r,p(),r.stylesWithoutHost,!1),yd}function vd(n,r,s,u){return zu(n,r,s,u),yd(),vd}function Tp(n,r,s){const u=p(),l=k(),h=n+22,_=l.firstCreatePass?function $v(n,r,s,u,l){const h=r.consts,_=zi(h,u),D=$u(r,n,8,"ng-container",_);return null!==_&&fd(D,_,!0),dp(r,s,D,zi(h,l)),null!==r.queries&&r.queries.elementStart(r,D),D}(h,l,u,r,s):l.data[h];R(_,!0);const D=u[h]=u[11].createComment("");return lh(l,u,D,_),ro(D,u),cn(_)&&(ap(l,u,_),op(l,_,u)),null!=s&&dd(u,_),Tp}function Ap(){let n=qt();const r=k();return O()?Z():(n=n.parent,R(n,!1)),r.firstCreatePass&&(ks(r,n),Pt(n)&&r.queries.elementEnd(n)),Ap}function _d(n,r,s){return Tp(n,r,s),Ap(),_d}function Kh(){return p()}function Yh(n){return!!n&&"function"==typeof n.then}function Wu(n){return!!n&&"function"==typeof n.subscribe}const xp=Wu;function qh(n,r,s,u){const l=p(),h=k(),_=qt();return function Lm(n,r,s,u,l,h,_,D){const x=cn(u),ee=n.firstCreatePass&&kh(n),Ee=r[8],tt=bp(r);let Et=!0;if(3&u.type||D){const On=Br(u,r),Hn=D?D(On):On,br=tt.length,Jt=D?Jr=>D(Nr(Jr[u.index])):u.index;let gr=null;if(!D&&x&&(gr=function Mp(n,r,s,u){const l=n.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const _=l[h];if(_===s&&l[h+1]===u){const D=r[7],x=l[h+2];return D.length>x?D[x]:null}"string"==typeof _&&(h+=2)}return null}(n,r,l,u.index)),null!==gr)(gr.__ngLastListenerFn__||gr).__ngNextListenerFn__=h,gr.__ngLastListenerFn__=h,Et=!1;else{h=wd(u,r,Ee,h,!1);const Jr=s.listen(Hn,l,h);tt.push(h,Jr),ee&&ee.push(l,Jt,br,br+1)}}else h=wd(u,r,Ee,h,!1);const Gt=u.outputs;let on;if(Et&&null!==Gt&&(on=Gt[l])){const On=on.length;if(On)for(let Hn=0;Hn<On;Hn+=2){const ns=r[on[Hn]][on[Hn+1]].subscribe(h),Md=tt.length;tt.push(h,ns),ee&&ee.push(l,u.index,Md,-(Md+1))}}}(h,l,l[11],_,n,r,0,u),qh}function Ed(n,r,s,u){try{return!1!==s(u)}catch(l){return Lh(n,l),!1}}function wd(n,r,s,u,l){return function h(_){if(_===Function)return u;Rh(2&n.flags?vr(n.index,r):r);let x=Ed(r,0,u,_),j=h.__ngNextListenerFn__;for(;j;)x=Ed(r,0,j,_)&&x,j=j.__ngNextListenerFn__;return l&&!1===x&&(_.preventDefault(),_.returnValue=!1),x}}function Op(n=1){return function At(n){return(Wn.lFrame.contextLView=function zt(n,r){for(;n>0;)r=r[15],n--;return r}(n,Wn.lFrame.contextLView))[8]}(n)}function bd(n,r){let s=null;const u=function Gg(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let l=0;l<r.length;l++){const h=r[l];if("*"!==h){if(null===u?Hg(n,h,!0):nv(u,h))return l}else s=l}return s}function Vm(n){const r=p()[16][6];if(!r.projection){const u=r.projection=ho(n?n.length:1,null),l=u.slice();let h=r.child;for(;null!==h;){const _=n?bd(h,n):0;null!==_&&(l[_]?l[_].projectionNext=h:u[_]=h,l[_]=h),h=h.next}}}function Id(n,r=0,s){const u=p(),l=k(),h=$u(l,22+n,16,null,s||null);null===h.projection&&(h.projection=r),Z(),64!=(64&h.flags)&&function Jy(n,r,s){Vg(r[11],0,r,s,Pg(n,s,r),kf(s.parent||r[6],s,r))}(l,u,h)}function Np(n,r,s,u,l){const h=n[s+1],_=null===r;let D=u?ba(h):ra(h),x=!1;for(;0!==D&&(!1===x||_);){const ee=n[D+1];Hv(n[D],r)&&(x=!0,n[D+1]=u?Lu(ee):rd(ee)),D=u?ba(ee):ra(ee)}x&&(n[s+1]=u?rd(h):Lu(h))}function Hv(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&fa(n,r)>=0}function Xa(n,r){return function Aa(n,r,s,u){const l=p(),h=k(),_=function Di(n){const r=Wn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);h.firstUpdatePass&&function $p(n,r,s,u){const l=n.data;if(null===l[s+1]){const h=l[ln()],_=function zm(n,r){return r>=n.expandoStartIndex}(n,s);(function Xm(n,r){return 0!=(n.flags&(r?16:32))})(h,u)&&null===r&&!_&&(r=!1),r=function Wm(n,r,s,u){const l=function Kr(n){const r=Wn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let h=u?r.residualClasses:r.residualStyles;if(null===l)0===(u?r.classBindings:r.styleBindings)&&(s=eu(s=Up(null,n,r,s,u),r.attrs,u),h=null);else{const _=r.directiveStylingLast;if(-1===_||n[_]!==l)if(s=Up(l,n,r,s,u),null===h){let x=function Yv(n,r,s){const u=s?r.classBindings:r.styleBindings;if(0!==ra(u))return n[ba(u)]}(n,r,u);void 0!==x&&Array.isArray(x)&&(x=Up(null,n,r,x[1],u),x=eu(x,r.attrs,u),function qv(n,r,s,u){n[ba(s?r.classBindings:r.styleBindings)]=u}(n,r,u,x))}else h=function Km(n,r,s){let u;const l=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<l;h++)u=eu(u,n[h].hostAttrs,s);return eu(u,r.attrs,s)}(n,r,u)}return void 0!==h&&(u?r.residualClasses=h:r.residualStyles=h),s}(l,h,r,u),function Uv(n,r,s,u,l,h){let _=h?r.classBindings:r.styleBindings,D=ba(_),x=ra(_);n[u]=s;let ee,j=!1;if(Array.isArray(s)){const Ee=s;ee=Ee[1],(null===ee||fa(Ee,ee)>0)&&(j=!0)}else ee=s;if(l)if(0!==x){const tt=ba(n[D+1]);n[u+1]=cl(tt,D),0!==tt&&(n[tt+1]=id(n[tt+1],u)),n[D+1]=function pv(n,r){return 131071&n|r<<17}(n[D+1],u)}else n[u+1]=cl(D,0),0!==D&&(n[D+1]=id(n[D+1],u)),D=u;else n[u+1]=cl(x,0),0===D?D=u:n[x+1]=id(n[x+1],u),x=u;j&&(n[u+1]=rd(n[u+1])),Np(n,ee,u,!0),Np(n,ee,u,!1),function jv(n,r,s,u,l){const h=l?n.residualClasses:n.residualStyles;null!=h&&"string"==typeof r&&fa(h,r)>=0&&(s[u+1]=Lu(s[u+1]))}(r,ee,n,u,h),_=cl(D,x),h?r.classBindings=_:r.styleBindings=_}(l,h,r,s,_,u)}}(h,n,_,u),r!==wr&&po(l,_,r)&&function qm(n,r,s,u,l,h,_,D){if(!(3&r.type))return;const x=n.data,j=x[D+1];Xh(function Yf(n){return 1==(1&n)}(j)?Zm(x,r,s,l,ra(j),_):void 0)||(Xh(h)||function wh(n){return 2==(2&n)}(j)&&(h=Zm(x,null,s,l,D,_)),function Bg(n,r,s,u,l){if(r)l?n.addClass(s,u):n.removeClass(s,u);else{let h=-1===u.indexOf("-")?void 0:Wa.DashCase;null==l?n.removeStyle(s,u,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=Wa.Important),n.setStyle(s,u,l,h))}}(u,_,Ei(ln(),s),l,h))}(h,h.data[ln()],l,l[11],n,l[_+1]=function Xv(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=K(ta(n)))),n}(r,s),u,_)}(n,r,null,!0),Xa}function Up(n,r,s,u,l){let h=null;const _=s.directiveEnd;let D=s.directiveStylingLast;for(-1===D?D=s.directiveStart:D++;D<_&&(h=r[D],u=eu(u,h.hostAttrs,l),h!==n);)D++;return null!==n&&(s.directiveStylingLast=D),u}function eu(n,r,s){const u=s?1:2;let l=-1;if(null!==r)for(let h=0;h<r.length;h++){const _=r[h];"number"==typeof _?l=_:l===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Cs(n,_,!!s||r[++h]))}return void 0===n?null:n}function Zm(n,r,s,u,l,h){const _=null===r;let D;for(;l>0;){const x=n[l],j=Array.isArray(x),ee=j?x[1]:x,Ee=null===ee;let tt=s[l+1];tt===wr&&(tt=Ee?kn:void 0);let Et=Ee?Ba(tt,u):ee===u?tt:void 0;if(j&&!Xh(Et)&&(Et=Ba(x,u)),Xh(Et)&&(D=Et,_))return D;const Gt=n[l+1];l=_?ba(Gt):ra(Gt)}if(null!==r){let x=h?r.residualClasses:r.residualStyles;null!=x&&(D=Ba(x,u))}return D}function Xh(n){return void 0!==n}function Qv(n,r=""){const s=p(),u=k(),l=n+22,h=u.firstCreatePass?$u(u,l,1,r,null):u.data[l],_=s[l]=function ih(n,r){return n.createText(r)}(s[11],r);lh(u,s,_,h),R(h,!1)}function Qm(n){return Cd("",n,""),Qm}function Cd(n,r,s){const u=p(),l=function Mc(n,r,s,u){return po(n,ms(),s)?r+J(s)+u:wr}(u,n,r,s);return l!==wr&&function Da(n,r,s){const u=Ei(r,n);!function Pf(n,r,s){n.setValue(r,s)}(n[11],u,s)}(u,ln(),l),Cd}const bu=void 0;var py=["en",[["a","p"],["AM","PM"],bu],[["AM","PM"],bu,bu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bu,"{1} 'at' {0}",bu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nf(n){const s=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let Cl={};function Kp(n){const r=function my(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=qp(r);if(s)return s;const u=r.split("-")[0];if(s=qp(u),s)return s;if("en"===u)return py;throw new De(701,!1)}function Yp(n){return Kp(n)[pr.PluralCase]}function qp(n){return n in Cl||(Cl[n]=xn.ng&&xn.ng.common&&xn.ng.common.locales&&xn.ng.common.locales[n]),Cl[n]}var pr=(()=>((pr=pr||{})[pr.LocaleId=0]="LocaleId",pr[pr.DayPeriodsFormat=1]="DayPeriodsFormat",pr[pr.DayPeriodsStandalone=2]="DayPeriodsStandalone",pr[pr.DaysFormat=3]="DaysFormat",pr[pr.DaysStandalone=4]="DaysStandalone",pr[pr.MonthsFormat=5]="MonthsFormat",pr[pr.MonthsStandalone=6]="MonthsStandalone",pr[pr.Eras=7]="Eras",pr[pr.FirstDayOfWeek=8]="FirstDayOfWeek",pr[pr.WeekendRange=9]="WeekendRange",pr[pr.DateFormat=10]="DateFormat",pr[pr.TimeFormat=11]="TimeFormat",pr[pr.DateTimeFormat=12]="DateTimeFormat",pr[pr.NumberSymbols=13]="NumberSymbols",pr[pr.NumberFormats=14]="NumberFormats",pr[pr.CurrencyCode=15]="CurrencyCode",pr[pr.CurrencySymbol=16]="CurrencySymbol",pr[pr.CurrencyName=17]="CurrencyName",pr[pr.Currencies=18]="Currencies",pr[pr.Directionality=19]="Directionality",pr[pr.PluralCase=20]="PluralCase",pr[pr.ExtraData=21]="ExtraData",pr))();const Fc="en-US";let o=Fc;function a_(n,r,s,u,l){if(n=Be(n),Array.isArray(n))for(let h=0;h<n.length;h++)a_(n[h],r,s,u,l);else{const h=k(),_=p();let D=Ha(n)?n:Be(n.provide),x=ag(n);const j=qt(),ee=1048575&j.providerIndexes,Ee=j.directiveStart,tt=j.providerIndexes>>20;if(Ha(n)||!n.multi){const Et=new ui(x,l,Wo),Gt=c_(D,r,l?ee:ee+tt,Ee);-1===Gt?(Zr(Fs(j,_),h,D),u_(h,n,r.length),r.push(D),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),s.push(Et),_.push(Et)):(s[Gt]=Et,_[Gt]=Et)}else{const Et=c_(D,r,ee+tt,Ee),Gt=c_(D,r,ee,ee+tt),on=Et>=0&&s[Et],On=Gt>=0&&s[Gt];if(l&&!On||!l&&!on){Zr(Fs(j,_),h,D);const Hn=function jw(n,r,s,u,l){const h=new ui(n,s,Wo);return h.multi=[],h.index=r,h.componentProviders=0,O0(h,l,u&&!s),h}(l?Uw:$w,s.length,l,u,x);!l&&On&&(s[Gt].providerFactory=Hn),u_(h,n,r.length,0),r.push(D),j.directiveStart++,j.directiveEnd++,l&&(j.providerIndexes+=1048576),s.push(Hn),_.push(Hn)}else u_(h,n,Et>-1?Et:Gt,O0(s[l?Gt:Et],x,!l&&u));!l&&u&&On&&s[Gt].componentProviders++}}}function u_(n,r,s,u){const l=Ha(r),h=function Ll(n){return!!n.useClass}(r);if(l||h){const x=(h?Be(r.useClass):r).prototype.ngOnDestroy;if(x){const j=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const ee=j.indexOf(s);-1===ee?j.push(s,[u,x]):j[ee+1].push(u,x)}else j.push(s,x)}}}function O0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function c_(n,r,s,u){for(let l=s;l<u;l++)if(r[l]===n)return l;return-1}function $w(n,r,s,u){return l_(this.multi,[])}function Uw(n,r,s,u){const l=this.multi;let h;if(this.providerFactory){const _=this.providerFactory.componentProviders,D=Wt(s,s[1],this.providerFactory.index,u);h=D.slice(0,_),l_(l,h);for(let x=_;x<D.length;x++)h.push(D[x])}else h=[],l_(l,h);return h}function l_(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function R0(n,r=[]){return s=>{s.providersResolver=(u,l)=>function Bw(n,r,s){const u=k();if(u.firstCreatePass){const l=vn(n);a_(s,u.data,u.blueprint,l,!0),a_(r,u.data,u.blueprint,l,!1)}}(u,l?l(n):n,r)}}class af{}class P0{}function Hw(n,r){return new N0(n,r??null)}class N0 extends af{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Hu(this);const u=ke(r);this._bootstrapComponents=na(u.bootstrap),this._r3Injector=mh(r,s,[{provide:af,useValue:this},{provide:Zc,useValue:this.componentFactoryResolver}],K(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class d_ extends P0{constructor(r){super(),this.moduleType=r}create(r){return new N0(this.moduleType,r)}}class Gw extends af{constructor(r,s,u){super(),this.componentFactoryResolver=new Hu(this),this.instance=null;const l=new vf([...r,{provide:af,useValue:this},{provide:Zc,useValue:this.componentFactoryResolver}],s||Vl(),u,new Set(["environment"]));this.injector=l,l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function h_(n,r,s=null){return new Gw(n,r,s).injector}let zw=(()=>{class n{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const u=mf(0,s.type),l=u.length>0?h_([u],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,l)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Yt({token:n,providedIn:"environment",factory:()=>new n(kt(hc))}),n})();function k0(n){n.getStandaloneInjector=r=>r.get(zw).getOrCreateStandaloneInjector(n)}function j0(n,r,s){const u=kr()+n,l=p();return l[u]===wr?qa(l,u,s?r.call(s):r()):function Ac(n,r){return n[r]}(l,u)}function H0(n,r,s,u){return function G0(n,r,s,u,l,h){const _=r+s;return po(n,_,l)?qa(n,_+1,h?u.call(h,l):u(l)):function Xp(n,r){const s=n[r];return s===wr?void 0:s}(n,_+1)}(p(),kr(),n,r,s,u)}function p_(n){return r=>{setTimeout(n,void 0,r)}}const qu=class gb extends a.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,u){let l=r,h=s||(()=>null),_=u;if(r&&"object"==typeof r){const x=r;l=x.next?.bind(x),h=x.error?.bind(x),_=x.complete?.bind(x)}this.__isAsync&&(h=p_(h),l&&(l=p_(l)),_&&(_=p_(_)));const D=super.subscribe({next:l,error:h,complete:_});return r instanceof U.w&&r.add(D),D}};function mb(){return this._results[cs()]()}class g_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=cs(),u=g_.prototype;u[s]||(u[s]=mb)}get changes(){return this._changes||(this._changes=new qu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const u=this;u.dirty=!1;const l=Ki(r);(this._changesDetected=!function da(n,r,s){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let l=n[u],h=r[u];if(s&&(l=s(l),h=s(h)),h!==l)return!1}return!0}(u._results,l,s))&&(u._results=l,u.length=l.length,u.last=l[this.length-1],u.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Jp=(()=>{class n{}return n.__NG_ELEMENT_ID__=_b,n})();const yb=Jp,vb=class extends yb{constructor(r,s,u){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=u}createEmbeddedView(r,s){const u=this._declarationTContainer.tViews,l=ll(this._declarationLView,u,r,16,null,u.declTNode,null,null,null,null,s||null);l[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(l[19]=_.createEmbeddedView(u)),Dh(u,l,r),new fl(l)}};function _b(){return _y(qt(),p())}function _y(n,r){return 4&n.type?new vb(r,n,Xc(n,r)):null}let Ey=(()=>{class n{}return n.__NG_ELEMENT_ID__=Eb,n})();function Eb(){return X0(qt(),p())}const wb=Ey,q0=class extends wb{constructor(r,s,u){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=u}get element(){return Xc(this._hostTNode,this._hostLView)}get injector(){return new to(this._hostTNode,this._hostLView)}get parentInjector(){const r=Xt(this._hostTNode,this._hostLView);if(Ra(r)){const s=oo(r,this._hostLView),u=qo(r);return new to(s[1].data[u+8],s)}return new to(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=Z0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,u){let l,h;"number"==typeof u?l=u:null!=u&&(l=u.index,h=u.injector);const _=r.createEmbeddedView(s||{},h);return this.insert(_,l),_}createComponent(r,s,u,l,h){const _=r&&!function Si(n){return"function"==typeof n}(r);let D;if(_)D=s;else{const Ee=s||{};D=Ee.index,u=Ee.injector,l=Ee.projectableNodes,h=Ee.environmentInjector||Ee.ngModuleRef}const x=_?r:new pd(Bt(r)),j=u||this.parentInjector;if(!h&&null==x.ngModule){const tt=(_?j:this.parentInjector).get(hc,null);tt&&(h=tt)}const ee=x.create(j,l,void 0,h);return this.insert(ee.hostView,D),ee}insert(r,s){const u=r._lView,l=u[1];if(function ni(n){return Ot(n[3])}(u)){const ee=this.indexOf(r);if(-1!==ee)this.detach(ee);else{const Ee=u[3],tt=new q0(Ee,Ee[6],Ee[3]);tt.detach(tt.indexOf(r))}}const h=this._adjustIndex(s),_=this._lContainer;!function tl(n,r,s,u){const l=10+u,h=s.length;u>0&&(s[l-1][4]=r),u<h-10?(r[4]=s[l],Va(s,10+u,r)):(s.push(r),r[4]=null),r[3]=s;const _=r[17];null!==_&&s!==_&&function Og(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(_,r);const D=r[19];null!==D&&D.insertView(n),r[2]|=64}(l,u,_,h);const D=Lf(h,_),x=u[11],j=ql(x,_[7]);return null!==j&&function ah(n,r,s,u,l,h){u[0]=l,u[6]=r,Xl(n,u,s,1,l,h)}(l,_[6],x,u,j,D),r.attachToViewContainerRef(),Va(m_(_),h,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=Z0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),u=Nf(this._lContainer,s);u&&(Dt(m_(this._lContainer),s),_c(u[1],u))}detach(r){const s=this._adjustIndex(r,-1),u=Nf(this._lContainer,s);return u&&null!=Dt(m_(this._lContainer),s)?new fl(u):null}_adjustIndex(r,s=0){return r??this.length+s}};function Z0(n){return n[8]}function m_(n){return n[8]||(n[8]=[])}function X0(n,r){let s;const u=r[n.index];if(Ot(u))s=u;else{let l;if(8&n.type)l=Nr(u);else{const h=r[11];l=h.createComment("");const _=Br(n,r);Ec(h,ql(h,_),l,function Qy(n,r){return n.nextSibling(r)}(h,_),!1)}r[n.index]=s=Mh(u,r,l,n),dl(r,s)}return new q0(s,n,r)}class y_{constructor(r){this.queryList=r,this.matches=null}clone(){return new y_(this.queryList)}setDirty(){this.queryList.setDirty()}}class v_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const u=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let h=0;h<u;h++){const _=s.getByIndex(h);l.push(this.queries[_.indexInDeclarationView].clone())}return new v_(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==oE(r,s).matches&&this.queries[s].setDirty()}}class Q0{constructor(r,s,u=null){this.predicate=r,this.flags=s,this.read=u}}class __{constructor(r=[]){this.queries=r}elementStart(r,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let u=0;u<this.length;u++){const l=null!==s?s.length:0,h=this.getByIndex(u).embeddedTView(r,l);h&&(h.indexInDeclarationView=u,null!==s?s.push(h):s=[h])}return null!==s?new __(s):null}template(r,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class E_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new E_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let l=0;l<u.length;l++){const h=u[l];this.matchTNodeWithReadOption(r,s,Db(s,h)),this.matchTNodeWithReadOption(r,s,Mt(s,r,h,!1,!1))}else u===Jp?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Mt(s,r,u,!1,!1))}matchTNodeWithReadOption(r,s,u){if(null!==u){const l=this.metadata.read;if(null!==l)if(l===$l||l===Ey||l===Jp&&4&s.type)this.addMatch(s.index,-2);else{const h=Mt(s,r,l,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,u)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Db(n,r){const s=n.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===r)return s[u+1];return null}function Sb(n,r,s,u){return-1===s?function Cb(n,r){return 11&n.type?Xc(n,r):4&n.type?_y(n,r):null}(r,n):-2===s?function Tb(n,r,s){return s===$l?Xc(r,n):s===Jp?_y(r,n):s===Ey?X0(r,n):void 0}(n,r,u):Wt(n,n[1],s,r)}function J0(n,r,s,u){const l=r[19].queries[u];if(null===l.matches){const h=n.data,_=s.matches,D=[];for(let x=0;x<_.length;x+=2){const j=_[x];D.push(j<0?null:Sb(r,h[j],_[x+1],s.metadata.read))}l.matches=D}return l.matches}function w_(n,r,s,u){const l=n.queries.getByIndex(s),h=l.matches;if(null!==h){const _=J0(n,r,l,s);for(let D=0;D<h.length;D+=2){const x=h[D];if(x>0)u.push(_[D/2]);else{const j=h[D+1],ee=r[-x];for(let Ee=10;Ee<ee.length;Ee++){const tt=ee[Ee];tt[17]===tt[3]&&w_(tt[1],tt,j,u)}if(null!==ee[9]){const Ee=ee[9];for(let tt=0;tt<Ee.length;tt++){const Et=Ee[tt];w_(Et[1],Et,j,u)}}}}}return u}function eE(n){const r=p(),s=k(),u=oa();ko(u+1);const l=oE(s,u);if(n.dirty&&is(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const h=l.crossesNgTemplate?w_(s,r,u,[]):J0(s,r,l,u);n.reset(h,Ul),n.notifyOnChanges()}return!0}return!1}function tE(n,r,s){const u=k();u.firstCreatePass&&(sE(u,new Q0(n,r,s),-1),2==(2&r)&&(u.staticViewQueries=!0)),iE(u,p(),r)}function nE(n,r,s,u){const l=k();if(l.firstCreatePass){const h=qt();sE(l,new Q0(r,s,u),h.index),function xb(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(l,n),2==(2&s)&&(l.staticContentQueries=!0)}iE(l,p(),s)}function rE(){return function Ab(n,r){return n[19].queries[r].queryList}(p(),oa())}function iE(n,r,s){const u=new g_(4==(4&s));Sh(n,r,u,u.destroy),null===r[19]&&(r[19]=new v_),r[19].queries.push(new y_(u))}function sE(n,r,s){null===n.queries&&(n.queries=new __),n.queries.track(new E_(r,s))}function oE(n,r){return n.queries.getByIndex(r)}function by(...n){}const CE=new Un("Application Initializer");let Iy=(()=>{class n{constructor(s){this.appInits=s,this.resolve=by,this.reject=by,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,l)=>{this.resolve=u,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const h=this.appInits[l]();if(Yh(h))s.push(h);else if(xp(h)){const _=new Promise((D,x)=>{h.subscribe({complete:D,error:x})});s.push(_)}}Promise.all(s).then(()=>{u()}).catch(l=>{this.reject(l)}),0===s.length&&u(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(kt(CE,8))},n.\u0275prov=Yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SE=new Un("AppId",{providedIn:"root",factory:function TE(){return`${S_()}${S_()}${S_()}`}});function S_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const AE=new Un("Platform Initializer"),Zb=new Un("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xE=new Un("appBootstrapListener");let Xb=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Yt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Dy=new Un("LocaleId",{providedIn:"root",factory:()=>Vn(Dy,Ut.Optional|Ut.SkipSelf)||function Qb(){return typeof $localize<"u"&&$localize.locale||Fc}()}),Jb=new Un("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class eI{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let tI=(()=>{class n{compileModuleSync(s){return new d_(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),h=na(ke(s).declarations).reduce((_,D)=>{const x=Bt(D);return x&&_.push(new pd(x)),_},[]);return new eI(u,h)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iI=(()=>Promise.resolve(0))();function T_(n){typeof Zone>"u"?iI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class tu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qu(!1),this.onMicrotaskEmpty=new qu(!1),this.onStable=new qu(!1),this.onError=new qu(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const l=this;if(l._nesting=0,l._outer=l._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const h=Zone.AsyncStackTaggingZoneSpec;l._inner=l._inner.fork(new h("Angular"))}Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!u&&s,l.shouldCoalesceRunChangeDetection=u,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function sI(){let n=xn.requestAnimationFrame,r=xn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function uI(n){const r=()=>{!function aI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(xn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,x_(n),n.isCheckStableRunning=!0,A_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),x_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,l,h,_,D)=>{try{return RE(n),s.invokeTask(l,h,_,D)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||n.shouldCoalesceRunChangeDetection)&&r(),PE(n)}},onInvoke:(s,u,l,h,_,D,x)=>{try{return RE(n),s.invoke(l,h,_,D,x)}finally{n.shouldCoalesceRunChangeDetection&&r(),PE(n)}},onHasTask:(s,u,l,h)=>{s.hasTask(l,h),u===l&&("microTask"==h.change?(n._hasPendingMicrotasks=h.microTask,x_(n),A_(n)):"macroTask"==h.change&&(n.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,u,l,h)=>(s.handleError(l,h),n.runOutsideAngular(()=>n.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!tu.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(tu.isInAngularZone())throw new De(909,!1)}run(r,s,u){return this._inner.run(r,s,u)}runTask(r,s,u,l){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+l,r,oI,by,by);try{return h.runTask(_,s,u)}finally{h.cancelTask(_)}}runGuarded(r,s,u){return this._inner.runGuarded(r,s,u)}runOutsideAngular(r){return this._outer.run(r)}}const oI={};function A_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function x_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function RE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function PE(n){n._nesting--,A_(n)}class cI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qu,this.onMicrotaskEmpty=new qu,this.onStable=new qu,this.onError=new qu}run(r,s,u){return r.apply(s,u)}runGuarded(r,s,u){return r.apply(s,u)}runOutsideAngular(r){return r()}runTask(r,s,u,l){return r.apply(s,u)}}const NE=new Un(""),kE=new Un("");let M_,lI=(()=>{class n{constructor(s,u,l){this._ngZone=s,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,M_||(function dI(n){M_=n}(l),l.addToWindow(u)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{tu.assertNotInAngularZone(),T_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())T_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,l){let h=-1;u&&u>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:l})}whenStable(s,u,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,u,l){return[]}}return n.\u0275fac=function(s){return new(s||n)(kt(tu),kt(FE),kt(kE))},n.\u0275prov=Yt({token:n,factory:n.\u0275fac}),n})(),FE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return M_?.findTestabilityInTree(this,s,u)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Yt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Sl=null;const LE=new Un("AllowMultipleToken"),O_=new Un("PlatformDestroyListeners");class pI{constructor(r,s){this.name=r,this.token=s}}function BE(n,r,s=[]){const u=`Platform: ${r}`,l=new Un(u);return(h=[])=>{let _=R_();if(!_||_.injector.get(LE,!1)){const D=[...s,...h,{provide:l,useValue:!0}];n?n(D):function gI(n){if(Sl&&!Sl.get(LE,!1))throw new De(400,!1);Sl=n;const r=n.get(UE);(function VE(n){const r=n.get(AE,null);r&&r.forEach(s=>s())})(n)}(function $E(n=[],r){return Ya.create({name:r,providers:[{provide:lc,useValue:"platform"},{provide:O_,useValue:new Set([()=>Sl=null])},...n]})}(D,u))}return function yI(n){const r=R_();if(!r)throw new De(401,!1);return r}()}}function R_(){return Sl?.get(UE)??null}let UE=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const l=function HE(n,r){let s;return s="noop"===n?new cI:("zone.js"===n?void 0:n)||new tu(r),s}(u?.ngZone,function jE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),h=[{provide:tu,useValue:l}];return l.run(()=>{const _=Ya.create({providers:h,parent:this.injector,name:s.moduleType.name}),D=s.create(_),x=D.injector.get(Hl,null);if(!x)throw new De(402,!1);return l.runOutsideAngular(()=>{const j=l.onError.subscribe({next:ee=>{x.handleError(ee)}});D.onDestroy(()=>{Sy(this._modules,D),j.unsubscribe()})}),function GE(n,r,s){try{const u=s();return Yh(u)?u.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(x,l,()=>{const j=D.injector.get(Iy);return j.runInitializers(),j.donePromise.then(()=>(function c(n){Ge(n,"Expected localeId to be defined"),"string"==typeof n&&(o=n.toLowerCase().replace(/_/g,"-"))}(D.injector.get(Dy,Fc)||Fc),this._moduleDoBootstrap(D),D))})})}bootstrapModule(s,u=[]){const l=zE({},u);return function hI(n,r,s){const u=new d_(s);return Promise.resolve(u)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(s){const u=s.injector.get(Cy);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>u.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new De(403,!1);s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const s=this._injector.get(O_,null);s&&(s.forEach(u=>u()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(kt(Ya))},n.\u0275prov=Yt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function zE(n,r){return Array.isArray(r)?r.reduce(zE,n):{...n,...r}}let Cy=(()=>{class n{constructor(s,u,l){this._zone=s,this._injector=u,this._exceptionHandler=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new V.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),_=new V.y(D=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{tu.assertNotInAngularZone(),T_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{tu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{x.unsubscribe(),j.unsubscribe()}});this.isStable=(0,ve.T)(h,_.pipe(function le(){return n=>(0,se.x)()((0,_e.O)(oe)(n))}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,u){const l=s instanceof wa;if(!this._injector.get(Iy).done)throw!l&&nt(s),new De(405,false);let _;_=l?s:this._injector.get(Zc).resolveComponentFactory(s),this.componentTypes.push(_.componentType);const D=function fI(n){return n.isBoundToModule}(_)?void 0:this._injector.get(af),j=_.create(Ya.NULL,[],u||_.selector,D),ee=j.location.nativeElement,Ee=j.injector.get(NE,null);return Ee?.registerApplication(ee),j.onDestroy(()=>{this.detachView(j.hostView),Sy(this.components,j),Ee?.unregisterApplication(ee)}),this._loadComponent(j),j}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;Sy(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(xE,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Sy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new De(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(kt(tu),kt(hc),kt(Hl))},n.\u0275prov=Yt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sy(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let KE=!0,YE=!1;function _I(){return YE=!0,KE}function EI(){if(YE)throw new Error("Cannot enable prod mode after platform setup.");KE=!1}let wI=(()=>{class n{}return n.__NG_ELEMENT_ID__=bI,n})();function bI(n){return function II(n,r,s){if(Ft(n)&&!s){const u=vr(n.index,r);return new fl(u,u)}return 47&n.type?new fl(r[16],r):null}(qt(),p(),16==(16&n))}class QE{constructor(){}supports(r){return pl(r)}create(r){return new xI(r)}}const AI=(n,r)=>r;class xI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||AI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,u=this._removalsHead,l=0,h=null;for(;s||u;){const _=!u||s&&s.currentIndex<ew(u,l,h)?s:u,D=ew(_,l,h),x=_.currentIndex;if(_===u)l--,u=u._nextRemoved;else if(s=s._next,null==_.previousIndex)l++;else{h||(h=[]);const j=D-l,ee=x-l;if(j!=ee){for(let tt=0;tt<j;tt++){const Et=tt<h.length?h[tt]:h[tt]=0,Gt=Et+tt;ee<=Gt&&Gt<j&&(h[tt]=Et+1)}h[_.previousIndex]=ee-j}}D!==x&&r(_,D,x)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!pl(r))throw new De(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,h,_,s=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let D=0;D<this.length;D++)h=r[D],_=this._trackByFn(D,h),null!==s&&Object.is(s.trackById,_)?(u&&(s=this._verifyReinsertion(s,h,_,D)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,_,D),u=!0),s=s._next}else l=0,function Hh(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[cs()]();let u;for(;!(u=s.next()).done;)r(u.value)}}(r,D=>{_=this._trackByFn(l,D),null!==s&&Object.is(s.trackById,_)?(u&&(s=this._verifyReinsertion(s,D,_,l)),Object.is(s.item,D)||this._addIdentityChange(s,D)):(s=this._mismatch(s,D,_,l),u=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,u,l){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,h,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,h,l)):r=this._addAfter(new MI(s,u),h,l),r}_verifyReinsertion(r,s,u,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==h?r=this._reinsertAfter(h,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,h=r._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(r,s,u),this._addToMoves(r,u),r}_moveAfter(r,s,u){return this._unlink(r),this._insertAfter(r,s,u),this._addToMoves(r,u),r}_addAfter(r,s,u){return this._insertAfter(r,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,u){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new JE),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,u=r._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new JE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class MI{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class OI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const s=r._prevDup,u=r._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class JE{constructor(){this.map=new Map}put(r){const s=r.trackById;let u=this.map.get(s);u||(u=new OI,this.map.set(s,u)),u.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ew(n,r,s){const u=n.previousIndex;if(null===u)return u;let l=0;return s&&u<s.length&&(l=s[u]),u+r+l}class tw{constructor(){}supports(r){return r instanceof Map||Gh(r)}create(){return new RI}}class RI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Gh(r)))throw new De(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(l,u);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const u=r._prev;return s._next=r,s._prev=u,r._prev=s,u&&(u._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const h=l._prev,_=l._next;return h&&(h._next=_),_&&(_._prev=h),l._next=null,l._prev=null,l}const u=new PI(r);return this._records.set(r,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(u=>s(r[u],u))}}class PI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nw(){return new L_([new QE])}let L_=(()=>{class n{constructor(s){this.factories=s}static create(s,u){if(null!=u){const l=u.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:u=>n.create(s,u||nw()),deps:[[n,new Ua,new qs]]}}find(s){const u=this.factories.find(l=>l.supports(s));if(null!=u)return u;throw new De(901,!1)}}return n.\u0275prov=Yt({token:n,providedIn:"root",factory:nw}),n})();function rw(){return new V_([new tw])}let V_=(()=>{class n{constructor(s){this.factories=s}static create(s,u){if(u){const l=u.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:u=>n.create(s,u||rw()),deps:[[n,new Ua,new qs]]}}find(s){const u=this.factories.find(l=>l.supports(s));if(u)return u;throw new De(901,!1)}}return n.\u0275prov=Yt({token:n,providedIn:"root",factory:rw}),n})();const FI=BE(null,"core",[]);let LI=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(kt(Cy))},n.\u0275mod=er({type:n}),n.\u0275inj=Dn({}),n})();function VI(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4719:(Qt,at,P)=>{"use strict";P.d(at,{u5:()=>Ds,JU:()=>de,a5:()=>Fn,JJ:()=>ur,On:()=>et,c5:()=>Wn,Q7:()=>Qi});var a=P(6353),U=P(6895),V=P(6498),ve=P(6688),_e=P(4850),se=P(7830),oe=P(5254);function ie(F,R){return new V.y(O=>{const Z=F.length;if(0===Z)return void O.complete();const vt=new Array(Z);let En=0,Pr=0;for(let Hr=0;Hr<Z;Hr++){const kr=(0,oe.D)(F[Hr]);let gi=!1;O.add(kr.subscribe({next:gs=>{gi||(gi=!0,Pr++),vt[Hr]=gs},error:gs=>O.error(gs),complete:()=>{En++,(En===Z||!gi)&&(Pr===Z&&O.next(R?R.reduce((gs,ms,Di)=>(gs[ms]=vt[Di],gs),{}):vt),O.complete())}}))}})}let te=(()=>{class F{constructor(O,Z){this._renderer=O,this._elementRef=Z,this.onChange=vt=>{},this.onTouched=()=>{}}setProperty(O,Z){this._renderer.setProperty(this._elementRef.nativeElement,O,Z)}registerOnTouched(O){this.onTouched=O}registerOnChange(O){this.onChange=O}setDisabledState(O){this.setProperty("disabled",O)}}return F.\u0275fac=function(O){return new(O||F)(a.Y36(a.Qsj),a.Y36(a.SBq))},F.\u0275dir=a.lG2({type:F}),F})(),K=(()=>{class F extends te{}return F.\u0275fac=function(){let R;return function(Z){return(R||(R=a.n5z(F)))(Z||F)}}(),F.\u0275dir=a.lG2({type:F,features:[a.qOj]}),F})();const de=new a.OlP("NgValueAccessor"),Be={provide:de,useExisting:(0,a.Gpc)(()=>De),multi:!0},Ve=new a.OlP("CompositionEventMode");let De=(()=>{class F extends te{constructor(O,Z,vt){super(O,Z),this._compositionMode=vt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ae(){const F=(0,U.q)()?(0,U.q)().getUserAgent():"";return/android (\d+)/.test(F.toLowerCase())}())}writeValue(O){this.setProperty("value",O??"")}_handleInput(O){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(O)}_compositionStart(){this._composing=!0}_compositionEnd(O){this._composing=!1,this._compositionMode&&this.onChange(O)}}return F.\u0275fac=function(O){return new(O||F)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Ve,8))},F.\u0275dir=a.lG2({type:F,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(O,Z){1&O&&a.NdJ("input",function(En){return Z._handleInput(En.target.value)})("blur",function(){return Z.onTouched()})("compositionstart",function(){return Z._compositionStart()})("compositionend",function(En){return Z._compositionEnd(En.target.value)})},features:[a._Bn([Be]),a.qOj]}),F})();function J(F){return null==F||("string"==typeof F||Array.isArray(F))&&0===F.length}const wt=new a.OlP("NgValidators"),St=new a.OlP("NgAsyncValidators");function ye(F){return J(F.value)?{required:!0}:null}function Vt(F){return null}function ut(F){return null!=F}function dt(F){return(0,a.QGY)(F)?(0,oe.D)(F):F}function qe(F){let R={};return F.forEach(O=>{R=null!=O?{...R,...O}:R}),0===Object.keys(R).length?null:R}function Me(F,R){return R.map(O=>O(F))}function je(F){return F.map(R=>function Ge(F){return!F.validate}(R)?R:O=>R.validate(O))}function Lt(F){return null!=F?function ft(F){if(!F)return null;const R=F.filter(ut);return 0==R.length?null:function(O){return qe(Me(O,R))}}(je(F)):null}function Yt(F){return null!=F?function gt(F){if(!F)return null;const R=F.filter(ut);return 0==R.length?null:function(O){return function le(...F){if(1===F.length){const R=F[0];if((0,ve.k)(R))return ie(R,null);if((0,se.K)(R)&&Object.getPrototypeOf(R)===Object.prototype){const O=Object.keys(R);return ie(O.map(Z=>R[Z]),O)}}if("function"==typeof F[F.length-1]){const R=F.pop();return ie(F=1===F.length&&(0,ve.k)(F[0])?F[0]:F,null).pipe((0,_e.U)(O=>R(...O)))}return ie(F,null)}(Me(O,R).map(dt)).pipe((0,_e.U)(qe))}}(je(F)):null}function Ln(F,R){return null===F?[R]:Array.isArray(F)?[...F,R]:[F,R]}function yn(F){return F?Array.isArray(F)?F:[F]:[]}function Rn(F,R){return Array.isArray(F)?F.includes(R):F===R}function xr(F,R){const O=yn(R);return yn(F).forEach(vt=>{Rn(O,vt)||O.push(vt)}),O}function sn(F,R){return yn(R).filter(O=>!Rn(F,O))}class Tn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=Lt(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=Yt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R){this.control&&this.control.reset(R)}hasError(R,O){return!!this.control&&this.control.hasError(R,O)}getError(R,O){return this.control?this.control.getError(R,O):null}}class bt extends Tn{get formDirective(){return null}get path(){return null}}class Fn extends Tn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let ur=(()=>{class F extends class ar{constructor(R){this._cd=R}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}{constructor(O){super(O)}}return F.\u0275fac=function(O){return new(O||F)(a.Y36(Fn,2))},F.\u0275dir=a.lG2({type:F,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(O,Z){2&O&&a.ekj("ng-untouched",Z.isUntouched)("ng-touched",Z.isTouched)("ng-pristine",Z.isPristine)("ng-dirty",Z.isDirty)("ng-valid",Z.isValid)("ng-invalid",Z.isInvalid)("ng-pending",Z.isPending)},features:[a.qOj]}),F})();const Ue="VALID",Tt="INVALID",jt="PENDING",pn="DISABLED";function $n(F){return Array.isArray(F)?Lt(F):F||null}function it(F){return Array.isArray(F)?Yt(F):F||null}function He(F){return null!=F&&!Array.isArray(F)&&"object"==typeof F}function Je(F,R){(function zn(F,R){const O=function Dn(F){return F._rawValidators}(F);null!==R.validator?F.setValidators(Ln(O,R.validator)):"function"==typeof O&&F.setValidators([O]);const Z=function wn(F){return F._rawAsyncValidators}(F);null!==R.asyncValidator?F.setAsyncValidators(Ln(Z,R.asyncValidator)):"function"==typeof Z&&F.setAsyncValidators([Z]);const vt=()=>F.updateValueAndValidity();Cn(R._rawValidators,vt),Cn(R._rawAsyncValidators,vt)})(F,R),R.valueAccessor.writeValue(F.value),F.disabled&&R.valueAccessor.setDisabledState?.(!0),function Ce(F,R){R.valueAccessor.registerOnChange(O=>{F._pendingValue=O,F._pendingChange=!0,F._pendingDirty=!0,"change"===F.updateOn&&yt(F,R)})}(F,R),function Ct(F,R){const O=(Z,vt)=>{R.valueAccessor.writeValue(Z),vt&&R.viewToModelUpdate(Z)};F.registerOnChange(O),R._registerOnDestroy(()=>{F._unregisterOnChange(O)})}(F,R),function Ye(F,R){R.valueAccessor.registerOnTouched(()=>{F._pendingTouched=!0,"blur"===F.updateOn&&F._pendingChange&&yt(F,R),"submit"!==F.updateOn&&F.markAsTouched()})}(F,R),function mr(F,R){if(R.valueAccessor.setDisabledState){const O=Z=>{R.valueAccessor.setDisabledState(Z)};F.registerOnDisabledChange(O),R._registerOnDestroy(()=>{F._unregisterOnDisabledChange(O)})}}(F,R)}function Cn(F,R){F.forEach(O=>{O.registerOnValidatorChange&&O.registerOnValidatorChange(R)})}function yt(F,R){F._pendingDirty&&F.markAsDirty(),F.setValue(F._pendingValue,{emitModelToViewChange:!1}),R.viewToModelUpdate(F._pendingValue),F._pendingChange=!1}function ge(F,R){const O=F.indexOf(R);O>-1&&F.splice(O,1)}function Xe(F){return"object"==typeof F&&null!==F&&2===Object.keys(F).length&&"value"in F&&"disabled"in F}const Ir={provide:Fn,useExisting:(0,a.Gpc)(()=>et)},Sr=(()=>Promise.resolve())();let et=(()=>{class F extends Fn{constructor(O,Z,vt,En,Pr){super(),this._changeDetectorRef=Pr,this.control=new class extends class Bt{constructor(R,O){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=R,this._rawAsyncValidators=O,this._composedValidatorFn=$n(this._rawValidators),this._composedAsyncValidatorFn=it(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(R){this._rawValidators=this._composedValidatorFn=R}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(R){this._rawAsyncValidators=this._composedAsyncValidatorFn=R}get parent(){return this._parent}get valid(){return this.status===Ue}get invalid(){return this.status===Tt}get pending(){return this.status==jt}get disabled(){return this.status===pn}get enabled(){return this.status!==pn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(R){this._rawValidators=R,this._composedValidatorFn=$n(R)}setAsyncValidators(R){this._rawAsyncValidators=R,this._composedAsyncValidatorFn=it(R)}addValidators(R){this.setValidators(xr(R,this._rawValidators))}addAsyncValidators(R){this.setAsyncValidators(xr(R,this._rawAsyncValidators))}removeValidators(R){this.setValidators(sn(R,this._rawValidators))}removeAsyncValidators(R){this.setAsyncValidators(sn(R,this._rawAsyncValidators))}hasValidator(R){return Rn(this._rawValidators,R)}hasAsyncValidator(R){return Rn(this._rawAsyncValidators,R)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(R={}){this.touched=!0,this._parent&&!R.onlySelf&&this._parent.markAsTouched(R)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(R=>R.markAllAsTouched())}markAsUntouched(R={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(O=>{O.markAsUntouched({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}markAsDirty(R={}){this.pristine=!1,this._parent&&!R.onlySelf&&this._parent.markAsDirty(R)}markAsPristine(R={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(O=>{O.markAsPristine({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}markAsPending(R={}){this.status=jt,!1!==R.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!R.onlySelf&&this._parent.markAsPending(R)}disable(R={}){const O=this._parentMarkedDirty(R.onlySelf);this.status=pn,this.errors=null,this._forEachChild(Z=>{Z.disable({...R,onlySelf:!0})}),this._updateValue(),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...R,skipPristineCheck:O}),this._onDisabledChange.forEach(Z=>Z(!0))}enable(R={}){const O=this._parentMarkedDirty(R.onlySelf);this.status=Ue,this._forEachChild(Z=>{Z.enable({...R,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent}),this._updateAncestors({...R,skipPristineCheck:O}),this._onDisabledChange.forEach(Z=>Z(!1))}_updateAncestors(R){this._parent&&!R.onlySelf&&(this._parent.updateValueAndValidity(R),R.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(R){this._parent=R}getRawValue(){return this.value}updateValueAndValidity(R={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ue||this.status===jt)&&this._runAsyncValidator(R.emitEvent)),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.updateValueAndValidity(R)}_updateTreeValidity(R={emitEvent:!0}){this._forEachChild(O=>O._updateTreeValidity(R)),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pn:Ue}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(R){if(this.asyncValidator){this.status=jt,this._hasOwnPendingAsyncValidator=!0;const O=dt(this.asyncValidator(this));this._asyncValidationSubscription=O.subscribe(Z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Z,{emitEvent:R})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(R,O={}){this.errors=R,this._updateControlsErrors(!1!==O.emitEvent)}get(R){let O=R;return null==O||(Array.isArray(O)||(O=O.split(".")),0===O.length)?null:O.reduce((Z,vt)=>Z&&Z._find(vt),this)}getError(R,O){const Z=O?this.get(O):this;return Z&&Z.errors?Z.errors[R]:null}hasError(R,O){return!!this.getError(R,O)}get root(){let R=this;for(;R._parent;)R=R._parent;return R}_updateControlsErrors(R){this.status=this._calculateStatus(),R&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(R)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?pn:this.errors?Tt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jt)?jt:this._anyControlsHaveStatus(Tt)?Tt:Ue}_anyControlsHaveStatus(R){return this._anyControls(O=>O.status===R)}_anyControlsDirty(){return this._anyControls(R=>R.dirty)}_anyControlsTouched(){return this._anyControls(R=>R.touched)}_updatePristine(R={}){this.pristine=!this._anyControlsDirty(),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}_updateTouched(R={}){this.touched=this._anyControlsTouched(),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}_registerOnCollectionChange(R){this._onCollectionChange=R}_setUpdateStrategy(R){He(R)&&null!=R.updateOn&&(this._updateOn=R.updateOn)}_parentMarkedDirty(R){return!R&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(R){return null}}{constructor(R=null,O,Z){super(function Gn(F){return(He(F)?F.validators:F)||null}(O),function er(F,R){return(He(R)?R.asyncValidators:F)||null}(Z,O)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(R),this._setUpdateStrategy(O),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),He(O)&&(O.nonNullable||O.initialValueIsDefault)&&(this.defaultValue=Xe(R)?R.value:R)}setValue(R,O={}){this.value=this._pendingValue=R,this._onChange.length&&!1!==O.emitModelToViewChange&&this._onChange.forEach(Z=>Z(this.value,!1!==O.emitViewToModelChange)),this.updateValueAndValidity(O)}patchValue(R,O={}){this.setValue(R,O)}reset(R=this.defaultValue,O={}){this._applyFormState(R),this.markAsPristine(O),this.markAsUntouched(O),this.setValue(this.value,O),this._pendingChange=!1}_updateValue(){}_anyControls(R){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(R){this._onChange.push(R)}_unregisterOnChange(R){ge(this._onChange,R)}registerOnDisabledChange(R){this._onDisabledChange.push(R)}_unregisterOnDisabledChange(R){ge(this._onDisabledChange,R)}_forEachChild(R){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(R){Xe(R)?(this.value=this._pendingValue=R.value,R.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=R}},this._registered=!1,this.update=new a.vpe,this._parent=O,this._setValidators(Z),this._setAsyncValidators(vt),this.valueAccessor=function ai(F,R){if(!R)return null;let O,Z,vt;return Array.isArray(R),R.forEach(En=>{En.constructor===De?O=En:function Mr(F){return Object.getPrototypeOf(F.constructor)===K}(En)?Z=En:vt=En}),vt||Z||O||null}(0,En)}ngOnChanges(O){if(this._checkForErrors(),!this._registered||"name"in O){if(this._registered&&(this._checkName(),this.formDirective)){const Z=O.name.previousValue;this.formDirective.removeControl({name:Z,path:this._getPath(Z)})}this._setUpControl()}"isDisabled"in O&&this._updateDisabled(O),function rr(F,R){if(!F.hasOwnProperty("model"))return!1;const O=F.model;return!!O.isFirstChange()||!Object.is(R,O.currentValue)}(O,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(O){this.viewModel=O,this.update.emit(O)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Je(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(O){Sr.then(()=>{this.control.setValue(O,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(O){const Z=O.isDisabled.currentValue,vt=0!==Z&&(0,a.D6c)(Z);Sr.then(()=>{vt&&!this.control.disabled?this.control.disable():!vt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(O){return this._parent?function Fe(F,R){return[...R.path,F]}(O,this._parent):[O]}}return F.\u0275fac=function(O){return new(O||F)(a.Y36(bt,9),a.Y36(wt,10),a.Y36(St,10),a.Y36(de,10),a.Y36(a.sBO,8))},F.\u0275dir=a.lG2({type:F,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([Ir]),a.qOj,a.TTD]}),F})(),tr=(()=>{class F{}return F.\u0275fac=function(O){return new(O||F)},F.\u0275mod=a.oAB({type:F}),F.\u0275inj=a.cJS({}),F})(),_i=(()=>{class F{constructor(){this._validator=Vt}ngOnChanges(O){if(this.inputName in O){const Z=this.normalizeInput(O[this.inputName].currentValue);this._enabled=this.enabled(Z),this._validator=this._enabled?this.createValidator(Z):Vt,this._onChange&&this._onChange()}}validate(O){return this._validator(O)}registerOnValidatorChange(O){this._onChange=O}enabled(O){return null!=O}}return F.\u0275fac=function(O){return new(O||F)},F.\u0275dir=a.lG2({type:F,features:[a.TTD]}),F})();const Br={provide:wt,useExisting:(0,a.Gpc)(()=>Qi),multi:!0};let Qi=(()=>{class F extends _i{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.D6c,this.createValidator=O=>ye}enabled(O){return O}}return F.\u0275fac=function(){let R;return function(Z){return(R||(R=a.n5z(F)))(Z||F)}}(),F.\u0275dir=a.lG2({type:F,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(O,Z){2&O&&a.uIk("required",Z._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([Br]),a.qOj]}),F})();const Qs={provide:wt,useExisting:(0,a.Gpc)(()=>Wn),multi:!0};let Wn=(()=>{class F extends _i{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=O=>O,this.createValidator=O=>function pt(F){if(!F)return Vt;let R,O;return"string"==typeof F?(O="","^"!==F.charAt(0)&&(O+="^"),O+=F,"$"!==F.charAt(F.length-1)&&(O+="$"),R=new RegExp(O)):(O=F.toString(),R=F),Z=>{if(J(Z.value))return null;const vt=Z.value;return R.test(vt)?null:{pattern:{requiredPattern:O,actualValue:vt}}}}(O)}}return F.\u0275fac=function(){let R;return function(Z){return(R||(R=a.n5z(F)))(Z||F)}}(),F.\u0275dir=a.lG2({type:F,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(O,Z){2&O&&a.uIk("pattern",Z._enabled?Z.pattern:null)},inputs:{pattern:"pattern"},features:[a._Bn([Qs]),a.qOj]}),F})(),Js=(()=>{class F{}return F.\u0275fac=function(O){return new(O||F)},F.\u0275mod=a.oAB({type:F}),F.\u0275inj=a.cJS({imports:[tr]}),F})(),Ds=(()=>{class F{}return F.\u0275fac=function(O){return new(O||F)},F.\u0275mod=a.oAB({type:F}),F.\u0275inj=a.cJS({imports:[Js]}),F})()},1481:(Qt,at,P)=>{"use strict";P.d(at,{Dx:()=>Rr,b2:()=>nr,q6:()=>Tn});var a=P(6895),U=P(6353);class V extends a.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ve extends V{static makeCurrent(){(0,a.HT)(new ve)}onAndCancel(ke,we,Fe){return ke.addEventListener(we,Fe,!1),()=>{ke.removeEventListener(we,Fe,!1)}}dispatchEvent(ke,we){ke.dispatchEvent(we)}remove(ke){ke.parentNode&&ke.parentNode.removeChild(ke)}createElement(ke,we){return(we=we||this.getDefaultDocument()).createElement(ke)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ke){return ke.nodeType===Node.ELEMENT_NODE}isShadowRoot(ke){return ke instanceof DocumentFragment}getGlobalEventTarget(ke,we){return"window"===we?window:"document"===we?ke:"body"===we?ke.body:null}getBaseHref(ke){const we=function se(){return _e=_e||document.querySelector("base"),_e?_e.getAttribute("href"):null}();return null==we?null:function le(nt){oe=oe||document.createElement("a"),oe.setAttribute("href",nt);const ke=oe.pathname;return"/"===ke.charAt(0)?ke:`/${ke}`}(we)}resetBaseElement(){_e=null}getUserAgent(){return window.navigator.userAgent}getCookie(ke){return(0,a.Mx)(document.cookie,ke)}}let oe,_e=null;const ie=new U.OlP("TRANSITION_ID"),K=[{provide:U.ip1,useFactory:function te(nt,ke,we){return()=>{we.get(U.CZH).donePromise.then(()=>{const Fe=(0,a.q)(),Je=ke.querySelectorAll(`style[ng-transition="${nt}"]`);for(let Zt=0;Zt<Je.length;Zt++)Fe.remove(Je[Zt])})}},deps:[ie,a.K0,U.zs3],multi:!0}];let ue=(()=>{class nt{build(){return new XMLHttpRequest}}return nt.\u0275fac=function(we){return new(we||nt)},nt.\u0275prov=U.Yz7({token:nt,factory:nt.\u0275fac}),nt})();const $e=new U.OlP("EventManagerPlugins");let Be=(()=>{class nt{constructor(we,Fe){this._zone=Fe,this._eventNameToPlugin=new Map,we.forEach(Je=>Je.manager=this),this._plugins=we.slice().reverse()}addEventListener(we,Fe,Je){return this._findPluginFor(Fe).addEventListener(we,Fe,Je)}addGlobalEventListener(we,Fe,Je){return this._findPluginFor(Fe).addGlobalEventListener(we,Fe,Je)}getZone(){return this._zone}_findPluginFor(we){const Fe=this._eventNameToPlugin.get(we);if(Fe)return Fe;const Je=this._plugins;for(let Zt=0;Zt<Je.length;Zt++){const Cn=Je[Zt];if(Cn.supports(we))return this._eventNameToPlugin.set(we,Cn),Cn}throw new Error(`No event manager plugin found for event ${we}`)}}return nt.\u0275fac=function(we){return new(we||nt)(U.LFG($e),U.LFG(U.R0b))},nt.\u0275prov=U.Yz7({token:nt,factory:nt.\u0275fac}),nt})();class ae{constructor(ke){this._doc=ke}addGlobalEventListener(ke,we,Fe){const Je=(0,a.q)().getGlobalEventTarget(this._doc,ke);if(!Je)throw new Error(`Unsupported event target ${Je} for event ${we}`);return this.addEventListener(Je,we,Fe)}}let Ve=(()=>{class nt{constructor(){this._stylesSet=new Set}addStyles(we){const Fe=new Set;we.forEach(Je=>{this._stylesSet.has(Je)||(this._stylesSet.add(Je),Fe.add(Je))}),this.onStylesAdded(Fe)}onStylesAdded(we){}getAllStyles(){return Array.from(this._stylesSet)}}return nt.\u0275fac=function(we){return new(we||nt)},nt.\u0275prov=U.Yz7({token:nt,factory:nt.\u0275fac}),nt})(),De=(()=>{class nt extends Ve{constructor(we){super(),this._doc=we,this._hostNodes=new Map,this._hostNodes.set(we.head,[])}_addStylesToHost(we,Fe,Je){we.forEach(Zt=>{const Cn=this._doc.createElement("style");Cn.textContent=Zt,Je.push(Fe.appendChild(Cn))})}addHost(we){const Fe=[];this._addStylesToHost(this._stylesSet,we,Fe),this._hostNodes.set(we,Fe)}removeHost(we){const Fe=this._hostNodes.get(we);Fe&&Fe.forEach(ht),this._hostNodes.delete(we)}onStylesAdded(we){this._hostNodes.forEach((Fe,Je)=>{this._addStylesToHost(we,Je,Fe)})}ngOnDestroy(){this._hostNodes.forEach(we=>we.forEach(ht))}}return nt.\u0275fac=function(we){return new(we||nt)(U.LFG(a.K0))},nt.\u0275prov=U.Yz7({token:nt,factory:nt.\u0275fac}),nt})();function ht(nt){(0,a.q)().remove(nt)}const J={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},st=/%COMP%/g;function ye(nt,ke,we){for(let Fe=0;Fe<ke.length;Fe++){let Je=ke[Fe];Array.isArray(Je)?ye(nt,Je,we):(Je=Je.replace(st,nt),we.push(Je))}return we}function q(nt){return ke=>{if("__ngUnwrap__"===ke)return nt;!1===nt(ke)&&(ke.preventDefault(),ke.returnValue=!1)}}let ne=(()=>{class nt{constructor(we,Fe,Je){this.eventManager=we,this.sharedStylesHost=Fe,this.appId=Je,this.rendererByCompId=new Map,this.defaultRenderer=new ct(we)}createRenderer(we,Fe){if(!we||!Fe)return this.defaultRenderer;switch(Fe.encapsulation){case U.ifc.Emulated:{let Je=this.rendererByCompId.get(Fe.id);return Je||(Je=new dt(this.eventManager,this.sharedStylesHost,Fe,this.appId),this.rendererByCompId.set(Fe.id,Je)),Je.applyToHost(we),Je}case 1:case U.ifc.ShadowDom:return new qe(this.eventManager,this.sharedStylesHost,we,Fe);default:if(!this.rendererByCompId.has(Fe.id)){const Je=ye(Fe.id,Fe.styles,[]);this.sharedStylesHost.addStyles(Je),this.rendererByCompId.set(Fe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return nt.\u0275fac=function(we){return new(we||nt)(U.LFG(Be),U.LFG(De),U.LFG(U.AFp))},nt.\u0275prov=U.Yz7({token:nt,factory:nt.\u0275fac}),nt})();class ct{constructor(ke){this.eventManager=ke,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ke,we){return we?document.createElementNS(J[we]||we,ke):document.createElement(ke)}createComment(ke){return document.createComment(ke)}createText(ke){return document.createTextNode(ke)}appendChild(ke,we){(ut(ke)?ke.content:ke).appendChild(we)}insertBefore(ke,we,Fe){ke&&(ut(ke)?ke.content:ke).insertBefore(we,Fe)}removeChild(ke,we){ke&&ke.removeChild(we)}selectRootElement(ke,we){let Fe="string"==typeof ke?document.querySelector(ke):ke;if(!Fe)throw new Error(`The selector "${ke}" did not match any elements`);return we||(Fe.textContent=""),Fe}parentNode(ke){return ke.parentNode}nextSibling(ke){return ke.nextSibling}setAttribute(ke,we,Fe,Je){if(Je){we=Je+":"+we;const Zt=J[Je];Zt?ke.setAttributeNS(Zt,we,Fe):ke.setAttribute(we,Fe)}else ke.setAttribute(we,Fe)}removeAttribute(ke,we,Fe){if(Fe){const Je=J[Fe];Je?ke.removeAttributeNS(Je,we):ke.removeAttribute(`${Fe}:${we}`)}else ke.removeAttribute(we)}addClass(ke,we){ke.classList.add(we)}removeClass(ke,we){ke.classList.remove(we)}setStyle(ke,we,Fe,Je){Je&(U.JOm.DashCase|U.JOm.Important)?ke.style.setProperty(we,Fe,Je&U.JOm.Important?"important":""):ke.style[we]=Fe}removeStyle(ke,we,Fe){Fe&U.JOm.DashCase?ke.style.removeProperty(we):ke.style[we]=""}setProperty(ke,we,Fe){ke[we]=Fe}setValue(ke,we){ke.nodeValue=we}listen(ke,we,Fe){return"string"==typeof ke?this.eventManager.addGlobalEventListener(ke,we,q(Fe)):this.eventManager.addEventListener(ke,we,q(Fe))}}function ut(nt){return"TEMPLATE"===nt.tagName&&void 0!==nt.content}class dt extends ct{constructor(ke,we,Fe,Je){super(ke),this.component=Fe;const Zt=ye(Je+"-"+Fe.id,Fe.styles,[]);we.addStyles(Zt),this.contentAttr=function Re(nt){return"_ngcontent-%COMP%".replace(st,nt)}(Je+"-"+Fe.id),this.hostAttr=function Ie(nt){return"_nghost-%COMP%".replace(st,nt)}(Je+"-"+Fe.id)}applyToHost(ke){super.setAttribute(ke,this.hostAttr,"")}createElement(ke,we){const Fe=super.createElement(ke,we);return super.setAttribute(Fe,this.contentAttr,""),Fe}}class qe extends ct{constructor(ke,we,Fe,Je){super(ke),this.sharedStylesHost=we,this.hostEl=Fe,this.shadowRoot=Fe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Zt=ye(Je.id,Je.styles,[]);for(let Cn=0;Cn<Zt.length;Cn++){const mr=document.createElement("style");mr.textContent=Zt[Cn],this.shadowRoot.appendChild(mr)}}nodeOrShadowRoot(ke){return ke===this.hostEl?this.shadowRoot:ke}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ke,we){return super.appendChild(this.nodeOrShadowRoot(ke),we)}insertBefore(ke,we,Fe){return super.insertBefore(this.nodeOrShadowRoot(ke),we,Fe)}removeChild(ke,we){return super.removeChild(this.nodeOrShadowRoot(ke),we)}parentNode(ke){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ke)))}}let Me=(()=>{class nt extends ae{constructor(we){super(we)}supports(we){return!0}addEventListener(we,Fe,Je){return we.addEventListener(Fe,Je,!1),()=>this.removeEventListener(we,Fe,Je)}removeEventListener(we,Fe,Je){return we.removeEventListener(Fe,Je)}}return nt.\u0275fac=function(we){return new(we||nt)(U.LFG(a.K0))},nt.\u0275prov=U.Yz7({token:nt,factory:nt.\u0275fac}),nt})();const Ge=["alt","control","meta","shift"],je={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ft={alt:nt=>nt.altKey,control:nt=>nt.ctrlKey,meta:nt=>nt.metaKey,shift:nt=>nt.shiftKey};let Lt=(()=>{class nt extends ae{constructor(we){super(we)}supports(we){return null!=nt.parseEventName(we)}addEventListener(we,Fe,Je){const Zt=nt.parseEventName(Fe),Cn=nt.eventCallback(Zt.fullKey,Je,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.q)().onAndCancel(we,Zt.domEventName,Cn))}static parseEventName(we){const Fe=we.toLowerCase().split("."),Je=Fe.shift();if(0===Fe.length||"keydown"!==Je&&"keyup"!==Je)return null;const Zt=nt._normalizeKey(Fe.pop());let Cn="",mr=Fe.indexOf("code");if(mr>-1&&(Fe.splice(mr,1),Cn="code."),Ge.forEach(be=>{const Ce=Fe.indexOf(be);Ce>-1&&(Fe.splice(Ce,1),Cn+=be+".")}),Cn+=Zt,0!=Fe.length||0===Zt.length)return null;const zn={};return zn.domEventName=Je,zn.fullKey=Cn,zn}static matchEventFullKeyCode(we,Fe){let Je=je[we.key]||we.key,Zt="";return Fe.indexOf("code.")>-1&&(Je=we.code,Zt="code."),!(null==Je||!Je)&&(Je=Je.toLowerCase()," "===Je?Je="space":"."===Je&&(Je="dot"),Ge.forEach(Cn=>{Cn!==Je&&(0,ft[Cn])(we)&&(Zt+=Cn+".")}),Zt+=Je,Zt===Fe)}static eventCallback(we,Fe,Je){return Zt=>{nt.matchEventFullKeyCode(Zt,we)&&Je.runGuarded(()=>Fe(Zt))}}static _normalizeKey(we){return"esc"===we?"escape":we}}return nt.\u0275fac=function(we){return new(we||nt)(U.LFG(a.K0))},nt.\u0275prov=U.Yz7({token:nt,factory:nt.\u0275fac}),nt})();const Tn=(0,U.eFA)(U._c5,"browser",[{provide:U.Lbi,useValue:a.bD},{provide:U.g9A,useValue:function yn(){ve.makeCurrent()},multi:!0},{provide:a.K0,useFactory:function xr(){return(0,U.RDi)(document),document},deps:[]}]),bt=new U.OlP(""),Fn=[{provide:U.rWj,useClass:class de{addToWindow(ke){U.dqk.getAngularTestability=(Fe,Je=!0)=>{const Zt=ke.findTestabilityInTree(Fe,Je);if(null==Zt)throw new Error("Could not find testability for element.");return Zt},U.dqk.getAllAngularTestabilities=()=>ke.getAllTestabilities(),U.dqk.getAllAngularRootElements=()=>ke.getAllRootElements(),U.dqk.frameworkStabilizers||(U.dqk.frameworkStabilizers=[]),U.dqk.frameworkStabilizers.push(Fe=>{const Je=U.dqk.getAllAngularTestabilities();let Zt=Je.length,Cn=!1;const mr=function(zn){Cn=Cn||zn,Zt--,0==Zt&&Fe(Cn)};Je.forEach(function(zn){zn.whenStable(mr)})})}findTestabilityInTree(ke,we,Fe){return null==we?null:ke.getTestability(we)??(Fe?(0,a.q)().isShadowRoot(we)?this.findTestabilityInTree(ke,we.host,!0):this.findTestabilityInTree(ke,we.parentElement,!0):null)}},deps:[]},{provide:U.lri,useClass:U.dDg,deps:[U.R0b,U.eoX,U.rWj]},{provide:U.dDg,useClass:U.dDg,deps:[U.R0b,U.eoX,U.rWj]}],ar=[{provide:U.zSh,useValue:"root"},{provide:U.qLn,useFactory:function Rn(){return new U.qLn},deps:[]},{provide:$e,useClass:Me,multi:!0,deps:[a.K0,U.R0b,U.Lbi]},{provide:$e,useClass:Lt,multi:!0,deps:[a.K0]},{provide:ne,useClass:ne,deps:[Be,De,U.AFp]},{provide:U.FYo,useExisting:ne},{provide:Ve,useExisting:De},{provide:De,useClass:De,deps:[a.K0]},{provide:Be,useClass:Be,deps:[$e,U.R0b]},{provide:a.JF,useClass:ue,deps:[]},[]];let nr=(()=>{class nt{constructor(we){}static withServerTransition(we){return{ngModule:nt,providers:[{provide:U.AFp,useValue:we.appId},{provide:ie,useExisting:U.AFp},K]}}}return nt.\u0275fac=function(we){return new(we||nt)(U.LFG(bt,12))},nt.\u0275mod=U.oAB({type:nt}),nt.\u0275inj=U.cJS({providers:[...ar,...Fn],imports:[a.ez,U.hGG]}),nt})(),Rr=(()=>{class nt{constructor(we){this._doc=we}getTitle(){return this._doc.title}setTitle(we){this._doc.title=we||""}}return nt.\u0275fac=function(we){return new(we||nt)(U.LFG(a.K0))},nt.\u0275prov=U.Yz7({token:nt,factory:function(we){let Fe=null;return Fe=we?new we:function Jn(){return new Rr((0,U.LFG)(a.K0))}(),Fe},providedIn:"root"}),nt})();typeof window<"u"&&window},1519:(Qt,at,P)=>{"use strict";P.d(at,{gz:()=>zr,y6:()=>Pi,OD:()=>tr,eC:()=>dn,wm:()=>Tu,wN:()=>mn,F0:()=>mi,rH:()=>co,Od:()=>Qu,Bz:()=>fa,Hx:()=>nt});var a=P(6353),U=P(2866),V=P(6688),ve=P(3489);class _e extends ve.L{notifyNext(b,v,A,L,W){this.destination.next(v)}notifyError(b,v){this.destination.error(b)}notifyComplete(b){this.destination.complete()}}class se extends ve.L{constructor(b,v,A){super(),this.parent=b,this.outerValue=v,this.outerIndex=A,this.index=0}_next(b){this.parent.notifyNext(this.outerValue,b,this.outerIndex,this.index++,this)}_error(b){this.parent.notifyError(b,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var oe=P(9249),le=P(6498);function ie(E,b,v,A,L=new se(E,v,A)){if(!L.closed)return b instanceof le.y?b.subscribe(L):(0,oe.s)(b)(L)}var te=P(3009);const K={};function de(...E){let b,v;return(0,U.K)(E[E.length-1])&&(v=E.pop()),"function"==typeof E[E.length-1]&&(b=E.pop()),1===E.length&&(0,V.k)(E[0])&&(E=E[0]),(0,te.n)(E,v).lift(new ue(b))}class ue{constructor(b){this.resultSelector=b}call(b,v){return v.subscribe(new $e(b,this.resultSelector))}}class $e extends _e{constructor(b,v){super(b),this.resultSelector=v,this.active=0,this.values=[],this.observables=[]}_next(b){this.values.push(K),this.observables.push(b)}_complete(){const b=this.observables,v=b.length;if(0===v)this.destination.complete();else{this.active=v,this.toRespond=v;for(let A=0;A<v;A++)this.add(ie(this,b[A],void 0,A))}}notifyComplete(b){0==(this.active-=1)&&this.destination.complete()}notifyNext(b,v,A){const L=this.values,Te=this.toRespond?L[A]===K?--this.toRespond:this.toRespond:0;L[A]=v,0===Te&&(this.resultSelector?this._tryResultSelector(L):this.destination.next(L.slice()))}_tryResultSelector(b){let v;try{v=this.resultSelector.apply(this,b)}catch(A){return void this.destination.error(A)}this.destination.next(v)}}var Be=P(5254),ae=P(1086),Ve=P(591),De=P(4450),ht=P(1221),J=P(8514),st=P(4843),wt=P(1737),St=P(8896),Qe=P(1762),Ae=P(8929),Re=P(6895),Ie=P(1709);function ye(E,b){return(0,Ie.zg)(E,b,1)}var q=P(1177);function he(E){return function(v){const A=new ne(E),L=v.lift(A);return A.caught=L}}class ne{constructor(b){this.selector=b}call(b,v){return v.subscribe(new ct(b,this.selector,this.caught))}}class ct extends q.Ds{constructor(b,v,A){super(b),this.selector=v,this.caught=A}error(b){if(!this.isStopped){let v;try{v=this.selector(b,this.caught)}catch(W){return void super.error(W)}this._unsubscribeAndRecycle();const A=new q.IY(this);this.add(A);const L=(0,q.ft)(v,A);L!==A&&this.add(L)}}}var pt=P(2198),Vt=P(4231);function ut(E){return function(v){return 0===E?(0,St.c)():v.lift(new dt(E))}}class dt{constructor(b){if(this.total=b,this.total<0)throw new Vt.W}call(b,v){return v.subscribe(new qe(b,this.total))}}class qe extends ve.L{constructor(b,v){super(b),this.total=v,this.ring=new Array,this.count=0}_next(b){const v=this.ring,A=this.total,L=this.count++;v.length<A?v.push(b):v[L%A]=b}_complete(){const b=this.destination;let v=this.count;if(v>0){const A=this.count>=this.total?this.total:this.count,L=this.ring;for(let W=0;W<A;W++){const Te=v++%A;b.next(L[Te])}}b.complete()}}var Me=P(4907),Ge=P(7314),je=P(5379);function ft(E,b){const v=arguments.length>=2;return A=>A.pipe(E?(0,pt.h)((L,W)=>E(L,W,A)):je.y,ut(1),v?(0,Ge.d)(b):(0,Me.T)(()=>new De.K))}class gt{constructor(b,v){this.predicate=b,this.inclusive=v}call(b,v){return v.subscribe(new Yt(b,this.predicate,this.inclusive))}}class Yt extends ve.L{constructor(b,v,A){super(b),this.predicate=v,this.inclusive=A,this.index=0}_next(b){const v=this.destination;let A;try{A=this.predicate(b,this.index++)}catch(L){return void v.error(L)}this.nextOrComplete(b,A)}nextOrComplete(b,v){const A=this.destination;Boolean(v)?A.next(b):(this.inclusive&&A.next(b),A.complete())}}class Dn{constructor(b){this.value=b}call(b,v){return v.subscribe(new wn(b,this.value))}}class wn extends ve.L{constructor(b,v){super(b),this.value=v}_next(b){this.destination.next(this.value)}}var yn=P(2654);function Rn(E){return b=>b.lift(new xr(E))}class xr{constructor(b){this.callback=b}call(b,v){return v.subscribe(new sn(b,this.callback))}}class sn extends ve.L{constructor(b,v){super(b),this.add(new yn.w(v))}}var Tn=P(4850),bt=P(7545),Fn=P(2986),ar=P(1059),nr=P(7224),Ut=P(2994),ur=P(2014),Dr=P(4327),Jn=P(9146),Rr=P(1481);const dn="primary",en=Symbol("RouteTitle");class hn{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const v=this.params[b];return Array.isArray(v)?v[0]:v}return null}getAll(b){if(this.has(b)){const v=this.params[b];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function hr(E){return new hn(E)}function _r(E,b,v){const A=v.path.split("/");if(A.length>E.length||"full"===v.pathMatch&&(b.hasChildren()||A.length<E.length))return null;const L={};for(let W=0;W<A.length;W++){const Te=A[W],w=E[W];if(Te.startsWith(":"))L[Te.substring(1)]=w;else if(Te!==w.path)return null}return{consumed:E.slice(0,A.length),posParams:L}}function xn(E,b){const v=E?Object.keys(E):void 0,A=b?Object.keys(b):void 0;if(!v||!A||v.length!=A.length)return!1;let L;for(let W=0;W<v.length;W++)if(L=v[W],!Cr(E[L],b[L]))return!1;return!0}function Cr(E,b){if(Array.isArray(E)&&Array.isArray(b)){if(E.length!==b.length)return!1;const v=[...E].sort(),A=[...b].sort();return v.every((L,W)=>A[W]===L)}return E===b}function Lr(E){return Array.prototype.concat.apply([],E)}function Pn(E){return E.length>0?E[E.length-1]:null}function bn(E,b){for(const v in E)E.hasOwnProperty(v)&&b(E[v],v)}function Ze(E){return(0,a.CqO)(E)?E:(0,a.QGY)(E)?(0,Be.D)(Promise.resolve(E)):(0,ae.of)(E)}const Le={exact:function pn(E,b,v){if(!an(E.segments,b.segments)||!it(E.segments,b.segments,v)||E.numberOfChildren!==b.numberOfChildren)return!1;for(const A in b.children)if(!E.children[A]||!pn(E.children[A],b.children[A],v))return!1;return!0},subset:$n},Ue={exact:function jt(E,b){return xn(E,b)},subset:function Gn(E,b){return Object.keys(b).length<=Object.keys(E).length&&Object.keys(b).every(v=>Cr(E[v],b[v]))},ignored:()=>!0};function Tt(E,b,v){return Le[v.paths](E.root,b.root,v.matrixParams)&&Ue[v.queryParams](E.queryParams,b.queryParams)&&!("exact"===v.fragment&&E.fragment!==b.fragment)}function $n(E,b,v){return er(E,b,b.segments,v)}function er(E,b,v,A){if(E.segments.length>v.length){const L=E.segments.slice(0,v.length);return!(!an(L,v)||b.hasChildren()||!it(L,v,A))}if(E.segments.length===v.length){if(!an(E.segments,v)||!it(E.segments,v,A))return!1;for(const L in b.children)if(!E.children[L]||!$n(E.children[L],b.children[L],A))return!1;return!0}{const L=v.slice(0,E.segments.length),W=v.slice(E.segments.length);return!!(an(E.segments,L)&&it(E.segments,L,A)&&E.children[dn])&&er(E.children[dn],b,W,A)}}function it(E,b,v){return b.every((A,L)=>Ue[v](E[L].parameters,A.parameters))}class He{constructor(b,v,A){this.root=b,this.queryParams=v,this.fragment=A}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hr(this.queryParams)),this._queryParamMap}toString(){return we.serialize(this)}}class Se{constructor(b,v){this.segments=b,this.children=v,this.parent=null,bn(v,(A,L)=>A.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fe(this)}}class Rt{constructor(b,v){this.path=b,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=hr(this.parameters)),this._parameterMap}toString(){return Ye(this)}}function an(E,b){return E.length===b.length&&E.every((v,A)=>v.path===b[A].path)}let nt=(()=>{class E{}return E.\u0275fac=function(v){return new(v||E)},E.\u0275prov=a.Yz7({token:E,factory:function(){return new ke},providedIn:"root"}),E})();class ke{parse(b){const v=new rr(b);return new He(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(b){const v=`/${Je(b.root,!0)}`,A=function Ct(E){const b=Object.keys(E).map(v=>{const A=E[v];return Array.isArray(A)?A.map(L=>`${Cn(v)}=${Cn(L)}`).join("&"):`${Cn(v)}=${Cn(A)}`}).filter(v=>!!v);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${v}${A}${"string"==typeof b.fragment?`#${function mr(E){return encodeURI(E)}(b.fragment)}`:""}`}}const we=new ke;function Fe(E){return E.segments.map(b=>Ye(b)).join("/")}function Je(E,b){if(!E.hasChildren())return Fe(E);if(b){const v=E.children[dn]?Je(E.children[dn],!1):"",A=[];return bn(E.children,(L,W)=>{W!==dn&&A.push(`${W}:${Je(L,!1)}`)}),A.length>0?`${v}(${A.join("//")})`:v}{const v=function Mn(E,b){let v=[];return bn(E.children,(A,L)=>{L===dn&&(v=v.concat(b(A,L)))}),bn(E.children,(A,L)=>{L!==dn&&(v=v.concat(b(A,L)))}),v}(E,(A,L)=>L===dn?[Je(E.children[dn],!1)]:[`${L}:${Je(A,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[dn]?`${Fe(E)}/${v[0]}`:`${Fe(E)}/(${v.join("//")})`}}function Zt(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cn(E){return Zt(E).replace(/%3B/gi,";")}function zn(E){return Zt(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function be(E){return decodeURIComponent(E)}function Ce(E){return be(E.replace(/\+/g,"%20"))}function Ye(E){return`${zn(E.path)}${function yt(E){return Object.keys(E).map(b=>`;${zn(b)}=${zn(E[b])}`).join("")}(E.parameters)}`}const _n=/^[^\/()?;=#]+/;function rn(E){const b=E.match(_n);return b?b[0]:""}const cr=/^[^=?&#]+/,Qn=/^[^&#]+/;class rr{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let A={};return this.peekStartsWith("(")&&(A=this.parseParens(!1)),(b.length>0||Object.keys(v).length>0)&&(A[dn]=new Se(b,v)),A}parseSegment(){const b=rn(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(b),new Rt(be(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const v=rn(this.remaining);if(!v)return;this.capture(v);let A="";if(this.consumeOptional("=")){const L=rn(this.remaining);L&&(A=L,this.capture(A))}b[be(v)]=be(A)}parseQueryParam(b){const v=function Xn(E){const b=E.match(cr);return b?b[0]:""}(this.remaining);if(!v)return;this.capture(v);let A="";if(this.consumeOptional("=")){const Te=function Sn(E){const b=E.match(Qn);return b?b[0]:""}(this.remaining);Te&&(A=Te,this.capture(A))}const L=Ce(v),W=Ce(A);if(b.hasOwnProperty(L)){let Te=b[L];Array.isArray(Te)||(Te=[Te],b[L]=Te),Te.push(W)}else b[L]=W}parseParens(b){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const A=rn(this.remaining),L=this.remaining[A.length];if("/"!==L&&")"!==L&&";"!==L)throw new a.vHH(4010,!1);let W;A.indexOf(":")>-1?(W=A.slice(0,A.indexOf(":")),this.capture(W),this.capture(":")):b&&(W=dn);const Te=this.parseChildren();v[W]=1===Object.keys(Te).length?Te[dn]:new Se([],Te),this.consumeOptional("//")}return v}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new a.vHH(4011,!1)}}function Mr(E){return E.segments.length>0?new Se([],{[dn]:E}):E}function ei(E){const b={};for(const A of Object.keys(E.children)){const W=ei(E.children[A]);(W.segments.length>0||W.hasChildren())&&(b[A]=W)}return function ai(E){if(1===E.numberOfChildren&&E.children[dn]){const b=E.children[dn];return new Se(E.segments.concat(b.segments),b.children)}return E}(new Se(E.segments,b))}function lr(E){return E instanceof He}function ge(E,b,v,A,L){if(0===v.length)return fe(b.root,b.root,b.root,A,L);const W=function Ot(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new rt(!0,0,E);let b=0,v=!1;const A=E.reduce((L,W,Te)=>{if("object"==typeof W&&null!=W){if(W.outlets){const w={};return bn(W.outlets,(T,H)=>{w[H]="string"==typeof T?T.split("/"):T}),[...L,{outlets:w}]}if(W.segmentPath)return[...L,W.segmentPath]}return"string"!=typeof W?[...L,W]:0===Te?(W.split("/").forEach((w,T)=>{0==T&&"."===w||(0==T&&""===w?v=!0:".."===w?b++:""!=w&&L.push(w))}),L):[...L,W]},[]);return new rt(v,b,A)}(v);return W.toRoot()?fe(b.root,b.root,new Se([],{}),A,L):function Te(T){const H=function cn(E,b,v,A){if(E.isAbsolute)return new Pt(b.root,!0,0);if(-1===A)return new Pt(v,v===b.root,0);return function vn(E,b,v){let A=E,L=b,W=v;for(;W>L;){if(W-=L,A=A.parent,!A)throw new a.vHH(4005,!1);L=A.segments.length}return new Pt(A,!1,L-W)}(v,A+(Xe(E.commands[0])?0:1),E.numberOfDoubleDots)}(W,b,E.snapshot?._urlSegment,T),me=H.processChildren?Sr(H.segmentGroup,H.index,W.commands):Ir(H.segmentGroup,H.index,W.commands);return fe(b.root,H.segmentGroup,me,A,L)}(E.snapshot?._lastPathIndex)}function Xe(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function ot(E){return"object"==typeof E&&null!=E&&E.outlets}function fe(E,b,v,A,L){let Te,W={};A&&bn(A,(T,H)=>{W[H]=Array.isArray(T)?T.map(me=>`${me}`):`${T}`}),Te=E===b?v:Pe(E,b,v);const w=Mr(ei(Te));return new He(w,W,L)}function Pe(E,b,v){const A={};return bn(E.children,(L,W)=>{A[W]=L===b?v:Pe(L,b,v)}),new Se(E.segments,A)}class rt{constructor(b,v,A){if(this.isAbsolute=b,this.numberOfDoubleDots=v,this.commands=A,b&&A.length>0&&Xe(A[0]))throw new a.vHH(4003,!1);const L=A.find(ot);if(L&&L!==Pn(A))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pt{constructor(b,v,A){this.segmentGroup=b,this.processChildren=v,this.index=A}}function Ir(E,b,v){if(E||(E=new Se([],{})),0===E.segments.length&&E.hasChildren())return Sr(E,b,v);const A=function et(E,b,v){let A=0,L=b;const W={match:!1,pathIndex:0,commandIndex:0};for(;L<E.segments.length;){if(A>=v.length)return W;const Te=E.segments[L],w=v[A];if(ot(w))break;const T=`${w}`,H=A<v.length-1?v[A+1]:null;if(L>0&&void 0===T)break;if(T&&H&&"object"==typeof H&&void 0===H.outlets){if(!tn(T,H,Te))return W;A+=2}else{if(!tn(T,{},Te))return W;A++}L++}return{match:!0,pathIndex:L,commandIndex:A}}(E,b,v),L=v.slice(A.commandIndex);if(A.match&&A.pathIndex<E.segments.length){const W=new Se(E.segments.slice(0,A.pathIndex),{});return W.children[dn]=new Se(E.segments.slice(A.pathIndex),E.children),Sr(W,0,L)}return A.match&&0===L.length?new Se(E.segments,{}):A.match&&!E.hasChildren()?Ke(E,b,v):A.match?Sr(E,0,L):Ke(E,b,v)}function Sr(E,b,v){if(0===v.length)return new Se(E.segments,{});{const A=function jn(E){return ot(E[0])?E[0].outlets:{[dn]:E}}(v),L={};return bn(A,(W,Te)=>{"string"==typeof W&&(W=[W]),null!==W&&(L[Te]=Ir(E.children[Te],b,W))}),bn(E.children,(W,Te)=>{void 0===A[Te]&&(L[Te]=W)}),new Se(E.segments,L)}}function Ke(E,b,v){const A=E.segments.slice(0,b);let L=0;for(;L<v.length;){const W=v[L];if(ot(W)){const T=_t(W.outlets);return new Se(A,T)}if(0===L&&Xe(v[0])){A.push(new Rt(E.segments[b].path,Nt(v[0]))),L++;continue}const Te=ot(W)?W.outlets[dn]:`${W}`,w=L<v.length-1?v[L+1]:null;Te&&w&&Xe(w)?(A.push(new Rt(Te,Nt(w))),L+=2):(A.push(new Rt(Te,{})),L++)}return new Se(A,{})}function _t(E){const b={};return bn(E,(v,A)=>{"string"==typeof v&&(v=[v]),null!==v&&(b[A]=Ke(new Se([],{}),0,v))}),b}function Nt(E){const b={};return bn(E,(v,A)=>b[A]=`${v}`),b}function tn(E,b,v){return E==v.path&&xn(b,v.parameters)}class un{constructor(b,v){this.id=b,this.url=v}}class tr extends un{constructor(b,v,A="imperative",L=null){super(b,v),this.type=0,this.navigationTrigger=A,this.restoredState=L}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ur extends un{constructor(b,v,A){super(b,v),this.urlAfterRedirects=A,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yr extends un{constructor(b,v,A,L){super(b,v),this.reason=A,this.code=L,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fi extends un{constructor(b,v,A,L){super(b,v),this.error=A,this.target=L,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ls extends un{constructor(b,v,A,L){super(b,v),this.urlAfterRedirects=A,this.state=L,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Oi extends un{constructor(b,v,A,L){super(b,v),this.urlAfterRedirects=A,this.state=L,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Us extends un{constructor(b,v,A,L,W){super(b,v),this.urlAfterRedirects=A,this.state=L,this.shouldActivate=W,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ds extends un{constructor(b,v,A,L){super(b,v),this.urlAfterRedirects=A,this.state=L,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bs extends un{constructor(b,v,A,L){super(b,v),this.urlAfterRedirects=A,this.state=L,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ms{constructor(b){this.route=b,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Hi{constructor(b){this.route=b,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Li{constructor(b){this.snapshot=b,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Os{constructor(b){this.snapshot=b,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hs{constructor(b){this.snapshot=b,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qi{constructor(b){this.snapshot=b,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gi{constructor(b,v,A){this.routerEvent=b,this.position=v,this.anchor=A,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class io{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const v=this.pathFromRoot(b);return v.length>1?v[v.length-2]:null}children(b){const v=rs(b,this._root);return v?v.children.map(A=>A.value):[]}firstChild(b){const v=rs(b,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(b){const v=go(b,this._root);return v.length<2?[]:v[v.length-2].children.map(L=>L.value).filter(L=>L!==b)}pathFromRoot(b){return go(b,this._root).map(v=>v.value)}}function rs(E,b){if(E===b.value)return b;for(const v of b.children){const A=rs(E,v);if(A)return A}return null}function go(E,b){if(E===b.value)return[b];for(const v of b.children){const A=go(E,v);if(A.length)return A.unshift(b),A}return[]}class Vr{constructor(b,v){this.value=b,this.children=v}toString(){return`TreeNode(${this.value})`}}function ii(E){const b={};return E&&E.children.forEach(v=>b[v.value.outlet]=v),b}class js extends io{constructor(b,v){super(b),this.snapshot=v,_i(this,b)}toString(){return this.snapshot.toString()}}function Vi(E,b){const v=function di(E,b){const Te=new Ii([],{},{},"",{},dn,b,null,E.root,-1,{});return new Rs("",new Vr(Te,[]))}(E,b),A=new Ve.X([new Rt("",{})]),L=new Ve.X({}),W=new Ve.X({}),Te=new Ve.X({}),w=new Ve.X(""),T=new zr(A,L,Te,w,W,dn,b,v.root);return T.snapshot=v.root,new js(new Vr(T,[]),v)}class zr{constructor(b,v,A,L,W,Te,w,T){this.url=b,this.params=v,this.queryParams=A,this.fragment=L,this.data=W,this.outlet=Te,this.component=w,this.title=this.data?.pipe((0,Tn.U)(H=>H[en]))??(0,ae.of)(void 0),this._futureSnapshot=T}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Tn.U)(b=>hr(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Tn.U)(b=>hr(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hs(E,b="emptyOnly"){const v=E.pathFromRoot;let A=0;if("always"!==b)for(A=v.length-1;A>=1;){const L=v[A],W=v[A-1];if(L.routeConfig&&""===L.routeConfig.path)A--;else{if(W.component)break;A--}}return function Gs(E){return E.reduce((b,v)=>({params:{...b.params,...v.params},data:{...b.data,...v.data},resolve:{...v.data,...b.resolve,...v.routeConfig?.data,...v._resolvedData}}),{params:{},data:{},resolve:{}})}(v.slice(A))}class Ii{constructor(b,v,A,L,W,Te,w,T,H,me,Oe,lt){this.url=b,this.params=v,this.queryParams=A,this.fragment=L,this.data=W,this.outlet=Te,this.component=w,this.title=this.data?.[en],this.routeConfig=T,this._urlSegment=H,this._lastPathIndex=me,this._correctedLastPathIndex=lt??me,this._resolve=Oe}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(A=>A.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rs extends io{constructor(b,v){super(v),this.url=b,_i(this,v)}toString(){return Nr(this._root)}}function _i(E,b){b.value._routerState=E,b.children.forEach(v=>_i(E,v))}function Nr(E){const b=E.children.length>0?` { ${E.children.map(Nr).join(", ")} } `:"";return`${E.value}${b}`}function Is(E){if(E.snapshot){const b=E.snapshot,v=E._futureSnapshot;E.snapshot=v,xn(b.queryParams,v.queryParams)||E.queryParams.next(v.queryParams),b.fragment!==v.fragment&&E.fragment.next(v.fragment),xn(b.params,v.params)||E.params.next(v.params),function ir(E,b){if(E.length!==b.length)return!1;for(let v=0;v<E.length;++v)if(!xn(E[v],b[v]))return!1;return!0}(b.url,v.url)||E.url.next(v.url),xn(b.data,v.data)||E.data.next(v.data)}else E.snapshot=E._futureSnapshot,E.data.next(E._futureSnapshot.data)}function Xi(E,b){const v=xn(E.params,b.params)&&function Bt(E,b){return an(E,b)&&E.every((v,A)=>xn(v.parameters,b[A].parameters))}(E.url,b.url);return v&&!(!E.parent!=!b.parent)&&(!E.parent||Xi(E.parent,b.parent))}function Br(E,b,v){if(v&&E.shouldReuseRoute(b.value,v.value.snapshot)){const A=v.value;A._futureSnapshot=b.value;const L=function Wr(E,b,v){return b.children.map(A=>{for(const L of v.children)if(E.shouldReuseRoute(A.value,L.value.snapshot))return Br(E,A,L);return Br(E,A)})}(E,b,v);return new Vr(A,L)}{if(E.shouldAttach(b.value)){const W=E.retrieve(b.value);if(null!==W){const Te=W.route;return Te.value._futureSnapshot=b.value,Te.children=b.children.map(w=>Br(E,w)),Te}}const A=function Qi(E){return new zr(new Ve.X(E.url),new Ve.X(E.params),new Ve.X(E.queryParams),new Ve.X(E.fragment),new Ve.X(E.data),E.outlet,E.component,E)}(b.value),L=b.children.map(W=>Br(E,W));return new Vr(A,L)}}const Ri="ngNavigationCancelingError";function vr(E,b){const{redirectTo:v,navigationBehaviorOptions:A}=lr(b)?{redirectTo:b,navigationBehaviorOptions:void 0}:b,L=is(!1,0,b);return L.url=v,L.navigationBehaviorOptions=A,L}function is(E,b,v){const A=new Error("NavigationCancelingError: "+(E||""));return A[Ri]=!0,A.cancellationCode=b,v&&(A.url=v),A}function fs(E){return ni(E)&&lr(E.url)}function ni(E){return E&&E[Ri]}class zi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Pi,this.attachRef=null}}let Pi=(()=>{class E{constructor(){this.contexts=new Map}onChildOutletCreated(v,A){const L=this.getOrCreateContext(v);L.outlet=A,this.contexts.set(v,L)}onChildOutletDestroyed(v){const A=this.getContext(v);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let A=this.getContext(v);return A||(A=new zi,this.contexts.set(v,A)),A}getContext(v){return this.contexts.get(v)||null}}return E.\u0275fac=function(v){return new(v||E)},E.\u0275prov=a.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Qs=!1;let Wn=(()=>{class E{constructor(v,A,L,W,Te){this.parentContexts=v,this.location=A,this.changeDetector=W,this.environmentInjector=Te,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=L||dn,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,Qs);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,Qs);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,Qs);this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,A){this.activated=v,this._activatedRoute=A,this.location.insert(v.hostView),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,A){if(this.isActivated)throw new a.vHH(4013,Qs);this._activatedRoute=v;const L=this.location,Te=v._futureSnapshot.component,w=this.parentContexts.getOrCreateContext(this.name).children,T=new Po(v,w,L.injector);if(A&&function mo(E){return!!E.resolveComponentFactory}(A)){const H=A.resolveComponentFactory(Te);this.activated=L.createComponent(H,L.length,T)}else this.activated=L.createComponent(Te,{index:L.length,injector:T,environmentInjector:A??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return E.\u0275fac=function(v){return new(v||E)(a.Y36(Pi),a.Y36(a.s_b),a.$8M("name"),a.Y36(a.sBO),a.Y36(a.lqb))},E.\u0275dir=a.lG2({type:E,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),E})();class Po{constructor(b,v,A){this.route=b,this.childContexts=v,this.parent=A}get(b,v){return b===zr?this.route:b===Pi?this.childContexts:this.parent.get(b,v)}}let Ps=(()=>{class E{}return E.\u0275fac=function(v){return new(v||E)},E.\u0275cmp=a.Xpm({type:E,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(v,A){1&v&&a._UZ(0,"router-outlet")},dependencies:[Wn],encapsulation:2}),E})();function Js(E,b){return E.providers&&!E._injector&&(E._injector=(0,a.MMx)(E.providers,b,`Route: ${E.path}`)),E._injector??b}function qt(E){const b=E.children&&E.children.map(qt),v=b?{...E,children:b}:{...E};return!v.component&&!v.loadComponent&&(b||v.loadChildren)&&v.outlet&&v.outlet!==dn&&(v.component=Ps),v}function gn(E){return E.outlet||dn}function F(E,b){const v=E.filter(A=>gn(A)===b);return v.push(...E.filter(A=>gn(A)!==b)),v}function R(E){if(!E)return null;if(E.routeConfig?._injector)return E.routeConfig._injector;for(let b=E.parent;b;b=b.parent){const v=b.routeConfig;if(v?._loadedInjector)return v._loadedInjector;if(v?._injector)return v._injector}return null}class Z{constructor(b,v,A,L){this.routeReuseStrategy=b,this.futureState=v,this.currState=A,this.forwardEvent=L}activate(b){const v=this.futureState._root,A=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,A,b),Is(this.futureState.root),this.activateChildRoutes(v,A,b)}deactivateChildRoutes(b,v,A){const L=ii(v);b.children.forEach(W=>{const Te=W.value.outlet;this.deactivateRoutes(W,L[Te],A),delete L[Te]}),bn(L,(W,Te)=>{this.deactivateRouteAndItsChildren(W,A)})}deactivateRoutes(b,v,A){const L=b.value,W=v?v.value:null;if(L===W)if(L.component){const Te=A.getContext(L.outlet);Te&&this.deactivateChildRoutes(b,v,Te.children)}else this.deactivateChildRoutes(b,v,A);else W&&this.deactivateRouteAndItsChildren(v,A)}deactivateRouteAndItsChildren(b,v){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,v):this.deactivateRouteAndOutlet(b,v)}detachAndStoreRouteSubtree(b,v){const A=v.getContext(b.value.outlet),L=A&&b.value.component?A.children:v,W=ii(b);for(const Te of Object.keys(W))this.deactivateRouteAndItsChildren(W[Te],L);if(A&&A.outlet){const Te=A.outlet.detach(),w=A.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:Te,route:b,contexts:w})}}deactivateRouteAndOutlet(b,v){const A=v.getContext(b.value.outlet),L=A&&b.value.component?A.children:v,W=ii(b);for(const Te of Object.keys(W))this.deactivateRouteAndItsChildren(W[Te],L);A&&A.outlet&&(A.outlet.deactivate(),A.children.onOutletDeactivated(),A.attachRef=null,A.resolver=null,A.route=null)}activateChildRoutes(b,v,A){const L=ii(v);b.children.forEach(W=>{this.activateRoutes(W,L[W.value.outlet],A),this.forwardEvent(new qi(W.value.snapshot))}),b.children.length&&this.forwardEvent(new Os(b.value.snapshot))}activateRoutes(b,v,A){const L=b.value,W=v?v.value:null;if(Is(L),L===W)if(L.component){const Te=A.getOrCreateContext(L.outlet);this.activateChildRoutes(b,v,Te.children)}else this.activateChildRoutes(b,v,A);else if(L.component){const Te=A.getOrCreateContext(L.outlet);if(this.routeReuseStrategy.shouldAttach(L.snapshot)){const w=this.routeReuseStrategy.retrieve(L.snapshot);this.routeReuseStrategy.store(L.snapshot,null),Te.children.onOutletReAttached(w.contexts),Te.attachRef=w.componentRef,Te.route=w.route.value,Te.outlet&&Te.outlet.attach(w.componentRef,w.route.value),Is(w.route.value),this.activateChildRoutes(b,null,Te.children)}else{const w=R(L.snapshot),T=w?.get(a._Vd)??null;Te.attachRef=null,Te.route=L,Te.resolver=T,Te.injector=w,Te.outlet&&Te.outlet.activateWith(L,Te.injector),this.activateChildRoutes(b,null,Te.children)}}else this.activateChildRoutes(b,null,A)}}class vt{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class En{constructor(b,v){this.component=b,this.route=v}}function Pr(E,b,v){const A=E._root;return gi(A,b?b._root:null,v,[A.value])}function kr(E,b){const v=Symbol(),A=b.get(E,v);return A===v?"function"!=typeof E||(0,a.Z0I)(E)?b.get(E):E:A}function gi(E,b,v,A,L={canDeactivateChecks:[],canActivateChecks:[]}){const W=ii(b);return E.children.forEach(Te=>{(function gs(E,b,v,A,L={canDeactivateChecks:[],canActivateChecks:[]}){const W=E.value,Te=b?b.value:null,w=v?v.getContext(E.value.outlet):null;if(Te&&W.routeConfig===Te.routeConfig){const T=function ms(E,b,v){if("function"==typeof v)return v(E,b);switch(v){case"pathParamsChange":return!an(E.url,b.url);case"pathParamsOrQueryParamsChange":return!an(E.url,b.url)||!xn(E.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xi(E,b)||!xn(E.queryParams,b.queryParams);default:return!Xi(E,b)}}(Te,W,W.routeConfig.runGuardsAndResolvers);T?L.canActivateChecks.push(new vt(A)):(W.data=Te.data,W._resolvedData=Te._resolvedData),gi(E,b,W.component?w?w.children:null:v,A,L),T&&w&&w.outlet&&w.outlet.isActivated&&L.canDeactivateChecks.push(new En(w.outlet.component,Te))}else Te&&Di(b,w,L),L.canActivateChecks.push(new vt(A)),gi(E,null,W.component?w?w.children:null:v,A,L)})(Te,W[Te.value.outlet],v,A.concat([Te.value]),L),delete W[Te.value.outlet]}),bn(W,(Te,w)=>Di(Te,v.getContext(w),L)),L}function Di(E,b,v){const A=ii(E),L=E.value;bn(A,(W,Te)=>{Di(W,L.component?b?b.children.getContext(Te):null:b,v)}),v.canDeactivateChecks.push(new En(L.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,L))}function yo(E){return"function"==typeof E}function vo(E){return E instanceof De.K||"EmptyError"===E?.name}const Fo=Symbol("INITIAL_VALUE");function M(){return(0,bt.w)(E=>de(E.map(b=>b.pipe((0,Fn.q)(1),(0,ar.O)(Fo)))).pipe((0,Tn.U)(b=>{for(const v of b)if(!0!==v){if(v===Fo)return Fo;if(!1===v||v instanceof He)return v}return!0}),(0,pt.h)(b=>b!==Fo),(0,Fn.q)(1)))}function Fr(E){return(0,st.z)((0,Ut.b)(b=>{if(lr(b))throw vr(0,b)}),(0,Tn.U)(b=>!0===b))}const hi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yr(E,b,v,A,L){const W=fi(E,b,v);return W.matched?function Tr(E,b,v,A){const L=b.canMatch;if(!L||0===L.length)return(0,ae.of)(!0);const W=L.map(Te=>{const w=kr(Te,E);return Ze(function oa(E){return E&&yo(E.canMatch)}(w)?w.canMatch(b,v):E.runInContext(()=>w(b,v)))});return(0,ae.of)(W).pipe(M(),Fr())}(A=Js(b,A),b,v).pipe((0,Tn.U)(Te=>!0===Te?W:{...hi})):(0,ae.of)(W)}function fi(E,b,v){if(""===b.path)return"full"===b.pathMatch&&(E.hasChildren()||v.length>0)?{...hi}:{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const L=(b.matcher||_r)(v,E,b);if(!L)return{...hi};const W={};bn(L.posParams,(w,T)=>{W[T]=w.path});const Te=L.consumed.length>0?{...W,...L.consumed[L.consumed.length-1].parameters}:W;return{matched:!0,consumedSegments:L.consumed,remainingSegments:v.slice(L.consumed.length),parameters:Te,positionalParamSegments:L.posParams??{}}}function Ns(E,b,v,A,L="corrected"){if(v.length>0&&function ss(E,b,v){return v.some(A=>os(E,b,A)&&gn(A)!==dn)}(E,v,A)){const Te=new Se(b,function ys(E,b,v,A){const L={};L[dn]=A,A._sourceSegment=E,A._segmentIndexShift=b.length;for(const W of v)if(""===W.path&&gn(W)!==dn){const Te=new Se([],{});Te._sourceSegment=E,Te._segmentIndexShift=b.length,L[gn(W)]=Te}return L}(E,b,A,new Se(v,E.children)));return Te._sourceSegment=E,Te._segmentIndexShift=b.length,{segmentGroup:Te,slicedSegments:[]}}if(0===v.length&&function eo(E,b,v){return v.some(A=>os(E,b,A))}(E,v,A)){const Te=new Se(E.segments,function ks(E,b,v,A,L,W){const Te={};for(const w of A)if(os(E,v,w)&&!L[gn(w)]){const T=new Se([],{});T._sourceSegment=E,T._segmentIndexShift="legacy"===W?E.segments.length:b.length,Te[gn(w)]=T}return{...L,...Te}}(E,b,v,A,E.children,L));return Te._sourceSegment=E,Te._segmentIndexShift=b.length,{segmentGroup:Te,slicedSegments:v}}const W=new Se(E.segments,E.children);return W._sourceSegment=E,W._segmentIndexShift=b.length,{segmentGroup:W,slicedSegments:v}}function os(E,b,v){return(!(E.hasChildren()||b.length>0)||"full"!==v.pathMatch)&&""===v.path}function _o(E,b,v,A){return!!(gn(E)===A||A!==dn&&os(b,v,E))&&("**"===E.path||fi(b,E,v).matched)}function zs(E,b,v){return 0===b.length&&!E.children[v]}const ui=!1;class To{constructor(b){this.segmentGroup=b||null}}class nu{constructor(b){this.urlTree=b}}function Ws(E){return(0,wt._)(new To(E))}function Ks(E){return(0,wt._)(new nu(E))}class Zu{constructor(b,v,A,L,W){this.injector=b,this.configLoader=v,this.urlSerializer=A,this.urlTree=L,this.config=W,this.allowRedirects=!0}apply(){const b=Ns(this.urlTree.root,[],[],this.config).segmentGroup,v=new Se(b.segments,b.children);return this.expandSegmentGroup(this.injector,this.config,v,dn).pipe((0,Tn.U)(W=>this.createUrlTree(ei(W),this.urlTree.queryParams,this.urlTree.fragment))).pipe(he(W=>{if(W instanceof nu)return this.allowRedirects=!1,this.match(W.urlTree);throw W instanceof To?this.noMatchError(W):W}))}match(b){return this.expandSegmentGroup(this.injector,this.config,b.root,dn).pipe((0,Tn.U)(L=>this.createUrlTree(ei(L),b.queryParams,b.fragment))).pipe(he(L=>{throw L instanceof To?this.noMatchError(L):L}))}noMatchError(b){return new a.vHH(4002,ui)}createUrlTree(b,v,A){const L=Mr(b);return new He(L,v,A)}expandSegmentGroup(b,v,A,L){return 0===A.segments.length&&A.hasChildren()?this.expandChildren(b,v,A).pipe((0,Tn.U)(W=>new Se([],W))):this.expandSegment(b,A,v,A.segments,L,!0)}expandChildren(b,v,A){const L=[];for(const W of Object.keys(A.children))"primary"===W?L.unshift(W):L.push(W);return(0,Be.D)(L).pipe(ye(W=>{const Te=A.children[W],w=F(v,W);return this.expandSegmentGroup(b,w,Te,W).pipe((0,Tn.U)(T=>({segment:T,outlet:W})))}),(0,ur.R)((W,Te)=>(W[Te.outlet]=Te.segment,W),{}),ft())}expandSegment(b,v,A,L,W,Te){return(0,Be.D)(A).pipe(ye(w=>this.expandSegmentAgainstRoute(b,v,A,w,L,W,Te).pipe(he(H=>{if(H instanceof To)return(0,ae.of)(null);throw H}))),(0,nr.P)(w=>!!w),he((w,T)=>{if(vo(w))return zs(v,L,W)?(0,ae.of)(new Se([],{})):Ws(v);throw w}))}expandSegmentAgainstRoute(b,v,A,L,W,Te,w){return _o(L,v,W,Te)?void 0===L.redirectTo?this.matchSegmentAgainstRoute(b,v,L,W,Te):w&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,v,A,L,W,Te):Ws(v):Ws(v)}expandSegmentAgainstRouteUsingRedirect(b,v,A,L,W,Te){return"**"===L.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,A,L,Te):this.expandRegularSegmentAgainstRouteUsingRedirect(b,v,A,L,W,Te)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,v,A,L){const W=this.applyRedirectCommands([],A.redirectTo,{});return A.redirectTo.startsWith("/")?Ks(W):this.lineralizeSegments(A,W).pipe((0,Ie.zg)(Te=>{const w=new Se(Te,{});return this.expandSegment(b,w,v,Te,L,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,v,A,L,W,Te){const{matched:w,consumedSegments:T,remainingSegments:H,positionalParamSegments:me}=fi(v,L,W);if(!w)return Ws(v);const Oe=this.applyRedirectCommands(T,L.redirectTo,me);return L.redirectTo.startsWith("/")?Ks(Oe):this.lineralizeSegments(L,Oe).pipe((0,Ie.zg)(lt=>this.expandSegment(b,v,A,lt.concat(H),Te,!1)))}matchSegmentAgainstRoute(b,v,A,L,W){return"**"===A.path?(b=Js(A,b),A.loadChildren?(A._loadedRoutes?(0,ae.of)({routes:A._loadedRoutes,injector:A._loadedInjector}):this.configLoader.loadChildren(b,A)).pipe((0,Tn.U)(w=>(A._loadedRoutes=w.routes,A._loadedInjector=w.injector,new Se(L,{})))):(0,ae.of)(new Se(L,{}))):Yr(v,A,L,b).pipe((0,bt.w)(({matched:Te,consumedSegments:w,remainingSegments:T})=>Te?this.getChildConfig(b=A._injector??b,A,L).pipe((0,Ie.zg)(me=>{const Oe=me.injector??b,lt=me.routes,{segmentGroup:kt,slicedSegments:nn}=Ns(v,w,T,lt),Vn=new Se(kt.segments,kt.children);if(0===nn.length&&Vn.hasChildren())return this.expandChildren(Oe,lt,Vn).pipe((0,Tn.U)(Ai=>new Se(w,Ai)));if(0===lt.length&&0===nn.length)return(0,ae.of)(new Se(w,{}));const Kn=gn(A)===W;return this.expandSegment(Oe,Vn,lt,nn,Kn?dn:W,!0).pipe((0,Tn.U)(Bn=>new Se(w.concat(Bn.segments),Bn.children)))})):Ws(v)))}getChildConfig(b,v,A){return v.children?(0,ae.of)({routes:v.children,injector:b}):v.loadChildren?void 0!==v._loadedRoutes?(0,ae.of)({routes:v._loadedRoutes,injector:v._loadedInjector}):function Yn(E,b,v,A){const L=b.canLoad;if(void 0===L||0===L.length)return(0,ae.of)(!0);const W=L.map(Te=>{const w=kr(Te,E);return Ze(function No(E){return E&&yo(E.canLoad)}(w)?w.canLoad(b,v):E.runInContext(()=>w(b,v)))});return(0,ae.of)(W).pipe(M(),Fr())}(b,v,A).pipe((0,Ie.zg)(L=>L?this.configLoader.loadChildren(b,v).pipe((0,Ut.b)(W=>{v._loadedRoutes=W.routes,v._loadedInjector=W.injector})):function aa(E){return(0,wt._)(is(ui,3))}())):(0,ae.of)({routes:[],injector:b})}lineralizeSegments(b,v){let A=[],L=v.root;for(;;){if(A=A.concat(L.segments),0===L.numberOfChildren)return(0,ae.of)(A);if(L.numberOfChildren>1||!L.children[dn])return(0,wt._)(new a.vHH(4e3,ui));L=L.children[dn]}}applyRedirectCommands(b,v,A){return this.applyRedirectCreateUrlTree(v,this.urlSerializer.parse(v),b,A)}applyRedirectCreateUrlTree(b,v,A,L){const W=this.createSegmentGroup(b,v.root,A,L);return new He(W,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(b,v){const A={};return bn(b,(L,W)=>{if("string"==typeof L&&L.startsWith(":")){const w=L.substring(1);A[W]=v[w]}else A[W]=L}),A}createSegmentGroup(b,v,A,L){const W=this.createSegments(b,v.segments,A,L);let Te={};return bn(v.children,(w,T)=>{Te[T]=this.createSegmentGroup(b,w,A,L)}),new Se(W,Te)}createSegments(b,v,A,L){return v.map(W=>W.path.startsWith(":")?this.findPosParam(b,W,L):this.findOrReturn(W,A))}findPosParam(b,v,A){const L=A[v.path.substring(1)];if(!L)throw new a.vHH(4001,ui);return L}findOrReturn(b,v){let A=0;for(const L of v){if(L.path===b.path)return v.splice(A),L;A++}return b}}class Cu{}class Ra{constructor(b,v,A,L,W,Te,w,T){this.injector=b,this.rootComponentType=v,this.config=A,this.urlTree=L,this.url=W,this.paramsInheritanceStrategy=Te,this.relativeLinkResolution=w,this.urlSerializer=T}recognize(){const b=Ns(this.urlTree.root,[],[],this.config.filter(v=>void 0===v.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,b,dn).pipe((0,Tn.U)(v=>{if(null===v)return null;const A=new Ii([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},dn,this.rootComponentType,null,this.urlTree.root,-1,{}),L=new Vr(A,v),W=new Rs(this.url,L);return this.inheritParamsAndData(W._root),W}))}inheritParamsAndData(b){const v=b.value,A=Hs(v,this.paramsInheritanceStrategy);v.params=Object.freeze(A.params),v.data=Object.freeze(A.data),b.children.forEach(L=>this.inheritParamsAndData(L))}processSegmentGroup(b,v,A,L){return 0===A.segments.length&&A.hasChildren()?this.processChildren(b,v,A):this.processSegment(b,v,A,A.segments,L)}processChildren(b,v,A){return(0,Be.D)(Object.keys(A.children)).pipe(ye(L=>{const W=A.children[L],Te=F(v,L);return this.processSegmentGroup(b,Te,W,L)}),(0,ur.R)((L,W)=>L&&W?(L.push(...W),L):null),function Lt(E,b=!1){return v=>v.lift(new gt(E,b))}(L=>null!==L),(0,Ge.d)(null),ft(),(0,Tn.U)(L=>{if(null===L)return null;const W=Na(L);return function qo(E){E.sort((b,v)=>b.value.outlet===dn?-1:v.value.outlet===dn?1:b.value.outlet.localeCompare(v.value.outlet))}(W),W}))}processSegment(b,v,A,L,W){return(0,Be.D)(v).pipe(ye(Te=>this.processSegmentAgainstRoute(Te._injector??b,Te,A,L,W)),(0,nr.P)(Te=>!!Te),he(Te=>{if(vo(Te))return zs(A,L,W)?(0,ae.of)([]):(0,ae.of)(null);throw Te}))}processSegmentAgainstRoute(b,v,A,L,W){if(v.redirectTo||!_o(v,A,L,W))return(0,ae.of)(null);let Te;if("**"===v.path){const w=L.length>0?Pn(L).parameters:{},T=ao(A)+L.length,H=new Ii(L,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vo(v),gn(v),v.component??v._loadedComponent??null,v,Xu(A),T,qr(v),T);Te=(0,ae.of)({snapshot:H,consumedSegments:[],remainingSegments:[]})}else Te=Yr(A,v,L,b).pipe((0,Tn.U)(({matched:w,consumedSegments:T,remainingSegments:H,parameters:me})=>{if(!w)return null;const Oe=ao(A)+T.length;return{snapshot:new Ii(T,me,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Vo(v),gn(v),v.component??v._loadedComponent??null,v,Xu(A),Oe,qr(v),Oe),consumedSegments:T,remainingSegments:H}}));return Te.pipe((0,bt.w)(w=>{if(null===w)return(0,ae.of)(null);const{snapshot:T,consumedSegments:H,remainingSegments:me}=w;b=v._injector??b;const Oe=v._loadedInjector??b,lt=function Pa(E){return E.children?E.children:E.loadChildren?E._loadedRoutes:[]}(v),{segmentGroup:kt,slicedSegments:nn}=Ns(A,H,me,lt.filter(Kn=>void 0===Kn.redirectTo),this.relativeLinkResolution);if(0===nn.length&&kt.hasChildren())return this.processChildren(Oe,lt,kt).pipe((0,Tn.U)(Kn=>null===Kn?null:[new Vr(T,Kn)]));if(0===lt.length&&0===nn.length)return(0,ae.of)([new Vr(T,[])]);const Vn=gn(v)===W;return this.processSegment(Oe,lt,kt,nn,Vn?dn:W).pipe((0,Tn.U)(Kn=>null===Kn?null:[new Vr(T,Kn)]))}))}}function oo(E){const b=E.value.routeConfig;return b&&""===b.path&&void 0===b.redirectTo}function Na(E){const b=[],v=new Set;for(const A of E){if(!oo(A)){b.push(A);continue}const L=b.find(W=>A.value.routeConfig===W.value.routeConfig);void 0!==L?(L.children.push(...A.children),v.add(L)):b.push(A)}for(const A of v){const L=Na(A.children);b.push(new Vr(A.value,L))}return b.filter(A=>!v.has(A))}function Xu(E){let b=E;for(;b._sourceSegment;)b=b._sourceSegment;return b}function ao(E){let b=E,v=b._segmentIndexShift??0;for(;b._sourceSegment;)b=b._sourceSegment,v+=b._segmentIndexShift??0;return v-1}function Vo(E){return E.data||{}}function qr(E){return E.resolve||{}}function Ls(E){return"string"==typeof E.title||null===E.title}function Qo(E){return(0,bt.w)(b=>{const v=E(b);return v?(0,Be.D)(v).pipe((0,Tn.U)(()=>b)):(0,ae.of)(b)})}let An=(()=>{class E{buildTitle(v){let A,L=v.root;for(;void 0!==L;)A=this.getResolvedTitleForRoute(L)??A,L=L.children.find(W=>W.outlet===dn);return A}getResolvedTitleForRoute(v){return v.data[en]}}return E.\u0275fac=function(v){return new(v||E)},E.\u0275prov=a.Yz7({token:E,factory:function(){return(0,a.f3M)(sr)},providedIn:"root"}),E})(),sr=(()=>{class E extends An{constructor(v){super(),this.title=v}updateTitle(v){const A=this.buildTitle(v);void 0!==A&&this.title.setTitle(A)}}return E.\u0275fac=function(v){return new(v||E)(a.LFG(Rr.Dx))},E.\u0275prov=a.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class mn{}class Wt extends class Mt{shouldDetach(b){return!1}store(b,v){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,v){return b.routeConfig===v.routeConfig}}{}const $o=new a.OlP("",{providedIn:"root",factory:()=>({})}),to=new a.OlP("ROUTES");let ru=(()=>{class E{constructor(v,A){this.injector=v,this.compiler=A,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(v){if(this.componentLoaders.get(v))return this.componentLoaders.get(v);if(v._loadedComponent)return(0,ae.of)(v._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(v);const A=Ze(v.loadComponent()).pipe((0,Ut.b)(W=>{this.onLoadEndListener&&this.onLoadEndListener(v),v._loadedComponent=W}),Rn(()=>{this.componentLoaders.delete(v)})),L=new Qe.c(A,()=>new Ae.xQ).pipe((0,Dr.x)());return this.componentLoaders.set(v,L),L}loadChildren(v,A){if(this.childrenLoaders.get(A))return this.childrenLoaders.get(A);if(A._loadedRoutes)return(0,ae.of)({routes:A._loadedRoutes,injector:A._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(A);const W=this.loadModuleFactoryOrRoutes(A.loadChildren).pipe((0,Tn.U)(w=>{this.onLoadEndListener&&this.onLoadEndListener(A);let T,H,me=!1;Array.isArray(w)?H=w:(T=w.create(v).injector,H=Lr(T.get(to,[],a.XFs.Self|a.XFs.Optional)));return{routes:H.map(qt),injector:T}}),Rn(()=>{this.childrenLoaders.delete(A)})),Te=new Qe.c(W,()=>new Ae.xQ).pipe((0,Dr.x)());return this.childrenLoaders.set(A,Te),Te}loadModuleFactoryOrRoutes(v){return Ze(v()).pipe((0,Ie.zg)(A=>A instanceof a.YKP||Array.isArray(A)?(0,ae.of)(A):(0,Be.D)(this.compiler.compileModuleAsync(A))))}}return E.\u0275fac=function(v){return new(v||E)(a.LFG(a.zs3),a.LFG(a.Sil))},E.\u0275prov=a.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class Fa{}class iu{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,v){return b}}function su(E){throw E}function La(E,b,v){return b.parse("/")}const uo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ao={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function $i(){const E=(0,a.f3M)(nt),b=(0,a.f3M)(Pi),v=(0,a.f3M)(Re.Ye),A=(0,a.f3M)(a.zs3),L=(0,a.f3M)(a.Sil),W=(0,a.f3M)(to,{optional:!0})??[],Te=(0,a.f3M)($o,{optional:!0})??{},w=(0,a.f3M)(sr),T=(0,a.f3M)(An,{optional:!0}),H=(0,a.f3M)(Fa,{optional:!0}),me=(0,a.f3M)(mn,{optional:!0}),Oe=new mi(null,E,b,v,A,L,Lr(W));return H&&(Oe.urlHandlingStrategy=H),me&&(Oe.routeReuseStrategy=me),Oe.titleStrategy=T??w,function or(E,b){E.errorHandler&&(b.errorHandler=E.errorHandler),E.malformedUriErrorHandler&&(b.malformedUriErrorHandler=E.malformedUriErrorHandler),E.onSameUrlNavigation&&(b.onSameUrlNavigation=E.onSameUrlNavigation),E.paramsInheritanceStrategy&&(b.paramsInheritanceStrategy=E.paramsInheritanceStrategy),E.relativeLinkResolution&&(b.relativeLinkResolution=E.relativeLinkResolution),E.urlUpdateStrategy&&(b.urlUpdateStrategy=E.urlUpdateStrategy),E.canceledNavigationResolution&&(b.canceledNavigationResolution=E.canceledNavigationResolution)}(Te,Oe),Oe}let mi=(()=>{class E{constructor(v,A,L,W,Te,w,T){this.rootComponentType=v,this.urlSerializer=A,this.rootContexts=L,this.location=W,this.config=T,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ae.xQ,this.errorHandler=su,this.malformedUriErrorHandler=La,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,ae.of)(void 0),this.urlHandlingStrategy=new iu,this.routeReuseStrategy=new Wt,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Te.get(ru),this.configLoader.onLoadEndListener=lt=>this.triggerEvent(new Hi(lt)),this.configLoader.onLoadStartListener=lt=>this.triggerEvent(new Ms(lt)),this.ngModule=Te.get(a.h0i),this.console=Te.get(a.c2e);const Oe=Te.get(a.R0b);this.isNgZoneEnabled=Oe instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(T),this.currentUrlTree=function xe(){return new He(new Se([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Vi(this.currentUrlTree,this.rootComponentType),this.transitions=new Ve.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(v){const A=this.events;return v.pipe((0,pt.h)(L=>0!==L.id),(0,Tn.U)(L=>({...L,extractedUrl:this.urlHandlingStrategy.extract(L.rawUrl)})),(0,bt.w)(L=>{let W=!1,Te=!1;return(0,ae.of)(L).pipe((0,Ut.b)(w=>{this.currentNavigation={id:w.id,initialUrl:w.rawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,bt.w)(w=>{const T=this.browserUrlTree.toString(),H=!this.navigated||w.extractedUrl.toString()!==T||T!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||H)&&this.urlHandlingStrategy.shouldProcessUrl(w.rawUrl))return dr(w.source)&&(this.browserUrlTree=w.extractedUrl),(0,ae.of)(w).pipe((0,bt.w)(Oe=>{const lt=this.transitions.getValue();return A.next(new tr(Oe.id,this.serializeUrl(Oe.extractedUrl),Oe.source,Oe.restoredState)),lt!==this.transitions.getValue()?St.E:Promise.resolve(Oe)}),function Lo(E,b,v,A){return(0,bt.w)(L=>function Oa(E,b,v,A,L){return new Zu(E,b,v,A,L).apply()}(E,b,v,L.extractedUrl,A).pipe((0,Tn.U)(W=>({...L,urlAfterRedirects:W}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ut.b)(Oe=>{this.currentNavigation={...this.currentNavigation,finalUrl:Oe.urlAfterRedirects},L.urlAfterRedirects=Oe.urlAfterRedirects}),function Zo(E,b,v,A,L,W){return(0,Ie.zg)(Te=>function Yo(E,b,v,A,L,W,Te="emptyOnly",w="legacy"){return new Ra(E,b,v,A,L,Te,w,W).recognize().pipe((0,bt.w)(T=>null===T?function Wi(E){return new le.y(b=>b.error(E))}(new Cu):(0,ae.of)(T)))}(E,b,v,Te.urlAfterRedirects,A.serialize(Te.urlAfterRedirects),A,L,W).pipe((0,Tn.U)(w=>({...Te,targetSnapshot:w}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ut.b)(Oe=>{if(L.targetSnapshot=Oe.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!Oe.extras.skipLocationChange){const kt=this.urlHandlingStrategy.merge(Oe.urlAfterRedirects,Oe.rawUrl);this.setBrowserUrl(kt,Oe)}this.browserUrlTree=Oe.urlAfterRedirects}const lt=new ls(Oe.id,this.serializeUrl(Oe.extractedUrl),this.serializeUrl(Oe.urlAfterRedirects),Oe.targetSnapshot);A.next(lt)}));if(H&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:lt,extractedUrl:kt,source:nn,restoredState:Vn,extras:Kn}=w,fr=new tr(lt,this.serializeUrl(kt),nn,Vn);A.next(fr);const Bn=Vi(kt,this.rootComponentType).snapshot;return L={...w,targetSnapshot:Bn,urlAfterRedirects:kt,extras:{...Kn,skipLocationChange:!1,replaceUrl:!1}},(0,ae.of)(L)}return this.rawUrlTree=w.rawUrl,w.resolve(null),St.E}),(0,Ut.b)(w=>{const T=new Oi(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(T)}),(0,Tn.U)(w=>L={...w,guards:Pr(w.targetSnapshot,w.currentSnapshot,this.rootContexts)}),function G(E,b){return(0,Ie.zg)(v=>{const{targetSnapshot:A,currentSnapshot:L,guards:{canActivateChecks:W,canDeactivateChecks:Te}}=v;return 0===Te.length&&0===W.length?(0,ae.of)({...v,guardsResult:!0}):function N(E,b,v,A){return(0,Be.D)(E).pipe((0,Ie.zg)(L=>function Er(E,b,v,A,L){const W=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,ae.of)(!0);const Te=W.map(w=>{const T=R(b)??L,H=kr(w,T);return Ze(function Kr(E){return E&&yo(E.canDeactivate)}(H)?H.canDeactivate(E,b,v,A):T.runInContext(()=>H(E,b,v,A))).pipe((0,nr.P)())});return(0,ae.of)(Te).pipe(M())}(L.component,L.route,v,b,A)),(0,nr.P)(L=>!0!==L,!0))}(Te,A,L,E).pipe((0,Ie.zg)(w=>w&&function So(E){return"boolean"==typeof E}(w)?function Q(E,b,v,A){return(0,Be.D)(b).pipe(ye(L=>(0,ht.z)(function At(E,b){return null!==E&&b&&b(new Li(E)),(0,ae.of)(!0)}(L.route.parent,A),function ze(E,b){return null!==E&&b&&b(new hs(E)),(0,ae.of)(!0)}(L.route,A),function ln(E,b,v){const A=b[b.length-1],W=b.slice(0,b.length-1).reverse().map(Te=>function Hr(E){const b=E.routeConfig?E.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:E,guards:b}:null}(Te)).filter(Te=>null!==Te).map(Te=>(0,J.P)(()=>{const w=Te.guards.map(T=>{const H=R(Te.node)??v,me=kr(T,H);return Ze(function sa(E){return E&&yo(E.canActivateChild)}(me)?me.canActivateChild(A,E):H.runInContext(()=>me(A,E))).pipe((0,nr.P)())});return(0,ae.of)(w).pipe(M())}));return(0,ae.of)(W).pipe(M())}(E,L.path,v),function zt(E,b,v){const A=b.routeConfig?b.routeConfig.canActivate:null;if(!A||0===A.length)return(0,ae.of)(!0);const L=A.map(W=>(0,J.P)(()=>{const Te=R(b)??v,w=kr(W,Te);return Ze(function so(E){return E&&yo(E.canActivate)}(w)?w.canActivate(b,E):Te.runInContext(()=>w(b,E))).pipe((0,nr.P)())}));return(0,ae.of)(L).pipe(M())}(E,L.route,v))),(0,nr.P)(L=>!0!==L,!0))}(A,W,E,b):(0,ae.of)(w)),(0,Tn.U)(w=>({...v,guardsResult:w})))})}(this.ngModule.injector,w=>this.triggerEvent(w)),(0,Ut.b)(w=>{if(L.guardsResult=w.guardsResult,lr(w.guardsResult))throw vr(0,w.guardsResult);const T=new Us(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.triggerEvent(T)}),(0,pt.h)(w=>!!w.guardsResult||(this.restoreHistory(w),this.cancelNavigationTransition(w,"",3),!1)),Qo(w=>{if(w.guards.canActivateChecks.length)return(0,ae.of)(w).pipe((0,Ut.b)(T=>{const H=new ds(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);this.triggerEvent(H)}),(0,bt.w)(T=>{let H=!1;return(0,ae.of)(T).pipe(function Fs(E,b){return(0,Ie.zg)(v=>{const{targetSnapshot:A,guards:{canActivateChecks:L}}=v;if(!L.length)return(0,ae.of)(v);let W=0;return(0,Be.D)(L).pipe(ye(Te=>function Bo(E,b,v,A){const L=E.routeConfig,W=E._resolve;return void 0!==L?.title&&!Ls(L)&&(W[en]=L.title),function Xo(E,b,v,A){const L=function Xt(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}(E);if(0===L.length)return(0,ae.of)({});const W={};return(0,Be.D)(L).pipe((0,Ie.zg)(Te=>function Zr(E,b,v,A){const L=R(b)??A,W=kr(E,L);return Ze(W.resolve?W.resolve(b,v):L.runInContext(()=>W(b,v)))}(E[Te],b,v,A).pipe((0,nr.P)(),(0,Ut.b)(w=>{W[Te]=w}))),ut(1),function Ln(E){return b=>b.lift(new Dn(E))}(W),he(Te=>vo(Te)?St.E:(0,wt._)(Te)))}(W,E,b,A).pipe((0,Tn.U)(Te=>(E._resolvedData=Te,E.data=Hs(E,v).resolve,L&&Ls(L)&&(E.data[en]=L.title),null)))}(Te.route,A,E,b)),(0,Ut.b)(()=>W++),ut(1),(0,Ie.zg)(Te=>W===L.length?(0,ae.of)(v):St.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ut.b)({next:()=>H=!0,complete:()=>{H||(this.restoreHistory(T),this.cancelNavigationTransition(T,"",2))}}))}),(0,Ut.b)(T=>{const H=new bs(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);this.triggerEvent(H)}))}),Qo(w=>{const T=H=>{const me=[];H.routeConfig?.loadComponent&&!H.routeConfig._loadedComponent&&me.push(this.configLoader.loadComponent(H.routeConfig).pipe((0,Ut.b)(Oe=>{H.component=Oe}),(0,Tn.U)(()=>{})));for(const Oe of H.children)me.push(...T(Oe));return me};return de(T(w.targetSnapshot.root)).pipe((0,Ge.d)(),(0,Fn.q)(1))}),Qo(()=>this.afterPreactivation()),(0,Tn.U)(w=>{const T=function Ei(E,b,v){const A=Br(E,b._root,v?v._root:void 0);return new js(A,b)}(this.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return L={...w,targetRouterState:T}}),(0,Ut.b)(w=>{this.currentUrlTree=w.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(w.urlAfterRedirects,w.rawUrl),this.routerState=w.targetRouterState,"deferred"===this.urlUpdateStrategy&&(w.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,w),this.browserUrlTree=w.urlAfterRedirects)}),((E,b,v)=>(0,Tn.U)(A=>(new Z(b,A.targetRouterState,A.currentRouterState,v).activate(E),A)))(this.rootContexts,this.routeReuseStrategy,w=>this.triggerEvent(w)),(0,Ut.b)({next(){W=!0},complete(){W=!0}}),Rn(()=>{W||Te||this.cancelNavigationTransition(L,"",1),this.currentNavigation?.id===L.id&&(this.currentNavigation=null)}),he(w=>{if(Te=!0,ni(w)){fs(w)||(this.navigated=!0,this.restoreHistory(L,!0));const T=new yr(L.id,this.serializeUrl(L.extractedUrl),w.message,w.cancellationCode);if(A.next(T),fs(w)){const H=this.urlHandlingStrategy.merge(w.url,this.rawUrlTree),me={skipLocationChange:L.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||dr(L.source)};this.scheduleNavigation(H,"imperative",null,me,{resolve:L.resolve,reject:L.reject,promise:L.promise})}else L.resolve(!1)}else{this.restoreHistory(L,!0);const T=new Fi(L.id,this.serializeUrl(L.extractedUrl),w,L.targetSnapshot??void 0);A.next(T);try{L.resolve(this.errorHandler(w))}catch(H){L.reject(H)}}return St.E}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}setTransition(v){this.transitions.next({...this.transitions.value,...v})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const A="popstate"===v.type?"popstate":"hashchange";"popstate"===A&&setTimeout(()=>{const L={replaceUrl:!0},W=v.state?.navigationId?v.state:null;if(W){const w={...W};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(L.state=w)}const Te=this.parseUrl(v.url);this.scheduleNavigation(Te,A,W,L)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){this.config=v.map(qt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,A={}){const{relativeTo:L,queryParams:W,fragment:Te,queryParamsHandling:w,preserveFragment:T}=A,H=L||this.routerState.root,me=T?this.currentUrlTree.fragment:Te;let Oe=null;switch(w){case"merge":Oe={...this.currentUrlTree.queryParams,...W};break;case"preserve":Oe=this.currentUrlTree.queryParams;break;default:Oe=W||null}return null!==Oe&&(Oe=this.removeEmptyProps(Oe)),ge(H,this.currentUrlTree,v,Oe,me??null)}navigateByUrl(v,A={skipLocationChange:!1}){const L=lr(v)?v:this.parseUrl(v),W=this.urlHandlingStrategy.merge(L,this.rawUrlTree);return this.scheduleNavigation(W,"imperative",null,A)}navigate(v,A={skipLocationChange:!1}){return function Xr(E){for(let b=0;b<E.length;b++){if(null==E[b])throw new a.vHH(4008,false)}}(v),this.navigateByUrl(this.createUrlTree(v,A),A)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let A;try{A=this.urlSerializer.parse(v)}catch(L){A=this.malformedUriErrorHandler(L,this.urlSerializer,v)}return A}isActive(v,A){let L;if(L=!0===A?{...uo}:!1===A?{...Ao}:A,lr(v))return Tt(this.currentUrlTree,v,L);const W=this.parseUrl(v);return Tt(this.currentUrlTree,W,L)}removeEmptyProps(v){return Object.keys(v).reduce((A,L)=>{const W=v[L];return null!=W&&(A[L]=W),A},{})}processNavigations(){this.navigations.subscribe(v=>{this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new Ur(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,A,L,W,Te){if(this.disposed)return Promise.resolve(!1);let w,T,H;Te?(w=Te.resolve,T=Te.reject,H=Te.promise):H=new Promise((lt,kt)=>{w=lt,T=kt});const me=++this.navigationId;let Oe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(L=this.location.getState()),Oe=L&&L.\u0275routerPageId?L.\u0275routerPageId:W.replaceUrl||W.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):Oe=0,this.setTransition({id:me,targetPageId:Oe,source:A,restoredState:L,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:W,resolve:w,reject:T,promise:H,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),H.catch(lt=>Promise.reject(lt))}setBrowserUrl(v,A){const L=this.urlSerializer.serialize(v),W={...A.extras.state,...this.generateNgRouterState(A.id,A.targetPageId)};this.location.isCurrentPathEqualTo(L)||A.extras.replaceUrl?this.location.replaceState(L,"",W):this.location.go(L,"",W)}restoreHistory(v,A=!1){if("computed"===this.canceledNavigationResolution){const L=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===L?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===L&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(L)}else"replace"===this.canceledNavigationResolution&&(A&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,A,L){const W=new yr(v.id,this.serializeUrl(v.extractedUrl),A,L);this.triggerEvent(W),v.resolve(!1)}generateNgRouterState(v,A){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:A}:{navigationId:v}}}return E.\u0275fac=function(v){a.$Z()},E.\u0275prov=a.Yz7({token:E,factory:function(){return $i()},providedIn:"root"}),E})();function dr(E){return"imperative"!==E}let co=(()=>{class E{constructor(v,A,L,W,Te){this.router=v,this.route=A,this.tabIndexAttribute=L,this.renderer=W,this.el=Te,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Ae.xQ,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(v){this._preserveFragment=(0,a.D6c)(v)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(v){this._skipLocationChange=(0,a.D6c)(v)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(v){this._replaceUrl=(0,a.D6c)(v)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(v){if(null!=this.tabIndexAttribute)return;const A=this.renderer,L=this.el.nativeElement;null!==v?A.setAttribute(L,"tabindex",v):A.removeAttribute(L,"tabindex")}ngOnChanges(v){this.onChanges.next(this)}set routerLink(v){null!=v?(this.commands=Array.isArray(v)?v:[v],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return E.\u0275fac=function(v){return new(v||E)(a.Y36(mi),a.Y36(zr),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},E.\u0275dir=a.lG2({type:E,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(v,A){1&v&&a.NdJ("click",function(){return A.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),E})(),Un=(()=>{class E{constructor(v,A,L){this.router=v,this.route=A,this.locationStrategy=L,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Ae.xQ,this.subscription=v.events.subscribe(W=>{W instanceof Ur&&this.updateTargetUrlAndHref()})}set preserveFragment(v){this._preserveFragment=(0,a.D6c)(v)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(v){this._skipLocationChange=(0,a.D6c)(v)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(v){this._replaceUrl=(0,a.D6c)(v)}get replaceUrl(){return this._replaceUrl}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:null}ngOnChanges(v){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(v,A,L,W,Te){return!!(0!==v||A||L||W||Te||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return E.\u0275fac=function(v){return new(v||E)(a.Y36(mi),a.Y36(zr),a.Y36(Re.S$))},E.\u0275dir=a.lG2({type:E,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(v,A){1&v&&a.NdJ("click",function(W){return A.onClick(W.button,W.ctrlKey,W.shiftKey,W.altKey,W.metaKey)}),2&v&&a.uIk("target",A.target)("href",A.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),E})(),Qu=(()=>{class E{constructor(v,A,L,W,Te,w){this.router=v,this.element=A,this.renderer=L,this.cdr=W,this.link=Te,this.linkWithHref=w,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=v.events.subscribe(T=>{T instanceof Ur&&this.update()})}ngAfterContentInit(){(0,ae.of)(this.links.changes,this.linksWithHrefs.changes,(0,ae.of)(null)).pipe((0,Jn.J)()).subscribe(v=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const v=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(A=>!!A).map(A=>A.onChanges);this.linkInputChangesSubscription=(0,Be.D)(v).pipe((0,Jn.J)()).subscribe(A=>{this.isActive!==this.isLinkActive(this.router)(A)&&this.update()})}set routerLinkActive(v){const A=Array.isArray(v)?v:v.split(" ");this.classes=A.filter(L=>!!L)}ngOnChanges(v){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const v=this.hasActiveLinks();this.isActive!==v&&(this.isActive=v,this.cdr.markForCheck(),this.classes.forEach(A=>{v?this.renderer.addClass(this.element.nativeElement,A):this.renderer.removeClass(this.element.nativeElement,A)}),v&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(v))})}isLinkActive(v){const A=function Ci(E){return!!E.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return L=>!!L.urlTree&&v.isActive(L.urlTree,A)}hasActiveLinks(){const v=this.isLinkActive(this.router);return this.link&&v(this.link)||this.linkWithHref&&v(this.linkWithHref)||this.links.some(v)||this.linksWithHrefs.some(v)}}return E.\u0275fac=function(v){return new(v||E)(a.Y36(mi),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(co,8),a.Y36(Un,8))},E.\u0275dir=a.lG2({type:E,selectors:[["","routerLinkActive",""]],contentQueries:function(v,A,L){if(1&v&&(a.Suo(L,co,5),a.Suo(L,Un,5)),2&v){let W;a.iGM(W=a.CRH())&&(A.links=W),a.iGM(W=a.CRH())&&(A.linksWithHrefs=W)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]}),E})();class fn{}let Tu=(()=>{class E{preload(v,A){return A().pipe(he(()=>(0,ae.of)(null)))}}return E.\u0275fac=function(v){return new(v||E)},E.\u0275prov=a.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),ca=(()=>{class E{constructor(v,A,L,W,Te){this.router=v,this.injector=L,this.preloadingStrategy=W,this.loader=Te}setUpPreloading(){this.subscription=this.router.events.pipe((0,pt.h)(v=>v instanceof Ur),ye(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,A){const L=[];for(const W of A){W.providers&&!W._injector&&(W._injector=(0,a.MMx)(W.providers,v,`Route: ${W.path}`));const Te=W._injector??v,w=W._loadedInjector??Te;W.loadChildren&&!W._loadedRoutes&&void 0===W.canLoad||W.loadComponent&&!W._loadedComponent?L.push(this.preloadConfig(Te,W)):(W.children||W._loadedRoutes)&&L.push(this.processRoutes(w,W.children??W._loadedRoutes))}return(0,Be.D)(L).pipe((0,Jn.J)())}preloadConfig(v,A){return this.preloadingStrategy.preload(A,()=>{let L;L=A.loadChildren&&void 0===A.canLoad?this.loader.loadChildren(v,A):(0,ae.of)(null);const W=L.pipe((0,Ie.zg)(Te=>null===Te?(0,ae.of)(void 0):(A._loadedRoutes=Te.routes,A._loadedInjector=Te.injector,this.processRoutes(Te.injector??v,Te.routes))));if(A.loadComponent&&!A._loadedComponent){const Te=this.loader.loadComponent(A);return(0,Be.D)([W,Te]).pipe((0,Jn.J)())}return W})}}return E.\u0275fac=function(v){return new(v||E)(a.LFG(mi),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(fn),a.LFG(ru))},E.\u0275prov=a.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const ec=new a.OlP("");let xo=(()=>{class E{constructor(v,A,L={}){this.router=v,this.viewportScroller=A,this.options=L,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},L.scrollPositionRestoration=L.scrollPositionRestoration||"disabled",L.anchorScrolling=L.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof tr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof Ur&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof Gi&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,A){this.router.triggerEvent(new Gi(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,A))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return E.\u0275fac=function(v){a.$Z()},E.\u0275prov=a.Yz7({token:E,factory:E.\u0275fac}),E})();function lo(E,b){return{\u0275kind:E,\u0275providers:b}}function Si(E){return[{provide:to,multi:!0,useValue:E}]}function da(){const E=(0,a.f3M)(a.zs3);return b=>{const v=E.get(a.z2F);if(b!==v.components[0])return;const A=E.get(mi),L=E.get(Ki);1===E.get(Ni)&&A.initialNavigation(),E.get(Ti,null,a.XFs.Optional)?.setUpPreloading(),E.get(ec,null,a.XFs.Optional)?.init(),A.resetRootComponentType(v.componentTypes[0]),L.next(),L.complete()}}const Ki=new a.OlP("",{factory:()=>new Ae.xQ}),Ni=new a.OlP("",{providedIn:"root",factory:()=>1});const Ti=new a.OlP("");function ha(E){return lo(0,[{provide:Ti,useExisting:ca},{provide:fn,useExisting:E}])}const Vs=new a.OlP("ROUTER_FORROOT_GUARD"),Cs=[Re.Ye,{provide:nt,useClass:ke},{provide:mi,useFactory:$i},Pi,{provide:zr,useFactory:function pi(E){return E.routerState.root},deps:[mi]},ru];function Ba(){return new a.PXZ("Router",mi)}let fa=(()=>{class E{constructor(v){}static forRoot(v,A){return{ngModule:E,providers:[Cs,[],Si(v),{provide:Vs,useFactory:Mo,deps:[[mi,new a.FiY,new a.tp0]]},{provide:$o,useValue:A||{}},A?.useHash?{provide:Re.S$,useClass:Re.Do}:{provide:Re.S$,useClass:Re.b0},{provide:ec,useFactory:()=>{const E=(0,a.f3M)(mi),b=(0,a.f3M)(Re.EM),v=(0,a.f3M)($o);return v.scrollOffset&&b.setOffset(v.scrollOffset),new xo(E,b,v)}},A?.preloadingStrategy?ha(A.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:Ba},A?.initialNavigation?$a(A):[],[{provide:li,useFactory:da},{provide:a.tb,multi:!0,useExisting:li}]]}}static forChild(v){return{ngModule:E,providers:[Si(v)]}}}return E.\u0275fac=function(v){return new(v||E)(a.LFG(Vs,8))},E.\u0275mod=a.oAB({type:E}),E.\u0275inj=a.cJS({imports:[Ps]}),E})();function Mo(E){return"guarded"}function $a(E){return["disabled"===E.initialNavigation?lo(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const b=(0,a.f3M)(mi);return()=>{b.setUpLocationChangeListener()}}},{provide:Ni,useValue:2}]).\u0275providers:[],"enabledBlocking"===E.initialNavigation?lo(2,[{provide:Ni,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:b=>{const v=b.get(Re.V_,Promise.resolve());let A=!1;return()=>v.then(()=>new Promise(W=>{const Te=b.get(mi),w=b.get(Ki);(function L(W){b.get(mi).events.pipe((0,pt.h)(w=>w instanceof Ur||w instanceof yr||w instanceof Fi),(0,Tn.U)(w=>w instanceof Ur||w instanceof yr&&(0===w.code||1===w.code)&&null),(0,pt.h)(w=>null!==w),(0,Fn.q)(1)).subscribe(()=>{W()})})(()=>{W(!0),A=!0}),Te.afterPreactivation=()=>(W(!0),A||w.closed?(0,ae.of)(void 0):w),Te.initialNavigation()}))}}]).\u0275providers:[]]}const li=new a.OlP("")},3942:(Qt,at,P)=>{"use strict";P.d(at,{Z:()=>Be});var a=P(2090),U=P(4859),V=P(9681),ve=P(1877);class _e{constructor(Ve,De){this._delegate=Ve,this.firebase=De,(0,V._addComponent)(Ve,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=Ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ve){this._delegate.automaticDataCollectionEnabled=Ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ve=>{this._delegate.checkDestroyed(),Ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(Ve,De=V._DEFAULT_ENTRY_NAME){var ht;this._delegate.checkDestroyed();const J=this._delegate.container.getProvider(Ve);return!J.isInitialized()&&"EXPLICIT"===(null===(ht=J.getComponent())||void 0===ht?void 0:ht.instantiationMode)&&J.initialize(),J.getImmediate({identifier:De})}_removeServiceInstance(Ve,De=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ve).clearInstance(De)}_addComponent(Ve){(0,V._addComponent)(this._delegate,Ve)}_addOrOverwriteComponent(Ve){(0,V._addOrOverwriteComponent)(this._delegate,Ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function ie(){const ae=function le(ae){const Ve={},De={__esModule:!0,initializeApp:function st(Ae,Re={}){const Ie=V.initializeApp(Ae,Re);if((0,a.r3)(Ve,Ie.name))return Ve[Ie.name];const ye=new ae(Ie,De);return Ve[Ie.name]=ye,ye},app:J,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function St(Ae){const Re=Ae.name,Ie=Re.replace("-compat","");if(V._registerComponent(Ae)&&"PUBLIC"===Ae.type){const ye=(q=J())=>{if("function"!=typeof q[Ie])throw oe.create("invalid-app-argument",{appName:Re});return q[Ie]()};void 0!==Ae.serviceProps&&(0,a.ZB)(ye,Ae.serviceProps),De[Ie]=ye,ae.prototype[Ie]=function(...q){return this._getService.bind(this,Re).apply(this,Ae.multipleInstances?q:[])}}return"PUBLIC"===Ae.type?De[Ie]:null},removeApp:function ht(Ae){delete Ve[Ae]},useAsService:function Qe(Ae,Re){return"serverAuth"===Re?null:Re},modularAPIs:V}};function J(Ae){if(!(0,a.r3)(Ve,Ae=Ae||V._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:Ae});return Ve[Ae]}return De.default=De,Object.defineProperty(De,"apps",{get:function wt(){return Object.keys(Ve).map(Ae=>Ve[Ae])}}),J.App=ae,De}(_e);return ae.INTERNAL=Object.assign(Object.assign({},ae.INTERNAL),{createFirebaseNamespace:ie,extendNamespace:function Ve(De){(0,a.ZB)(ae,De)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),ae}(),K=new ve.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ae=self.firebase.SDK_VERSION;ae&&ae.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=te;!function $e(ae){(0,V.registerVersion)("@firebase/app-compat","0.1.32",ae)}()},9681:(Qt,at,P)=>{"use strict";P.r(at),P.d(at,{FirebaseError:()=>ve.ZR,SDK_VERSION:()=>Rn,_DEFAULT_ENTRY_NAME:()=>dt,_addComponent:()=>je,_addOrOverwriteComponent:()=>ft,_apps:()=>Me,_clearComponents:()=>Ln,_components:()=>Ge,_getProvider:()=>gt,_registerComponent:()=>Lt,_removeServiceInstance:()=>Yt,deleteApp:()=>bt,getApp:()=>sn,getApps:()=>Tn,initializeApp:()=>xr,onLog:()=>nr,registerVersion:()=>ar,setLogLevel:()=>Ut});var a=P(5861),U=P(4859),V=P(1877),ve=P(2090),_e=P(8766);class se{constructor(Le){this.container=Le}getPlatformInfoString(){return this.container.getProviders().map(Ue=>{if(function oe(xe){return"VERSION"===xe.getComponent()?.type}(Ue)){const Tt=Ue.getImmediate();return`${Tt.library}/${Tt.version}`}return null}).filter(Ue=>Ue).join(" ")}}const le="@firebase/app",te=new V.Yd("@firebase/app"),dt="[DEFAULT]",qe={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Me=new Map,Ge=new Map;function je(xe,Le){try{xe.container.addComponent(Le)}catch(Ue){te.debug(`Component ${Le.name} failed to register with FirebaseApp ${xe.name}`,Ue)}}function ft(xe,Le){xe.container.addOrOverwriteComponent(Le)}function Lt(xe){const Le=xe.name;if(Ge.has(Le))return te.debug(`There were multiple attempts to register component ${Le}.`),!1;Ge.set(Le,xe);for(const Ue of Me.values())je(Ue,xe);return!0}function gt(xe,Le){const Ue=xe.container.getProvider("heartbeat").getImmediate({optional:!0});return Ue&&Ue.triggerHeartbeat(),xe.container.getProvider(Le)}function Yt(xe,Le,Ue=dt){gt(xe,Le).clearInstance(Ue)}function Ln(){Ge.clear()}const wn=new ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yn{constructor(Le,Ue,Tt){this._isDeleted=!1,this._options=Object.assign({},Le),this._config=Object.assign({},Ue),this._name=Ue.name,this._automaticDataCollectionEnabled=Ue.automaticDataCollectionEnabled,this._container=Tt,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this.checkDestroyed(),this._automaticDataCollectionEnabled=Le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Le){this._isDeleted=Le}checkDestroyed(){if(this.isDeleted)throw wn.create("app-deleted",{appName:this._name})}}const Rn="9.9.3";function xr(xe,Le={}){"object"!=typeof Le&&(Le={name:Le});const Ue=Object.assign({name:dt,automaticDataCollectionEnabled:!1},Le),Tt=Ue.name;if("string"!=typeof Tt||!Tt)throw wn.create("bad-app-name",{appName:String(Tt)});const jt=Me.get(Tt);if(jt){if((0,ve.vZ)(xe,jt.options)&&(0,ve.vZ)(Ue,jt.config))return jt;throw wn.create("duplicate-app",{appName:Tt})}const pn=new U.H0(Tt);for(const $n of Ge.values())pn.addComponent($n);const Gn=new yn(xe,Ue,pn);return Me.set(Tt,Gn),Gn}function sn(xe=dt){const Le=Me.get(xe);if(!Le)throw wn.create("no-app",{appName:xe});return Le}function Tn(){return Array.from(Me.values())}function bt(xe){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,a.Z)(function*(xe){const Le=xe.name;Me.has(Le)&&(Me.delete(Le),yield Promise.all(xe.container.getProviders().map(Ue=>Ue.delete())),xe.isDeleted=!0)})).apply(this,arguments)}function ar(xe,Le,Ue){var Tt;let jt=null!==(Tt=qe[xe])&&void 0!==Tt?Tt:xe;Ue&&(jt+=`-${Ue}`);const pn=jt.match(/\s|\//),Gn=Le.match(/\s|\//);if(pn||Gn){const $n=[`Unable to register library "${jt}" with version "${Le}":`];return pn&&$n.push(`library name "${jt}" contains illegal characters (whitespace or "/")`),pn&&Gn&&$n.push("and"),Gn&&$n.push(`version name "${Le}" contains illegal characters (whitespace or "/")`),void te.warn($n.join(" "))}Lt(new U.wA(`${jt}-version`,()=>({library:jt,version:Le}),"VERSION"))}function nr(xe,Le){if(null!==xe&&"function"!=typeof xe)throw wn.create("invalid-log-argument");(0,V.Am)(xe,Le)}function Ut(xe){(0,V.Ub)(xe)}const Jn="firebase-heartbeat-store";let Rr=null;function dn(){return Rr||(Rr=(0,_e.X3)("firebase-heartbeat-database",1,{upgrade:(xe,Le)=>{0===Le&&xe.createObjectStore(Jn)}}).catch(xe=>{throw wn.create("idb-open",{originalErrorMessage:xe.message})})),Rr}function hn(){return(hn=(0,a.Z)(function*(xe){var Le;try{return(yield dn()).transaction(Jn).objectStore(Jn).get(ir(xe))}catch(Ue){if(Ue instanceof ve.ZR)te.warn(Ue.message);else{const Tt=wn.create("idb-get",{originalErrorMessage:null===(Le=Ue)||void 0===Le?void 0:Le.message});te.warn(Tt.message)}}})).apply(this,arguments)}function hr(xe,Le){return _r.apply(this,arguments)}function _r(){return(_r=(0,a.Z)(function*(xe,Le){var Ue;try{const jt=(yield dn()).transaction(Jn,"readwrite");return yield jt.objectStore(Jn).put(Le,ir(xe)),jt.done}catch(Tt){if(Tt instanceof ve.ZR)te.warn(Tt.message);else{const jt=wn.create("idb-set",{originalErrorMessage:null===(Ue=Tt)||void 0===Ue?void 0:Ue.message});te.warn(jt.message)}}})).apply(this,arguments)}function ir(xe){return`${xe.name}!${xe.options.appId}`}class Lr{constructor(Le){this.container=Le,this._heartbeatsCache=null;const Ue=this.container.getProvider("app").getImmediate();this._storage=new bn(Ue),this._heartbeatsCachePromise=this._storage.read().then(Tt=>(this._heartbeatsCache=Tt,Tt))}triggerHeartbeat(){var Le=this;return(0,a.Z)(function*(){const Tt=Le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),jt=Pn();if(null===Le._heartbeatsCache&&(Le._heartbeatsCache=yield Le._heartbeatsCachePromise),Le._heartbeatsCache.lastSentHeartbeatDate!==jt&&!Le._heartbeatsCache.heartbeats.some(pn=>pn.date===jt))return Le._heartbeatsCache.heartbeats.push({date:jt,agent:Tt}),Le._heartbeatsCache.heartbeats=Le._heartbeatsCache.heartbeats.filter(pn=>{const Gn=new Date(pn.date).valueOf();return Date.now()-Gn<=2592e6}),Le._storage.overwrite(Le._heartbeatsCache)})()}getHeartbeatsHeader(){var Le=this;return(0,a.Z)(function*(){if(null===Le._heartbeatsCache&&(yield Le._heartbeatsCachePromise),null===Le._heartbeatsCache||0===Le._heartbeatsCache.heartbeats.length)return"";const Ue=Pn(),{heartbeatsToSend:Tt,unsentEntries:jt}=function kn(xe,Le=1024){const Ue=[];let Tt=xe.slice();for(const jt of xe){const pn=Ue.find(Gn=>Gn.agent===jt.agent);if(pn){if(pn.dates.push(jt.date),Ze(Ue)>Le){pn.dates.pop();break}}else if(Ue.push({agent:jt.agent,dates:[jt.date]}),Ze(Ue)>Le){Ue.pop();break}Tt=Tt.slice(1)}return{heartbeatsToSend:Ue,unsentEntries:Tt}}(Le._heartbeatsCache.heartbeats),pn=(0,ve.L)(JSON.stringify({version:2,heartbeats:Tt}));return Le._heartbeatsCache.lastSentHeartbeatDate=Ue,jt.length>0?(Le._heartbeatsCache.heartbeats=jt,yield Le._storage.overwrite(Le._heartbeatsCache)):(Le._heartbeatsCache.heartbeats=[],Le._storage.overwrite(Le._heartbeatsCache)),pn})()}}function Pn(){return(new Date).toISOString().substring(0,10)}class bn{constructor(Le){this.app=Le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ve.hl)()&&(0,ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Le=this;return(0,a.Z)(function*(){return(yield Le._canUseIndexedDBPromise)&&(yield function en(xe){return hn.apply(this,arguments)}(Le.app))||{heartbeats:[]}})()}overwrite(Le){var Ue=this;return(0,a.Z)(function*(){var Tt;if(yield Ue._canUseIndexedDBPromise){const pn=yield Ue.read();return hr(Ue.app,{lastSentHeartbeatDate:null!==(Tt=Le.lastSentHeartbeatDate)&&void 0!==Tt?Tt:pn.lastSentHeartbeatDate,heartbeats:Le.heartbeats})}})()}add(Le){var Ue=this;return(0,a.Z)(function*(){var Tt;if(yield Ue._canUseIndexedDBPromise){const pn=yield Ue.read();return hr(Ue.app,{lastSentHeartbeatDate:null!==(Tt=Le.lastSentHeartbeatDate)&&void 0!==Tt?Tt:pn.lastSentHeartbeatDate,heartbeats:[...pn.heartbeats,...Le.heartbeats]})}})()}}function Ze(xe){return(0,ve.L)(JSON.stringify({version:2,heartbeats:xe})).length}!function Ne(xe){Lt(new U.wA("platform-logger",Le=>new se(Le),"PRIVATE")),Lt(new U.wA("heartbeat",Le=>new Lr(Le),"PRIVATE")),ar(le,"0.7.31",xe),ar(le,"0.7.31","esm2017"),ar("fire-js","")}("")},4859:(Qt,at,P)=>{"use strict";P.d(at,{H0:()=>le,wA:()=>V});var a=P(5861),U=P(2090);class V{constructor(te,K,de){this.name=te,this.instanceFactory=K,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(te){return this.instantiationMode=te,this}setMultipleInstances(te){return this.multipleInstances=te,this}setServiceProps(te){return this.serviceProps=te,this}setInstanceCreatedCallback(te){return this.onInstanceCreated=te,this}}const ve="[DEFAULT]";class _e{constructor(te,K){this.name=te,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(te){const K=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(K)){const de=new U.BH;if(this.instancesDeferred.set(K,de),this.isInitialized(K)||this.shouldAutoInitialize())try{const ue=this.getOrInitializeService({instanceIdentifier:K});ue&&de.resolve(ue)}catch{}}return this.instancesDeferred.get(K).promise}getImmediate(te){var K;const de=this.normalizeInstanceIdentifier(te?.identifier),ue=null!==(K=te?.optional)&&void 0!==K&&K;if(!this.isInitialized(de)&&!this.shouldAutoInitialize()){if(ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:de})}catch($e){if(ue)return null;throw $e}}getComponent(){return this.component}setComponent(te){if(te.name!==this.name)throw Error(`Mismatching Component ${te.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=te,this.shouldAutoInitialize()){if(function oe(ie){return"EAGER"===ie.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:ve})}catch{}for(const[K,de]of this.instancesDeferred.entries()){const ue=this.normalizeInstanceIdentifier(K);try{const $e=this.getOrInitializeService({instanceIdentifier:ue});de.resolve($e)}catch{}}}}clearInstance(te=ve){this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)}delete(){var te=this;return(0,a.Z)(function*(){const K=Array.from(te.instances.values());yield Promise.all([...K.filter(de=>"INTERNAL"in de).map(de=>de.INTERNAL.delete()),...K.filter(de=>"_delete"in de).map(de=>de._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(te=ve){return this.instances.has(te)}getOptions(te=ve){return this.instancesOptions.get(te)||{}}initialize(te={}){const{options:K={}}=te,de=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(de))throw Error(`${this.name}(${de}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ue=this.getOrInitializeService({instanceIdentifier:de,options:K});for(const[$e,Be]of this.instancesDeferred.entries())de===this.normalizeInstanceIdentifier($e)&&Be.resolve(ue);return ue}onInit(te,K){var de;const ue=this.normalizeInstanceIdentifier(K),$e=null!==(de=this.onInitCallbacks.get(ue))&&void 0!==de?de:new Set;$e.add(te),this.onInitCallbacks.set(ue,$e);const Be=this.instances.get(ue);return Be&&te(Be,ue),()=>{$e.delete(te)}}invokeOnInitCallbacks(te,K){const de=this.onInitCallbacks.get(K);if(de)for(const ue of de)try{ue(te,K)}catch{}}getOrInitializeService({instanceIdentifier:te,options:K={}}){let de=this.instances.get(te);if(!de&&this.component&&(de=this.component.instanceFactory(this.container,{instanceIdentifier:(ie=te,ie===ve?void 0:ie),options:K}),this.instances.set(te,de),this.instancesOptions.set(te,K),this.invokeOnInitCallbacks(de,te),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,te,de)}catch{}var ie;return de||null}normalizeInstanceIdentifier(te=ve){return this.component?this.component.multipleInstances?te:ve:te}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(te){this.name=te,this.providers=new Map}addComponent(te){const K=this.getProvider(te.name);if(K.isComponentSet())throw new Error(`Component ${te.name} has already been registered with ${this.name}`);K.setComponent(te)}addOrOverwriteComponent(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)}getProvider(te){if(this.providers.has(te))return this.providers.get(te);const K=new _e(te,this);return this.providers.set(te,K),K}getProviders(){return Array.from(this.providers.values())}}},1877:(Qt,at,P)=>{"use strict";P.d(at,{Am:()=>ie,Ub:()=>le,Yd:()=>oe,in:()=>U});const a=[];var U=(()=>{return(te=U||(U={}))[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",U;var te})();const V={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},ve=U.INFO,_e={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},se=(te,K,...de)=>{if(K<te.logLevel)return;const ue=(new Date).toISOString(),$e=_e[K];if(!$e)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[$e](`[${ue}]  ${te.name}:`,...de)};class oe{constructor(K){this.name=K,this._logLevel=ve,this._logHandler=se,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in U))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?V[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...K),this._logHandler(this,U.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...K),this._logHandler(this,U.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,U.INFO,...K),this._logHandler(this,U.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,U.WARN,...K),this._logHandler(this,U.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...K),this._logHandler(this,U.ERROR,...K)}}function le(te){a.forEach(K=>{K.setLogLevel(te)})}function ie(te,K){for(const de of a){let ue=null;K&&K.level&&(ue=V[K.level]),de.userLogHandler=null===te?null:($e,Be,...ae)=>{const Ve=ae.map(De=>{if(null==De)return null;if("string"==typeof De)return De;if("number"==typeof De||"boolean"==typeof De)return De.toString();if(De instanceof Error)return De.message;try{return JSON.stringify(De)}catch{return null}}).filter(De=>De).join(" ");Be>=(ue??$e.logLevel)&&te({level:U[Be].toLowerCase(),message:Ve,args:ae,type:$e.name})}}}},8766:(Qt,at,P)=>{"use strict";P.d(at,{Lj:()=>st,X3:()=>J});var a=P(5861);let V,ve;const oe=new WeakMap,le=new WeakMap,ie=new WeakMap,te=new WeakMap,K=new WeakMap;let $e={get(Re,Ie,ye){if(Re instanceof IDBTransaction){if("done"===Ie)return le.get(Re);if("objectStoreNames"===Ie)return Re.objectStoreNames||ie.get(Re);if("store"===Ie)return ye.objectStoreNames[1]?void 0:ye.objectStore(ye.objectStoreNames[0])}return De(Re[Ie])},set:(Re,Ie,ye)=>(Re[Ie]=ye,!0),has:(Re,Ie)=>Re instanceof IDBTransaction&&("done"===Ie||"store"===Ie)||Ie in Re};function Ve(Re){return"function"==typeof Re?function ae(Re){return Re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return ve||(ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Re)?function(...Ie){return Re.apply(ht(this),Ie),De(oe.get(this))}:function(...Ie){return De(Re.apply(ht(this),Ie))}:function(Ie,...ye){const q=Re.call(ht(this),Ie,...ye);return ie.set(q,Ie.sort?Ie.sort():[Ie]),De(q)}}(Re):(Re instanceof IDBTransaction&&function ue(Re){if(le.has(Re))return;const Ie=new Promise((ye,q)=>{const he=()=>{Re.removeEventListener("complete",ne),Re.removeEventListener("error",ct),Re.removeEventListener("abort",ct)},ne=()=>{ye(),he()},ct=()=>{q(Re.error||new DOMException("AbortError","AbortError")),he()};Re.addEventListener("complete",ne),Re.addEventListener("error",ct),Re.addEventListener("abort",ct)});le.set(Re,Ie)}(Re),((Re,Ie)=>Ie.some(ye=>Re instanceof ye))(Re,function _e(){return V||(V=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Re,$e):Re)}function De(Re){if(Re instanceof IDBRequest)return function de(Re){const Ie=new Promise((ye,q)=>{const he=()=>{Re.removeEventListener("success",ne),Re.removeEventListener("error",ct)},ne=()=>{ye(De(Re.result)),he()},ct=()=>{q(Re.error),he()};Re.addEventListener("success",ne),Re.addEventListener("error",ct)});return Ie.then(ye=>{ye instanceof IDBCursor&&oe.set(ye,Re)}).catch(()=>{}),K.set(Ie,Re),Ie}(Re);if(te.has(Re))return te.get(Re);const Ie=Ve(Re);return Ie!==Re&&(te.set(Re,Ie),K.set(Ie,Re)),Ie}const ht=Re=>K.get(Re);function J(Re,Ie,{blocked:ye,upgrade:q,blocking:he,terminated:ne}={}){const ct=indexedDB.open(Re,Ie),pt=De(ct);return q&&ct.addEventListener("upgradeneeded",Vt=>{q(De(ct.result),Vt.oldVersion,Vt.newVersion,De(ct.transaction))}),ye&&ct.addEventListener("blocked",()=>ye()),pt.then(Vt=>{ne&&Vt.addEventListener("close",()=>ne()),he&&Vt.addEventListener("versionchange",()=>he())}).catch(()=>{}),pt}function st(Re,{blocked:Ie}={}){const ye=indexedDB.deleteDatabase(Re);return Ie&&ye.addEventListener("blocked",()=>Ie()),De(ye).then(()=>{})}const wt=["get","getKey","getAll","getAllKeys","count"],St=["put","add","delete","clear"],Qe=new Map;function Ae(Re,Ie){if(!(Re instanceof IDBDatabase)||Ie in Re||"string"!=typeof Ie)return;if(Qe.get(Ie))return Qe.get(Ie);const ye=Ie.replace(/FromIndex$/,""),q=Ie!==ye,he=St.includes(ye);if(!(ye in(q?IDBIndex:IDBObjectStore).prototype)||!he&&!wt.includes(ye))return;const ne=function(){var ct=(0,a.Z)(function*(pt,...Vt){const ut=this.transaction(pt,he?"readwrite":"readonly");let dt=ut.store;return q&&(dt=dt.index(Vt.shift())),(yield Promise.all([dt[ye](...Vt),he&&ut.done]))[0]});return function(Vt){return ct.apply(this,arguments)}}();return Qe.set(Ie,ne),ne}!function Be(Re){$e=Re($e)}(Re=>({...Re,get:(Ie,ye,q)=>Ae(Ie,ye)||Re.get(Ie,ye,q),has:(Ie,ye)=>!!Ae(Ie,ye)||Re.has(Ie,ye)}))},5861:(Qt,at,P)=>{"use strict";function a(V,ve,_e,se,oe,le,ie){try{var te=V[le](ie),K=te.value}catch(de){return void _e(de)}te.done?ve(K):Promise.resolve(K).then(se,oe)}function U(V){return function(){var ve=this,_e=arguments;return new Promise(function(se,oe){var le=V.apply(ve,_e);function ie(K){a(le,se,oe,ie,te,"next",K)}function te(K){a(le,se,oe,ie,te,"throw",K)}ie(void 0)})}}P.d(at,{Z:()=>U})}},Qt=>{Qt(Qt.s=3241)}]);